<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
!function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e instanceof CSSUnitValue||e instanceof CSSMathSum)return e;if(!t)return null;var n=e.trim().match(/^(-?[0-9]*\.?[0-9]*)(px|%)$/);return n?new CSSUnitValue(n[1],"%"==n[2]?"percent":n[2]):null}!function(){var e,i=new WeakMap;function r(e){for(var t,n=[],i=0;i<e.length;i++)n[i]="number"==typeof(t=e[i])?new CSSUnitValue(t,"number"):t;return n}var a=function(){function e(e,t,n,a){i.set(this,{values:r(e),operator:t,name:n||t,delimiter:a||", "})}return e.prototype.toString=function(){var e=i.get(this);return e.name+"("+e.values.join(e.delimiter)+")"},t(e,[{key:"operator",get:function(){return i.get(this).operator}},{key:"values",get:function(){return i.get(this).values}}]),e}(),o=((e={CSSUnitValue:function(){function e(e,t){i.set(this,{value:e,unit:t})}return e.prototype.toString=function(){var e=i.get(this);return""+e.value+function(e){switch(e){case"percent":return"%";case"number":return"";default:return e.toLowerCase()}}(e.unit)},t(e,[{key:"value",get:function(){return i.get(this).value},set:function(e){i.get(this).value=e}},{key:"unit",get:function(){return i.get(this).unit}}]),e}(),CSSKeywordValue:function(){function e(e){this.value=e}return e.prototype.toString=function(){return this.value.toString()},e}(),CSSMathSum:function(e){function t(t){return e.call(this,arguments,"sum","calc"," + ")||this}return n(t,e),t}(a),CSSMathProduct:function(e){function t(t){return e.call(this,arguments,"product","calc"," * ")||this}return n(t,e),t}(a),CSSMathNegate:function(e){function t(t){return e.call(this,[arguments[0]],"negate","-")||this}return n(t,e),t}(a)}).CSSMathNegate=function(e){function t(t){return e.call(this,[1,arguments[0]],"invert","calc"," / ")||this}return n(t,e),t}(a),e.CSSMathMax=function(e){function t(){return e.call(this,arguments,"max")||this}return n(t,e),t}(a),e.CSSMathMin=function(e){function t(){return e.call(this,arguments,"min")||this}return n(t,e),t}(a),e);if(!window.CSS&&!Reflect.defineProperty(window,"CSS",{value:{}}))throw Error("Error installing CSSOM support");for(var l in window.CSSUnitValue||["number","percent","em","ex","px","cm","mm","in","pt","pc","Q","vw","vh","vmin","vmax","rems","ch","deg","rad","grad","turn","ms","s","Hz","kHz","dppx","dpi","dpcm","fr"].forEach(function(e){if(!Reflect.defineProperty(CSS,e,{value:function(t){return new CSSUnitValue(t,e)}}))throw Error("Error installing CSS."+e)}),o)if(!(l in window)&&!Reflect.defineProperty(window,l,{value:o[l]}))throw Error("Error installing CSSOM support for "+l)}();var l=new CSSKeywordValue("auto"),u=new WeakMap,s=[];function c(e){return e===document.scrollingElement?document:e}function m(e){var t=u.get(e).animations;if(0!==t.length)for(var n=e.currentTime,i=0;i<t.length;i++)t[i].tickAnimation(n)}function f(e,t){var n="horizontal-tb"==getComputedStyle(e).writingMode,i=e.scrollTop;return("horizontal"==t||"inline"==t&&n||"block"==t&&!n)&&(i=Math.abs(e.scrollLeft)),i}function h(e,t){if(e instanceof CSSUnitValue){if("percent"==e.unit)return e.value*t/100;if("px"==e.unit)return e.value;throw TypeError("Unhandled unit type "+e.unit)}if(e instanceof CSSMathSum){for(var n,i=0,r=a(e.values);!(n=r()).done;)i+=h(n.value,t);return i}throw TypeError("Unsupported value type: "+typeof e)}function p(e,t,n,i,r){if(r)return r(t,n,i,0==e.value?"start":"end");"block"===n?n="vertical":"inline"===n&&(n="horizontal");var a="vertical"===n?t.scrollHeight-t.clientHeight:t.scrollWidth-t.clientWidth;return h(o(i===l?e:i),a)}function d(e,t,n,i){var r=[],a=!0;0==n.length?(r.push(p(new CSSUnitValue(0,"percent"),e,t,l)),a=!1,r.push(p(new CSSUnitValue(100,"percent"),e,t,l))):1==n.length&&(r.push(p(new CSSUnitValue(0,"percent"),e,t,l)),a=!1);for(var o=0;o<n.length;o++){var u=p(a?new CSSUnitValue(0,"percent"):new CSSUnitValue(100,"percent"),e,t,n[o],i[o]);if(null===u)return[];r.push(u),a=!1}return r}function g(e,t){for(var n=u.get(e).animations,i=0;i<n.length;i++)n[i].animation==t&&n.splice(i,1)}function v(e,t,n){for(var i=u.get(e).animations,r=0;r<i.length;r++)if(i[r].animation==t)return;i.push({animation:t,tickAnimation:n}),m(e)}var y=function(){function e(e){u.set(this,{scrollSource:null,orientation:"block",scrollOffsets:[],animations:[],scrollOffsetFns:[]}),this.scrollSource=e&&void 0!==e.scrollSource?e.scrollSource:document.scrollingElement,this.orientation=e&&e.orientation||"block",this.scrollOffsets=e&&void 0!==e.scrollOffsets?e.scrollOffsets:[]}return t(e,[{key:"scrollSource",get:function(){return u.get(this).scrollSource},set:function(e){var t=this;this.scrollSource&&c(this.scrollSource).removeEventListener("scroll",function(){return m(t)}),u.get(this).scrollSource=e,e&&c(e).addEventListener("scroll",function(){return m(t)}),m(this)}},{key:"orientation",get:function(){return u.get(this).orientation},set:function(e){if(-1===["block","inline","horizontal","vertical"].indexOf(e))throw TypeError("Invalid orientation");u.get(this).orientation=e,m(this)}},{key:"scrollOffsets",get:function(){return u.get(this).scrollOffsets},set:function(e){for(var t,n=[],i=[],r=a(e);!(t=r()).done;){var c=t.value,f=null,h=void 0;"auto"==c&&(c=l);for(var p=0;p<s.length;p++){var d=s[p].parse(c);if(void 0!==d){h=d,f=s[p].evaluate;break}}if(!f){if(c!=l){var g=o(c);if(!g||g instanceof CSSUnitValue&&"number"==g.unit)throw TypeError("Invalid scrollOffsets entry.")}h=c}n.push(h),i.push(f)}if(1==n.length&&n[0]==l)throw TypeError("Invalid scrollOffsets value.");var v=u.get(this);v.scrollOffsets=n,v.scrollOffsetFns=i,m(this)}},{key:"duration",get:function(){return CSS.percent(100)}},{key:"phase",get:function(){if(!this.scrollSource)return"inactive";var e=getComputedStyle(this.scrollSource);if("none"==e.display)return"inactive";if(this.scrollSource!=document.scrollingElement&&("visible"==e.overflow||"clip"==e.overflow))return"inactive";var t=d(this.scrollSource,this.orientation,this.scrollOffsets,u.get(this).scrollOffsetFns);if(0==t.length)return"inactive";var n=p(new CSSUnitValue(100,"percent"),this.scrollSource,this.orientation,new CSSUnitValue(100,"percent"),null),i=t[0],r=t[t.length-1],a=f(this.scrollSource,this.orientation);return a<i?"before":a>=r&&r<n?"after":"active"}},{key:"currentTime",get:function(){if(!this.scrollSource)return null;if("inactive"==this.phase)return null;var e=d(this.scrollSource,this.orientation,this.scrollOffsets,u.get(this).scrollOffsetFns),t=e[0],n=e[e.length-1],i=f(this.scrollSource,this.orientation);if(i<t)return CSS.percent(0);if(i>=n)return CSS.percent(100);var r=function(e,t){var n;for(n=t.length-2;n>=0&&!(t[n]<=e&&e<t[n+1]);n--);var i=t[n];return(n+(e-i)/(t[n+1]-i))*(1/(t.length-1))}(i,e);return CSS.percent(100*r)}},{key:"__polyfill",get:function(){return!0}}]),e}(),T=window.Element.prototype.animate,S=window.Animation,k=function(){function e(){var e=this;this.state="pending",this.nativeResolve=this.nativeReject=null,this.promise=new Promise(function(t,n){e.nativeResolve=t,e.nativeReject=n})}var t=e.prototype;return t.resolve=function(e){this.state="resolved",this.nativeResolve(e)},t.reject=function(e){this.state="rejected",this.promise.catch(function(){}),this.nativeReject(e)},e}();function w(e){e.readyPromise=new k,requestAnimationFrame(function(){null!==e.timeline.currentTime&&D(e)})}function b(){return new DOMException("The user aborted a request","AbortError")}function P(e,t){if(null===t)return t;if("number"!=typeof t)throw new DOMException("Unexpected value: "+t+".  Cannot convert to CssNumberish","InvalidStateError");var n=U(e);return CSS.percent(n?100*t/n:0)}function C(e,t){if(e.timeline){if(null===t)return t;if("percent"===t.unit){var n=U(e);return t.value*n/100}throw new DOMException("CSSNumericValue must be a percentage for progress based animations.","NotSupportedError")}if(null==t||"number"==typeof t)return t;var i=t.to("ms");if(convertTime)return i.value;throw new DOMException("CSSNumericValue must be either a number or a time value for time based animations.","InvalidStateError")}function E(e){if(e.finishedPromise&&"pending"==e.finishedPromise.state&&"finished"==e.proxy.playState){e.finishedPromise.resolve(e.proxy),e.animation.pause();var t=new CustomEvent("finish",{detail:{currentTime:e.proxy.currentTime,timelineTime:e.proxy.timeline.currentTime}});Object.defineProperty(t,"currentTime",{get:function(){return this.detail.currentTime}}),Object.defineProperty(t,"timelineTime",{get:function(){return this.detail.timelineTime}}),requestAnimationFrame(function(){queueMicrotask(function(){e.animation.dispatchEvent(t)})})}}function R(e){return null!==e.pendingPlaybackRate?e.pendingPlaybackRate:e.animation.playbackRate}function x(e){null!==e.pendingPlaybackRate&&(e.animation.playbackRate=e.pendingPlaybackRate,e.pendingPlaybackRate=null)}function O(e){if(!e.timeline)return null;var t=C(e,e.timeline.currentTime);if(null===t)return null;if(null===e.startTime)return null;var n=(t-e.startTime)*e.animation.playbackRate;return-0==n&&(n=0),n}function M(e,t){if(!e.timeline)return null;var n=C(e,e.timeline.currentTime);return null==n?null:n-t/e.animation.playbackRate}function I(e,t,n){if(e.timeline){var i=t?C(e,e.proxy.currentTime):O(e);if(i&&null!=e.startTime&&!e.proxy.pending){var r=R(e),a=U(e),o=e.previousCurrentTime;r>0&&i>=a?((null===o||o<a)&&(o=a),e.holdTime=t?i:o):r<0&&i<=0?((null==o||o>0)&&(o=0),e.holdTime=t?i:o):0!=r&&(t&&null!==e.holdTime&&(e.startTime=M(e,e.holdTime)),e.holdTime=null)}j(e),e.previousCurrentTime=C(e,e.proxy.currentTime),"finished"==e.proxy.playState?(e.finishedPromise||(e.finishedPromise=new k),"pending"==e.finishedPromise.state&&(n?E(e):Promise.resolve().then(function(){E(e)}))):(e.finishedPromise&&"resolved"==e.finishedPromise.state&&(e.finishedPromise=new k),"paused"!=e.animation.playState&&e.animation.pause())}}function U(e){var t=function(e){var t=e.proxy.effect.getTiming();return e.normalizedTiming||t}(e);return Math.max(0,t.delay+t.endDelay+t.iterations*t.duration)}function j(e){if(e.timeline)if(null!==e.startTime){var t=C(e,e.timeline.currentTime);e.animation.currentTime=(t-e.startTime)*e.animation.playbackRate}else null!==e.holdTime&&(e.animation.currentTime=e.holdTime)}function V(e,t){if(e.timeline){var n="paused"==e.proxy.playState&&e.proxy.pending,i=!1,r=null,a=C(e,e.proxy.currentTime);e.resetCurrentTimeOnResume&&(a=null,e.resetCurrentTimeOnResume=!1);var o=R(e),l=U(e);if(o>0&&t&&(null==a||a<0||a>=l))r=0;else if(o<0&&t&&(null==a||a<=0||a>l)){if(Infinity==l)return void e.animation.play();r=l}else 0==o&&null==a&&(r=0);null!=r&&(e.startTime=r,e.holdTime=null,x(e)),v(e.timeline,e.animation,A.bind(e.proxy)),e.holdTime&&(e.startTime=null),e.pendingTask&&(e.pendingTask=null,i=!0),(null!==e.holdTime||null!==r||n||null!==e.pendingPlaybackRate)&&(e.readyPromise&&!i&&(e.readyPromise=null),j(e),e.readyPromise||w(e),e.pendingTask="play",I(e,!1,!1))}}function A(e){var t=z.get(this);if(null!=e){t.pendingTask&&D(t);var n=this.playState;if("running"==n||"finished"==n){var i=C(t,e);t.animation.currentTime=(i-C(t,this.startTime))*this.playbackRate,"finished"==n&&0!=R(t)&&(t.holdTime=null),I(t,!1,!1)}}else"idle"!=t.animation.playState&&t.animation.cancel()}function D(e){"pause"==e.pendingTask?function(e){var t=C(e,e.timeline.currentTime);null!=e.startTime&&null==e.holdTime&&(e.holdTime=(t-e.startTime)*e.animation.playbackRate),x(e),e.startTime=null,e.readyPromise.resolve(e.proxy),I(e,!1,!1),j(e),e.pendingTask=null}(e):"play"==e.pendingTask&&function(e){var t=C(e,e.timeline.currentTime);if(null!=e.holdTime)x(e),0==e.animation.playbackRate?e.startTime=t:(e.startTime=t-e.holdTime/e.animation.playbackRate,e.holdTime=null);else if(null!==e.startTime&&null!==e.pendingPlaybackRate){var n=(t-e.startTime)*e.animation.playbackRate;x(e);var i=e.animation.playbackRate;0==i?(e.holdTime=null,e.startTime=t):e.startTime=t-n/i}e.readyPromise&&"pending"==e.readyPromise.state&&e.readyPromise.resolve(e.proxy),I(e,!1,!1),j(e),e.pendingTask=null}(e)}var z=new WeakMap,W=function(){function e(e,t){var n=e instanceof S?e:new S(e,r),i=t instanceof y,r=i?void 0:t;z.set(this,{animation:n,timeline:i?t:void 0,playState:i?"idle":null,readyPromise:null,finishedPromise:null,startTime:null,holdTime:null,previousCurrentTime:null,resetCurrentTimeOnResume:!1,pendingPlaybackRate:null,pendingTask:null,specifiedTiming:null,normalizedTiming:null,effect:null,proxy:this})}var n=e.prototype;return n.finish=function(){var e=z.get(this);if(e.timeline){var t=R(e),n=U(e);if(0==t)throw new DOMException("Cannot finish Animation with a playbackRate of 0.","InvalidStateError");if(t>0&&Infinity==n)throw new DOMException("Cannot finish Animation with an infinite target effect end.","InvalidStateError");x(e);var i=t<0?0:n;this.currentTime=P(e,i);var r=C(e,e.timeline.currentTime);null===e.startTime&&null!==r&&(e.startTime=r-i/e.animation.playbackRate),"pause"==e.pendingTask&&null!==e.startTime&&(e.holdTime=null,e.pendingTask=null,e.readyPromise.resolve(this)),"play"==e.pendingTask&&null!==e.startTime&&(e.pendingTask=null,e.readyPromise.resolve(this)),I(e,!0,!0)}else e.animation.finish()},n.play=function(){var e=z.get(this);e.timeline?V(e,!0):e.animation.play()},n.pause=function(){var e=z.get(this);if(e.timeline){if("paused"!=this.playState){var t=null,n=e.animation.playbackRate,i=U(e);if(null===e.animation.currentTime)if(n>=0)t=0;else{if(Infinity==i)return void e.animation.pause();t=i}null!==t&&(e.startTime=t),"play"==e.pendingTask?e.pendingTask=null:e.readyPromise=null,e.readyPromise||w(e),e.pendingTask="pause"}}else e.animation.pause()},n.reverse=function(){var e=z.get(this),t=R(e),n=e.resetCurrentTimeOnResume?null:C(e,this.currentTime),i=Infinity==U(e),r=0!=t&&(t<0||n>0||!i);if(!e.timeline||!r)return r&&(e.pendingPlaybackRate=-R(e)),void e.animation.reverse();if("inactive"==e.timeline.phase)throw new DOMException("Cannot reverse an animation with no active timeline","InvalidStateError");this.updatePlaybackRate(-t),V(e,!0)},n.updatePlaybackRate=function(e){var t=z.get(this);if(t.pendingPlaybackRate=e,t.timeline){if(!t.readyPromise||"pending"!=t.readyPromise.state)switch(this.playState){case"idle":case"paused":x(t);break;case"finished":var n=C(t,t.timeline.currentTime),i=null!==n?(n-t.startTime)*t.animation.playbackRate:null;t.startTime=0==e?n:null!=n&&null!=i?(n-i)/e:null,x(t),I(t,!1,!1),j(t);break;default:V(t,!1)}}else t.animation.updatePlaybackRate(e)},n.persist=function(){z.get(this).animation.persist()},n.cancel=function(){var e=z.get(this);e.timeline?("idle"!=this.playState&&(function(e){e.pendingTask&&(e.pendingTask=null,x(e),e.readyPromise.reject(b()),w(e),e.readyPromise.resolve(e.proxy))}(e),e.finishedPromise&&"pending"==e.finishedPromise.state&&e.finishedPromise.reject(b()),e.finishedPromise=new k,e.animation.cancel()),e.startTime=null,e.holdTime=null,g(e.timeline,e.animation)):e.animation.cancel()},n.addEventListener=function(e,t,n){z.get(this).animation.addEventListener(e,t,n)},n.removeEventListener=function(e,t,n){z.get(this).animation.removeEventListener(e,t,n)},n.dispatchEvent=function(e){z.get(this).animation.dispatchEvent(e)},t(e,[{key:"effect",get:function(){var e=z.get(this);return e.timeline?(e.effect||(e.effect=function(e){var t=e.animation.effect,n=t.updateTiming,i={apply:function(n){t.getTiming();var i=n.apply(t);if(e.timeline){i.localTime=P(e,i.localTime),i.endTime=P(e,i.endTime),i.activeDuration=P(e,i.activeDuration);var r=U(e);i.duration=r?CSS.percent(100*(i.iterations?(r-i.delay-i.endDelay)/i.iterations:0)/r):CSS.percent(0);var a=e.timeline.phase,o=i.fill;"before"==a&&"backwards"!=o&&"both"!=o&&(i.progress=null),"after"==a&&"forwards"!=o&&"both"!=o&&(i.progress=null),void 0===e.timeline.currentTime&&(i.localTime=null)}return i}},r={apply:function(i,r){if(e.specifiedTiming)return e.specifiedTiming;e.specifiedTiming=i.apply(t);var a=Object.assign({},e.specifiedTiming);return null!==a.duration&&"auto"!==a.duration||e.timeline&&(a.delay=0,a.endDelay=0,a.duration=a.iterations?(a.iterations?1e5:0)/a.iterations:0,n.apply(t,[a])),e.normalizedTiming=a,e.specifiedTiming}},a={apply:function(n,i,r){if(e.timeline){var a=r[0];if(Infinity===a.duration)throw TypeError("Effect duration cannot be Infinity when used with Scroll Timelines");if(Infinity===a.iterations)throw TypeError("Effect iterations cannot be Infinity when used with Scroll Timelines")}e.specifiedTiming&&n.apply(t,[e.specifiedTiming]),n.apply(t,r),e.specifiedTiming=null}};return proxy=new Proxy(t,{get:function(e,n){var i=e[n];return"function"==typeof i?i.bind(t):i},set:function(e,t,n){return e[t]=n,!0}}),proxy.getComputedTiming=new Proxy(t.getComputedTiming,i),proxy.getTiming=new Proxy(t.getTiming,r),proxy.updateTiming=new Proxy(t.updateTiming,a),proxy}(e)),e.effect):e.animation.effect},set:function(e){z.get(this).animation.effect=e,details.effect=null}},{key:"timeline",get:function(){var e=z.get(this);return e.timeline||e.animation.timeline},set:function(e){var t=this.timeline;if(t!=e){var n=this.playState,i=this.currentTime,r=z.get(this),a=U(r),o=a>0?C(r,i)/a:0,l=t instanceof y,u=e instanceof y;r.resetCurrentTimeOnResume=!1;var s=this.pending;if(l&&g(r.timeline,r.animation),u){r.timeline=e,x(r);var c=r.animation.playbackRate>=0?0:U(r);switch(n){case"running":case"finished":r.startTime=c,v(r.timeline,r.animation,A.bind(this));break;case"paused":r.resetCurrentTimeOnResume=!0,r.startTime=null,r.holdTime=C(r,CSS.percent(100*o));break;default:r.holdTime=null,r.startTime=null}return s&&(r.readyPromise&&"resolved"!=r.readyPromise.state||w(r),r.pendingTask="paused"==n?"pause":"play"),null!==r.startTime&&(r.holdTime=null),void I(r,!1,!1)}if(r.animation.timeline!=e)throw TypeError("Unsupported timeline: "+e);if(g(r.timeline,r.animation),r.timeline=null,l)switch(null!==i&&(r.animation.currentTime=o*U(r)),n){case"paused":r.animation.pause();break;case"running":case"finished":r.animation.play()}}}},{key:"startTime",get:function(){var e=z.get(this);return e.timeline?P(e,e.startTime):e.animation.startTime},set:function(e){var t=z.get(this);if(e=C(t,e),t.timeline){null==C(t,t.timeline.currentTime)&&null!=t.startTime&&(t.holdTime=null,j(t));var n=C(t,this.currentTime);x(t),t.startTime=e,t.resetCurrentTimeOnResume=!1,t.holdTime=null!==t.startTime&&0!=t.animation.playbackRate?null:n,t.pendingTask&&(t.pendingTask=null,t.readyPromise.resolve(this)),I(t,!0,!1),j(t)}else t.animation.startTime=e}},{key:"currentTime",get:function(){var e=z.get(this);return e.timeline?P(e,null!=e.holdTime?e.holdTime:O(e)):e.animation.currentTime},set:function(e){var t=z.get(this);if(e=C(t,e),t.timeline&&null!=e){var n=t.timeline.phase;null!==t.holdTime||null===t.startTime||"inactive"==n||0==t.animation.playbackRate?t.holdTime=e:t.startTime=M(t,e),t.resetCurrentTimeOnResume=!1,"inactive"==n&&(t.startTime=null),t.previousCurrentTime=null,"pause"==t.pendingTask&&(t.holdTime=e,x(t),t.startTime=null,t.pendingTask=null,t.readyPromise.resolve(this)),I(t,!0,!1)}else t.animation.currentTime=e}},{key:"playbackRate",get:function(){return z.get(this).animation.playbackRate},set:function(e){var t=z.get(this);if(t.timeline){t.pendingPlaybackRate=null;var n=this.currentTime;t.animation.playbackRate=e,null!==n&&(this.currentTime=n)}else t.animation.playbackRate=e}},{key:"playState",get:function(){var e=z.get(this);if(!e.timeline)return e.animation.playState;var t=C(e,this.currentTime);if(null===t&&null===e.startTime&&null==e.pendingTask)return"idle";if("pause"==e.pendingTask||null===e.startTime&&"play"!=e.pendingTask)return"paused";if(null!=t){if(e.animation.playbackRate>0&&t>=U(e))return"finished";if(e.animation.playbackRate<0&&t<=0)return"finished"}return"running"}},{key:"replaceState",get:function(){return z.get(this).animation.pending}},{key:"pending",get:function(){var e=z.get(this);return e.timeline?!!e.readyPromise&&"pending"==e.readyPromise.state:e.animation.pending}},{key:"id",get:function(){return z.get(this).animation.id}},{key:"onfinish",get:function(){return z.get(this).animation.onfinish},set:function(e){z.get(this).animation.onfinish=e}},{key:"oncancel",get:function(){return z.get(this).animation.oncancel},set:function(e){z.get(this).animation.oncancel=e}},{key:"onremove",get:function(){return z.get(this).animation.onremove},set:function(e){z.get(this).animation.onremove=e}},{key:"finished",get:function(){var e=z.get(this);return e.timeline?(e.finishedPromise||(e.finishedPromise=new k),e.finishedPromise.promise):e.animation.finished}},{key:"ready",get:function(){var e=z.get(this);return e.timeline?(e.readyPromise||(e.readyPromise=new k,e.readyPromise.resolve(this)),e.readyPromise.promise):e.animation.ready}}]),e}(),L=new WeakMap,F=[[[0,1,2,3]],[[0,2],[1,3]],[[0],[1,3],[2]],[[0],[1],[2],[3]]],H=function(){function e(e){L.set(this,{target:null,edge:"start",threshold:0,rootMargin:[[0,"px"],[0,"px"],[0,"px"],[0,"px"]]}),this.target=e.target,this.edge=e.edge||"start",this.threshold=e.threshold||0,this.rootMargin=e.rootMargin||"0px 0px 0px 0px",this.clamp=e.clamp||!1}return t(e,[{key:"target",get:function(){return L.get(this).target},set:function(e){if(!(e instanceof Element))throw L.get(this).target=null,Error("Intersection target must be an element.");L.get(this).target=e}},{key:"edge",get:function(){return L.get(this).edge},set:function(e){-1!=["start","end"].indexOf(e)&&(L.get(this).edge=e)}},{key:"threshold",get:function(){return L.get(this).threshold},set:function(e){var t=parseFloat(e);if(t!=t)throw TypeError("Invalid threshold.");if(t<0||t>1)throw TypeError("threshold must be in the range [0, 1]");L.get(this).threshold=t}},{key:"rootMargin",get:function(){return L.get(this).rootMargin.map(function(e){return e.join("")}).join(" ")},set:function(e){var t=e.split(/ +/);if(t.length<1||t.length>4)throw TypeError("rootMargin must contain between 1 and 4 length components");for(var n=[[],[],[],[]],i=0;i<t.length;i++){var r=o(t[i],!0);if(!r)throw TypeError("Unrecognized rootMargin length");for(var a=F[t.length-1][i],l=0;l<a.length;l++)n[a[l]]=[parseFloat(r.value),r.unit]}L.get(this).rootMargin=n}},{key:"clamp",set:function(e){L.get(this).clamp=!!e}}]),e}();if(s.push({parse:function(e){if(e.target)return new H(e)},evaluate:function(e,t,n,i){"block"==t?t="vertical":"inline"==t&&(t="horizontal");for(var r,a=e==document.scrollingElement?{left:0,right:e.clientWidth,top:0,bottom:e.clientHeight,width:e.clientWidth,height:e.clientHeight}:e.getBoundingClientRect(),o=L.get(n).rootMargin,l=[],u=0;u<4;u++)l.push("percent"==(r=o[u])[1]?r[0]*(u%2==0?a.height:a.width)/100:r[0]);var s=a.left-l[3],c=a.right-a.left+l[3]+l[1],m=a.top-l[0],f=a.bottom-a.top+l[0]+l[2],h=L.get(n).clamp,p=n.target.getBoundingClientRect(),d=n.threshold;if("start"==n.edge&&(d=1-d),"vertical"==t){var g=p.top+p.height*d-m+e.scrollTop;return h?"end"==n.edge?Math.max(0,g-f):Math.min(g,e.scrollHeight-f):"end"==n.edge?g-f:g}var v=p.left+p.width*d-s+e.scrollLeft;return h?"end"==n.edge?Math.max(0,v-c):Math.min(v,e.scrollWidth-c):"end"==n.edge?v-c:v}}),!Reflect.defineProperty(window,"ScrollTimeline",{value:y}))throw Error("Error installing ScrollTimeline polyfill: could not attach ScrollTimeline to window");if(!Reflect.defineProperty(Element.prototype,"animate",{value:function(e,t){var n=t.timeline;n instanceof y&&delete t.timeline;var i=T.apply(this,[e,t]),r=new W(i,n);return n instanceof y&&(i.pause(),r.play()),r}}))throw Error("Error installing ScrollTimeline polyfill: could not attach WAAPI's animate to DOM Element");if(!Reflect.defineProperty(window,"Animation",{value:W}))throw Error("Error installing Animation constructor.")}();
=======
!function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e instanceof CSSUnitValue||e instanceof CSSMathSum)return e;if(!t)return null;var n=e.trim().match(/^(-?[0-9]*\.?[0-9]*)(px|%)$/);return n?new CSSUnitValue(n[1],"%"==n[2]?"percent":n[2]):null}!function(){var e,i=new WeakMap;function r(e){for(var t,n=[],i=0;i<e.length;i++)n[i]="number"==typeof(t=e[i])?new CSSUnitValue(t,"number"):t;return n}var a=function(){function e(e,t,n,a){i.set(this,{values:r(e),operator:t,name:n||t,delimiter:a||", "})}return e.prototype.toString=function(){var e=i.get(this);return e.name+"("+e.values.join(e.delimiter)+")"},t(e,[{key:"operator",get:function(){return i.get(this).operator}},{key:"values",get:function(){return i.get(this).values}}]),e}(),o=((e={CSSUnitValue:function(){function e(e,t){i.set(this,{value:e,unit:t})}return e.prototype.toString=function(){var e=i.get(this);return""+e.value+function(e){switch(e){case"percent":return"%";case"number":return"";default:return e.toLowerCase()}}(e.unit)},t(e,[{key:"value",get:function(){return i.get(this).value},set:function(e){i.get(this).value=e}},{key:"unit",get:function(){return i.get(this).unit}}]),e}(),CSSKeywordValue:function(){function e(e){this.value=e}return e.prototype.toString=function(){return this.value.toString()},e}(),CSSMathSum:function(e){function t(t){return e.call(this,arguments,"sum","calc"," + ")||this}return n(t,e),t}(a),CSSMathProduct:function(e){function t(t){return e.call(this,arguments,"product","calc"," * ")||this}return n(t,e),t}(a),CSSMathNegate:function(e){function t(t){return e.call(this,[arguments[0]],"negate","-")||this}return n(t,e),t}(a)}).CSSMathNegate=function(e){function t(t){return e.call(this,[1,arguments[0]],"invert","calc"," / ")||this}return n(t,e),t}(a),e.CSSMathMax=function(e){function t(){return e.call(this,arguments,"max")||this}return n(t,e),t}(a),e.CSSMathMin=function(e){function t(){return e.call(this,arguments,"min")||this}return n(t,e),t}(a),e);if(!window.CSS&&!Reflect.defineProperty(window,"CSS",{value:{}}))throw Error("Error installing CSSOM support");for(var l in window.CSSUnitValue||["number","percent","em","ex","px","cm","mm","in","pt","pc","Q","vw","vh","vmin","vmax","rems","ch","deg","rad","grad","turn","ms","s","Hz","kHz","dppx","dpi","dpcm","fr"].forEach(function(e){if(!Reflect.defineProperty(CSS,e,{value:function(t){return new CSSUnitValue(t,e)}}))throw Error("Error installing CSS."+e)}),o)if(!(l in window)&&!Reflect.defineProperty(window,l,{value:o[l]}))throw Error("Error installing CSSOM support for "+l)}();var l=new CSSKeywordValue("auto"),s=new WeakMap,u=[];function c(e){return e===document.scrollingElement?document:e}function m(e){var t=s.get(e).animations;if(0!==t.length)for(var n=e.currentTime,i=0;i<t.length;i++)t[i].tickAnimation(n)}function f(e,t){var n="horizontal-tb"==getComputedStyle(e).writingMode,i=e.scrollTop;return("horizontal"==t||"inline"==t&&n||"block"==t&&!n)&&(i=Math.abs(e.scrollLeft)),i}function h(e,t){if(e instanceof CSSUnitValue){if("percent"==e.unit)return e.value*t/100;if("px"==e.unit)return e.value;throw TypeError("Unhandled unit type "+e.unit)}if(e instanceof CSSMathSum){for(var n,i=0,r=a(e.values);!(n=r()).done;)i+=h(n.value,t);return i}throw TypeError("Unsupported value type: "+typeof e)}function p(e,t,n,i,r){if(r)return r(t,n,i,0==e.value?"start":"end");"block"===n?n="vertical":"inline"===n&&(n="horizontal");var a="vertical"===n?t.scrollHeight-t.clientHeight:t.scrollWidth-t.clientWidth;return h(o(i===l?e:i),a)}function d(e,t,n,i){var r=[],a=!0;0==n.length?(r.push(p(new CSSUnitValue(0,"percent"),e,t,l)),a=!1,r.push(p(new CSSUnitValue(100,"percent"),e,t,l))):1==n.length&&(r.push(p(new CSSUnitValue(0,"percent"),e,t,l)),a=!1);for(var o=0;o<n.length;o++){var s=p(a?new CSSUnitValue(0,"percent"):new CSSUnitValue(100,"percent"),e,t,n[o],i[o]);if(null===s)return[];r.push(s),a=!1}return r}function g(e,t){for(var n=s.get(e).animations,i=0;i<n.length;i++)n[i].animation==t&&n.splice(i,1)}function v(e,t,n){for(var i=s.get(e).animations,r=0;r<i.length;r++)if(i[r].animation==t)return;i.push({animation:t,tickAnimation:n}),m(e)}var y=function(){function e(e){s.set(this,{scrollSource:null,orientation:"block",scrollOffsets:[],timeRange:l,animations:[],scrollOffsetFns:[]}),this.scrollSource=e&&void 0!==e.scrollSource?e.scrollSource:document.scrollingElement,this.orientation=e&&e.orientation||"block",this.scrollOffsets=e&&void 0!==e.scrollOffsets?e.scrollOffsets:[],this.timeRange=e&&void 0!==e.timeRange?e.timeRange:"auto"}return t(e,[{key:"scrollSource",get:function(){return s.get(this).scrollSource},set:function(e){var t=this;this.scrollSource&&c(this.scrollSource).removeEventListener("scroll",function(){return m(t)}),s.get(this).scrollSource=e,e&&c(e).addEventListener("scroll",function(){return m(t)}),m(this)}},{key:"orientation",get:function(){return s.get(this).orientation},set:function(e){if(-1===["block","inline","horizontal","vertical"].indexOf(e))throw TypeError("Invalid orientation");s.get(this).orientation=e,m(this)}},{key:"scrollOffsets",get:function(){return s.get(this).scrollOffsets},set:function(e){for(var t,n=[],i=[],r=a(e);!(t=r()).done;){var c=t.value,f=null,h=void 0;"auto"==c&&(c=l);for(var p=0;p<u.length;p++){var d=u[p].parse(c);if(void 0!==d){h=d,f=u[p].evaluate;break}}if(!f){if(c!=l){var g=o(c);if(!g||g instanceof CSSUnitValue&&"number"==g.unit)throw TypeError("Invalid scrollOffsets entry.")}h=c}n.push(h),i.push(f)}if(1==n.length&&n[0]==l)throw TypeError("Invalid scrollOffsets value.");var v=s.get(this);v.scrollOffsets=n,v.scrollOffsetFns=i,m(this)}},{key:"timeRange",get:function(){return s.get(this).timeRange},set:function(e){if("auto"!=e&&("number"!=typeof e||!Number.isFinite(e)||e!=e))throw TypeError("Invalid timeRange value");s.get(this).timeRange=e,m(this)}},{key:"phase",get:function(){if(!this.scrollSource)return"inactive";var e=getComputedStyle(this.scrollSource);if("none"==e.display)return"inactive";if(this.scrollSource!=document.scrollingElement&&("visible"==e.overflow||"clip"==e.overflow))return"inactive";var t=d(this.scrollSource,this.orientation,this.scrollOffsets,s.get(this).scrollOffsetFns);if(0==t.length)return"inactive";var n=p(new CSSUnitValue(100,"percent"),this.scrollSource,this.orientation,new CSSUnitValue(100,"percent"),null),i=t[0],r=t[t.length-1],a=f(this.scrollSource,this.orientation);return a<i?"before":a>=r&&r<n?"after":"active"}},{key:"currentTime",get:function(){if(!this.scrollSource)return null;if("inactive"==this.phase)return null;var e=d(this.scrollSource,this.orientation,this.scrollOffsets,s.get(this).scrollOffsetFns),t=e[0],n=e[e.length-1],i=function(e){var t=e.timeRange;if(t==l){t=0;for(var n=s.get(e).animations,i=0;i<n.length;i++)t=Math.max(t,n[i].animation.effect.getComputedTiming().activeDuration);Infinity===t&&(t=0)}return t}(this),r=f(this.scrollSource,this.orientation);return r<t?0:r>=n?i:function(e,t){var n;for(n=t.length-2;n>=0&&!(t[n]<=e&&e<t[n+1]);n--);var i=t[n];return(n+(e-i)/(t[n+1]-i))*(1/(t.length-1))}(r,e)*i}},{key:"__polyfill",get:function(){return!0}}]),e}(),T=window.Element.prototype.animate,S=window.Animation,k=function(){function e(){var e=this;this.state="pending",this.nativeResolve=this.nativeReject=null,this.promise=new Promise(function(t,n){e.nativeResolve=t,e.nativeReject=n})}var t=e.prototype;return t.resolve=function(e){this.state="resolved",this.nativeResolve(e)},t.reject=function(e){this.state="rejected",this.promise.catch(function(){}),this.nativeReject(e)},e}();function w(e){e.readyPromise=new k,requestAnimationFrame(function(){null!==e.timeline.currentTime&&V(e)})}function b(){return new DOMException("The user aborted a request","AbortError")}function P(e){e.finishedPromise&&"pending"==e.finishedPromise.state&&"finished"==e.proxy.playState&&(e.finishedPromise.resolve(e.proxy),e.animation.finish(),e.animation.pause())}function R(e){return null!==e.pendingPlaybackRate?e.pendingPlaybackRate:e.animation.playbackRate}function C(e){null!==e.pendingPlaybackRate&&(e.animation.playbackRate=e.pendingPlaybackRate,e.pendingPlaybackRate=null)}function E(e){if(!e.timeline)return null;var t=e.timeline.currentTime;if(null===t)return null;if(null===e.startTime)return null;var n=(t-e.startTime)*e.animation.playbackRate;return-0==n&&(n=0),n}function x(e,t){if(!e.timeline)return null;var n=e.timeline.currentTime;return null==n?null:n-t/e.animation.playbackRate}function M(e,t,n){if(e.timeline){var i=t?e.proxy.currentTime:E(e);if(i&&null!=e.startTime&&!e.proxy.pending){var r=R(e),a=O(e),o=e.previousCurrentTime;r>0&&i>=a?((null===o||o<a)&&(o=a),e.holdTime=t?i:o):r<0&&i<=0?((null==o||o>0)&&(o=0),e.holdTime=t?i:o):0!=r&&(t&&null!==e.holdTime&&(e.startTime=x(e,e.holdTime)),e.holdTime=null)}U(e),e.previousCurrentTime=e.proxy.currentTime,"finished"==e.proxy.playState?(e.finishedPromise||(e.finishedPromise=new k),"pending"==e.finishedPromise.state&&(n?P(e):Promise.resolve().then(function(){P(e)}))):(e.finishedPromise&&"resolved"==e.finishedPromise.state&&(e.finishedPromise=new k),"paused"!=e.animation.playState&&e.animation.pause())}}function O(e){var t=e.animation.effect.getTiming();return Math.max(0,t.delay+t.endDelay+t.iterations*t.duration)}function U(e){e.timeline&&(null!==e.startTime?e.animation.currentTime=(e.timeline.currentTime-e.startTime)*e.animation.playbackRate:null!==e.holdTime&&(e.animation.currentTime=e.holdTime))}function I(e,t){if(e.timeline){var n="paused"==e.proxy.playState&&e.proxy.pending,i=!1,r=null,a=e.proxy.currentTime;e.resetCurrentTimeOnResume&&(a=null,e.resetCurrentTimeOnResume=!1);var o=R(e),l=O(e);if(o>0&&t&&(null==a||a<0||a>=l))r=0;else if(o<0&&t&&(null==a||a<=0||a>l)){if(Infinity==l)return void e.animation.play();r=l}else 0==o&&null==a&&(r=0);null!=r&&(e.startTime=r,e.holdTime=null,C(e)),v(e.timeline,e.animation,A.bind(e.proxy)),e.holdTime&&(e.startTime=null),e.pendingTask&&(e.pendingTask=null,i=!0),(null!==e.holdTime||null!==r||n||null!==e.pendingPlaybackRate)&&(e.readyPromise&&!i&&(e.readyPromise=null),U(e),e.readyPromise||w(e),e.pendingTask="play",M(e,!1,!1))}}function A(e){var t=j.get(this);if(null!=e){t.pendingTask&&V(t);var n=this.playState;"running"!=n&&"finished"!=n||(t.animation.currentTime=(e-this.startTime)*this.playbackRate,"finished"==n&&0!=R(t)&&(t.holdTime=null),M(t,!1,!1))}else"idle"!=t.animation.playState&&t.animation.cancel()}function V(e){"pause"==e.pendingTask?function(e){null!=e.startTime&&null==e.holdTime&&(e.holdTime=(e.timeline.currentTime-e.startTime)*e.animation.playbackRate),C(e),e.startTime=null,e.readyPromise.resolve(e.proxy),M(e,!1,!1),U(e),e.pendingTask=null}(e):"play"==e.pendingTask&&function(e){var t=e.timeline.currentTime;if(null!=e.holdTime)C(e),0==e.animation.playbackRate?e.startTime=t:(e.startTime=t-e.holdTime/e.animation.playbackRate,e.holdTime=null);else if(null!==e.startTime&&null!==e.pendingPlaybackRate){var n=(t-e.startTime)*e.animation.playbackRate;C(e);var i=e.animation.playbackRate;0==i?(e.holdTime=null,e.startTime=t):e.startTime=t-n/i}e.readyPromise&&"pending"==e.readyPromise.state&&e.readyPromise.resolve(e.proxy),M(e,!1,!1),U(e),e.pendingTask=null}(e)}var j=new WeakMap,W=function(){function e(e,t){var n=e instanceof S?e:new S(e,r),i=t instanceof y,r=i?void 0:t;j.set(this,{animation:n,timeline:i?t:void 0,playState:i?"idle":null,readyPromise:null,finishedPromise:null,startTime:null,holdTime:null,previousCurrentTime:null,resetCurrentTimeOnResume:!1,pendingPlaybackRate:null,pendingTask:null,proxy:this})}var n=e.prototype;return n.finish=function(){var e=j.get(this);if(e.timeline){var t=R(e),n=O(e);if(0==t)throw new DOMException("Cannot finish Animation with a playbackRate of 0.","InvalidStateError");if(t>0&&Infinity==n)throw new DOMException("Cannot finish Animation with an infinite target effect end.","InvalidStateError");C(e);var i=t<0?0:n;this.currentTime=i;var r=e.timeline.currentTime;null===e.startTime&&null!==r&&(e.startTime=r-i/e.animation.playbackRate),"pause"==e.pendingTask&&null!==e.startTime&&(e.holdTime=null,e.pendingTask=null,e.readyPromise.resolve(this)),"play"==e.pendingTask&&null!==e.startTime&&(e.pendingTask=null,e.readyPromise.resolve(this)),M(e,!0,!0)}else e.animation.finish()},n.play=function(){var e=j.get(this);e.timeline?I(e,!0):e.animation.play()},n.pause=function(){var e=j.get(this);if(e.timeline){if("paused"!=this.playState){var t=null,n=e.animation.playbackRate,i=O(e);if(null===e.animation.currentTime)if(n>=0)t=0;else{if(Infinity==i)return void e.animation.pause();t=i}null!==t&&(e.startTime=t),"play"==e.pendingTask?e.pendingTask=null:e.readyPromise=null,e.readyPromise||w(e),e.pendingTask="pause"}}else e.animation.pause()},n.reverse=function(){var e=j.get(this),t=R(e),n=e.resetCurrentTimeOnResume?null:this.currentTime,i=Infinity==O(e),r=0!=t&&(t<0||n>0||!i);if(!e.timeline||!r)return r&&(e.pendingPlaybackRate=-R(e)),void e.animation.reverse();if("inactive"==e.timeline.phase)throw new DOMException("Cannot reverse an animation with no active timeline","InvalidStateError");this.updatePlaybackRate(-t),I(e,!0)},n.updatePlaybackRate=function(e){var t=j.get(this);if(t.pendingPlaybackRate=e,t.timeline){if(!t.readyPromise||"pending"!=t.readyPromise.state)switch(this.playState){case"idle":case"paused":C(t);break;case"finished":var n=t.timeline.currentTime,i=null!==n?(n-t.startTime)*t.animation.playbackRate:null;t.startTime=0==e?n:null!=n&&null!=i?(n-i)/e:null,C(t),M(t,!1,!1),U(t);break;default:I(t,!1)}}else t.animation.updatePlaybackRate(e)},n.persist=function(){j.get(this).animation.persist()},n.cancel=function(){var e=j.get(this);e.timeline?("idle"!=this.playState&&(function(e){e.pendingTask&&(e.pendingTask=null,C(e),e.readyPromise.reject(b()),w(e),e.readyPromise.resolve(e.proxy))}(e),e.finishedPromise&&"pending"==e.finishedPromise.state&&e.finishedPromise.reject(b()),e.finishedPromise=new k,e.animation.cancel()),e.startTime=null,e.holdTime=null,g(e.timeline,e.animation)):e.animation.cancel()},n.addEventListener=function(e,t,n){j.get(this).animation.addEventListener(e,t,n)},n.removeEventListener=function(e,t,n){j.get(this).animation.removeEventListener(e,t,n)},n.dispatchEvent=function(e){j.get(this).animation.dispatchEvent(e)},t(e,[{key:"effect",get:function(){return j.get(this).animation.effect},set:function(e){j.get(this).animation.effect=e}},{key:"timeline",get:function(){var e=j.get(this);return e.timeline||e.animation.timeline},set:function(e){var t=this.timeline;if(t!=e){var n=this.playState,i=this.currentTime,r=t instanceof y,a=e instanceof y,o=j.get(this);o.resetCurrentTimeOnResume=!1;var l=this.pending;if(r&&g(o.timeline,o.animation),a){o.timeline=e,C(o);var s=o.animation.playbackRate>=0?0:O(o);switch(n){case"running":case"finished":o.startTime=s,v(o.timeline,o.animation,A.bind(this));break;case"paused":o.resetCurrentTimeOnResume=!0,o.startTime=null,o.holdTime=i;break;default:o.holdTime=null,o.startTime=null}return l&&(o.readyPromise&&"resolved"!=o.readyPromise.state||w(o),o.pendingTask="paused"==n?"pause":"play"),null!==o.startTime&&(o.holdTime=null),void M(o,!1,!1)}if(o.animation.timeline!=e)throw TypeError("Unsupported timeline: "+e);if(g(o.timeline,o.animation),o.timeline=null,r)switch(null!==i&&(o.animation.currentTime=i),n){case"paused":o.animation.pause();break;case"running":case"finished":o.animation.play()}}}},{key:"startTime",get:function(){var e=j.get(this);return e.timeline?e.startTime:e.animation.startTime},set:function(e){var t=j.get(this);if(t.timeline){null==t.timeline.currentTime&&null!=t.startTime&&(t.holdTime=null,U(t));var n=this.currentTime;C(t),t.startTime=e,t.resetCurrentTimeOnResume=!1,t.holdTime=null!==t.startTime&&0!=t.animation.playbackRate?null:n,t.pendingTask&&(t.pendingTask=null,t.readyPromise.resolve(this)),M(t,!0,!1),U(t)}else t.animation.startTime=e}},{key:"currentTime",get:function(){var e=j.get(this);return e.timeline?null!=e.holdTime?e.holdTime:E(e):e.animation.currentTime},set:function(e){var t=j.get(this);if(t.timeline&&null!=e){var n=t.timeline.phase;null!==t.holdTime||null===t.startTime||"inactive"==n||0==t.animation.playbackRate?t.holdTime=e:t.startTime=x(t,e),t.resetCurrentTimeOnResume=!1,"inactive"==n&&(t.startTime=null),t.previousCurrentTime=null,"pause"==t.pendingTask&&(t.holdTime=e,C(t),t.startTime=null,t.pendingTask=null,t.readyPromise.resolve(this)),M(t,!0,!1)}else t.animation.currentTime=e}},{key:"playbackRate",get:function(){return j.get(this).animation.playbackRate},set:function(e){var t=j.get(this);if(t.timeline){t.pendingPlaybackRate=null;var n=this.currentTime;t.animation.playbackRate=e,null!==n&&(this.currentTime=n)}else t.animation.playbackRate=e}},{key:"playState",get:function(){var e=j.get(this);if(!e.timeline)return e.animation.playState;var t=this.currentTime;if(null===t&&null===e.startTime&&null==e.pendingTask)return"idle";if("pause"==e.pendingTask||null===e.startTime&&"play"!=e.pendingTask)return"paused";if(null!=t){if(e.animation.playbackRate>0&&t>=O(e))return"finished";if(e.animation.playbackRate<0&&t<=0)return"finished"}return"running"}},{key:"replaceState",get:function(){return j.get(this).animation.pending}},{key:"pending",get:function(){var e=j.get(this);return e.timeline?!!e.readyPromise&&"pending"==e.readyPromise.state:e.animation.pending}},{key:"id",get:function(){return j.get(this).animation.id}},{key:"onfinish",get:function(){return j.get(this).animation.onfinish},set:function(e){j.get(this).animation.onfinish=e}},{key:"oncancel",get:function(){return j.get(this).animation.oncancel},set:function(e){j.get(this).animation.oncancel=e}},{key:"onremove",get:function(){return j.get(this).animation.onremove},set:function(e){j.get(this).animation.onremove=e}},{key:"finished",get:function(){var e=j.get(this);return e.timeline?(e.finishedPromise||(e.finishedPromise=new k),e.finishedPromise.promise):e.animation.finished}},{key:"ready",get:function(){var e=j.get(this);return e.timeline?(e.readyPromise||(e.readyPromise=new k,e.readyPromise.resolve(this)),e.readyPromise.promise):e.animation.ready}}]),e}(),L=new WeakMap,z=[[[0,1,2,3]],[[0,2],[1,3]],[[0],[1,3],[2]],[[0],[1],[2],[3]]],F=function(){function e(e){L.set(this,{target:null,edge:"start",threshold:0,rootMargin:[[0,"px"],[0,"px"],[0,"px"],[0,"px"]]}),this.target=e.target,this.edge=e.edge||"start",this.threshold=e.threshold||0,this.rootMargin=e.rootMargin||"0px 0px 0px 0px",this.clamp=e.clamp||!1}return t(e,[{key:"target",get:function(){return L.get(this).target},set:function(e){if(!(e instanceof Element))throw L.get(this).target=null,Error("Intersection target must be an element.");L.get(this).target=e}},{key:"edge",get:function(){return L.get(this).edge},set:function(e){-1!=["start","end"].indexOf(e)&&(L.get(this).edge=e)}},{key:"threshold",get:function(){return L.get(this).threshold},set:function(e){var t=parseFloat(e);if(t!=t)throw TypeError("Invalid threshold.");if(t<0||t>1)throw TypeError("threshold must be in the range [0, 1]");L.get(this).threshold=t}},{key:"rootMargin",get:function(){return L.get(this).rootMargin.map(function(e){return e.join("")}).join(" ")},set:function(e){var t=e.split(/ +/);if(t.length<1||t.length>4)throw TypeError("rootMargin must contain between 1 and 4 length components");for(var n=[[],[],[],[]],i=0;i<t.length;i++){var r=o(t[i],!0);if(!r)throw TypeError("Unrecognized rootMargin length");for(var a=z[t.length-1][i],l=0;l<a.length;l++)n[a[l]]=[parseFloat(r.value),r.unit]}L.get(this).rootMargin=n}},{key:"clamp",set:function(e){L.get(this).clamp=!!e}}]),e}();if(u.push({parse:function(e){if(e.target)return new F(e)},evaluate:function(e,t,n,i){"block"==t?t="vertical":"inline"==t&&(t="horizontal");for(var r,a=e==document.scrollingElement?{left:0,right:e.clientWidth,top:0,bottom:e.clientHeight,width:e.clientWidth,height:e.clientHeight}:e.getBoundingClientRect(),o=L.get(n).rootMargin,l=[],s=0;s<4;s++)l.push("percent"==(r=o[s])[1]?r[0]*(s%2==0?a.height:a.width)/100:r[0]);var u=a.left-l[3],c=a.right-a.left+l[3]+l[1],m=a.top-l[0],f=a.bottom-a.top+l[0]+l[2],h=L.get(n).clamp,p=n.target.getBoundingClientRect(),d=n.threshold;if("start"==n.edge&&(d=1-d),"vertical"==t){var g=p.top+p.height*d-m+e.scrollTop;return h?"end"==n.edge?Math.max(0,g-f):Math.min(g,e.scrollHeight-f):"end"==n.edge?g-f:g}var v=p.left+p.width*d-u+e.scrollLeft;return h?"end"==n.edge?Math.max(0,v-c):Math.min(v,e.scrollWidth-c):"end"==n.edge?v-c:v}}),!Reflect.defineProperty(window,"ScrollTimeline",{value:y}))throw Error("Error installing ScrollTimeline polyfill: could not attach ScrollTimeline to window");if(!Reflect.defineProperty(Element.prototype,"animate",{value:function(e,t){var n=t.timeline;n instanceof y&&delete t.timeline;var i=T.apply(this,[e,t]),r=new W(i,n);return n instanceof y&&(i.pause(),r.play()),r}}))throw Error("Error installing ScrollTimeline polyfill: could not attach WAAPI's animate to DOM Element");if(!Reflect.defineProperty(window,"Animation",{value:W}))throw Error("Error installing Animation constructor.")}();
>>>>>>> 3ca3860 (Add polyfill for CSSOM.)
=======
!function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function i(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return n(e,void 0);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=e[Symbol.iterator]()).next.bind(i)}function r(e,t){if(e instanceof CSSUnitValue||e instanceof CSSMathSum)return e;if(!t)return null;var n=e.trim().match(/^(-?[0-9]*\.?[0-9]*)(px|%)$/);return n?new CSSUnitValue(n[1],"%"==n[2]?"percent":n[2]):null}var a=new CSSKeywordValue("auto"),l=new WeakMap,o=[];function s(e){return e===document.scrollingElement?document:e}function u(e){var t=l.get(e).animations;if(0!==t.length)for(var n=e.currentTime,i=0;i<t.length;i++)t[i].tickAnimation(n)}function c(e,t,n,l,o){if(o)return o(t,n,l,0==e.value?"start":"end");"block"===n?n="vertical":"inline"===n&&(n="horizontal");var s="vertical"===n?t.scrollHeight-t.clientHeight:t.scrollWidth-t.clientWidth;return function e(t,n){if(t instanceof CSSUnitValue){if("percent"==t.unit)return t.value*n/100;if("px"==t.unit)return t.value;throw TypeError("Unhandled unit type "+t.unit)}if(t instanceof CSSMathSum){for(var r,a=0,l=i(t.values);!(r=l()).done;)a+=e(r.value,n);return a}throw TypeError("Unsupported value type: "+typeof t)}(r(l===a?e:l),s)}function m(e,t){for(var n=l.get(e).animations,i=0;i<n.length;i++)n[i].animation==t&&n.splice(i,1)}function f(e,t,n){for(var i=l.get(e).animations,r=0;r<i.length;r++)if(i[r].animation==t)return;i.push({animation:t,tickAnimation:n}),u(e)}var h=function(){function e(e){l.set(this,{scrollSource:null,orientation:"block",startScrollOffset:a,endScrollOffset:a,scrollOffsets:[],timeRange:a,animations:[],scrollOffsetFns:[]}),this.scrollSource=e&&void 0!==e.scrollSource?e.scrollSource:document.scrollingElement,this.orientation=e&&e.orientation||"block",this.startScrollOffset=e&&e.startScrollOffset||a,this.endScrollOffset=e&&e.endScrollOffset||a,this.scrollOffsets=e&&void 0!==e.scrollOffsets?e.scrollOffsets:[],this.timeRange=e&&void 0!==e.timeRange?e.timeRange:"auto"}return t(e,[{key:"scrollSource",set:function(e){var t=this;this.scrollSource&&s(this.scrollSource).removeEventListener("scroll",function(){return u(t)}),l.get(this).scrollSource=e,e&&s(e).addEventListener("scroll",function(){return u(t)}),u(this)},get:function(){return l.get(this).scrollSource}},{key:"orientation",set:function(e){if(-1===["block","inline","horizontal","vertical"].indexOf(e))throw TypeError("Invalid orientation");l.get(this).orientation=e,u(this)},get:function(){return l.get(this).orientation}},{key:"scrollOffsets",set:function(e){for(var t,n=[],s=[],u=i(e);!(t=u()).done;){var c=t.value,m=null,f=void 0;"auto"==c&&(c=a);for(var h=0;h<o.length;h++){var d=o[h].parse(c);if(void 0!==d){f=d,m=o[h].evaluate;break}}if(!m){if(c!=a){var p=r(c);if(!p||p instanceof CSSUnitValue&&"number"==p.unit)throw TypeError("Invalid scrollOffsets entry.")}f=c}n.push(f),s.push(m)}if(1==n.length&&n[0]==a)throw TypeError("Invalid scrollOffsets value.");var g=l.get(this);g.scrollOffsets=n,g.scrollOffsetFns=s},get:function(){return l.get(this).scrollOffsets}},{key:"startScrollOffset",set:function(e){"auto"==e&&(e=a);var t=l.get(this);t.startScrollOffsetFunction=null;for(var n=0;n<o.length;n++){var i=o[n].parse(e);if(void 0!==i){e=i,t.startScrollOffsetFunction=o[n].evaluate;break}}if(e!=a&&!l.get(this).startScrollOffsetFunction){var s=r(e);if(!s||s instanceof CSSUnitValue&&"number"==s.unit)throw TypeError("Invalid start offset.")}t.startScrollOffset=e,u(this)},get:function(){return l.get(this).startScrollOffset}},{key:"endScrollOffset",set:function(e){"auto"==e&&(e=a),l.get(this).endScrollOffsetFunction=null;for(var t=0;t<o.length;t++){var n=o[t].parse(e);if(void 0!==n){e=n,l.get(this).endScrollOffsetFunction=o[t].evaluate;break}}if(e!=a&&!l.get(this).startScrollOffsetFunction){var i=r(e);if(!i||i instanceof CSSUnitValue&&"number"==i.unit)throw TypeError("Invalid end offset.")}l.get(this).endScrollOffset=e,u(this)},get:function(){return l.get(this).endScrollOffset}},{key:"timeRange",set:function(e){if("auto"!=e&&("number"!=typeof e||!Number.isFinite(e)||e!=e))throw TypeError("Invalid timeRange value");l.get(this).timeRange=e,u(this)},get:function(){return l.get(this).timeRange}},{key:"phase",get:function(){if(!this.scrollSource)return"inactive";var e=getComputedStyle(this.scrollSource);if("none"==e.display)return"inactive";if(this.scrollSource!=document.scrollingElement&&("visible"==e.overflow||"clip"==e.overflow))return"inactive";var t=c(new CSSUnitValue(0,"percent"),this.scrollSource,this.orientation,this.startScrollOffset,l.get(this).startScrollOffsetFunction),n=c(new CSSUnitValue(100,"percent"),this.scrollSource,this.orientation,this.endScrollOffset,l.get(this).endScrollOffsetFunction),i=c(new CSSUnitValue(100,"percent"),this.scrollSource,this.orientation,new CSSUnitValue(100,"percent"),null);if(null===t||null===n)return"inactive";var r=this.scrollSource.scrollTop;return"inline"!==this.orientation&&"horizontal"!==this.orientation||(r=this.scrollSource.scrollLeft),r<t?"before":r>=n&&n<i?"after":"active"}},{key:"currentTime",get:function(){if(!this.scrollSource)return null;if("inactive"==this.phase)return null;var e=c(new CSSUnitValue(0,"percent"),this.scrollSource,this.orientation,this.startScrollOffset,l.get(this).startScrollOffsetFunction),t=c(new CSSUnitValue(100,"percent"),this.scrollSource,this.orientation,this.endScrollOffset,l.get(this).endScrollOffsetFunction),n=function(e){var t=e.timeRange;if(t==a){t=0;for(var n=l.get(e).animations,i=0;i<n.length;i++)t=Math.max(t,n[i].animation.effect.getComputedTiming().activeDuration);Infinity===t&&(t=0)}return t}(this),i=this.scrollSource.scrollTop;return"inline"!==this.orientation&&"horizontal"!==this.orientation||(i=this.scrollSource.scrollLeft),i<e?0:i>=t?n:(i-e)/(t-e)*n}},{key:"__polyfill",get:function(){return!0}}]),e}(),d=window.Element.prototype.animate,p=window.Animation,g=function(){function e(){var e=this;this.state="pending",this.nativeResolve=this.nativeReject=null,this.promise=new Promise(function(t,n){e.nativeResolve=t,e.nativeReject=n})}var t=e.prototype;return t.resolve=function(e){this.state="resolved",this.nativeResolve(e)},t.reject=function(e){this.state="rejected",this.promise.catch(function(){}),this.nativeReject(e)},e}();function v(e){e.readyPromise=new g,requestAnimationFrame(function(){null!==e.timeline.currentTime&&C(e)})}function y(){return new DOMException("The user aborted a request","AbortError")}function T(e){e.finishedPromise&&"pending"==e.finishedPromise.state&&"finished"==e.proxy.playState&&(e.finishedPromise.resolve(e.proxy),e.animation.finish(),e.animation.pause())}function k(e){return null!==e.pendingPlaybackRate?e.pendingPlaybackRate:e.animation.playbackRate}function S(e){null!==e.pendingPlaybackRate&&(e.animation.playbackRate=e.pendingPlaybackRate,e.pendingPlaybackRate=null)}function b(e){if(!e.timeline)return null;var t=e.timeline.currentTime;if(null===t)return null;if(null===e.startTime)return null;var n=(t-e.startTime)*e.animation.playbackRate;return-0==n&&(n=0),n}function w(e,t){if(!e.timeline)return null;var n=e.timeline.currentTime;return null==n?null:n-t/e.animation.playbackRate}function R(e,t,n){if(e.timeline){var i=t?e.proxy.currentTime:b(e);if(i&&null!=e.startTime&&!e.proxy.pending){var r=k(e),a=P(e),l=e.previousCurrentTime;r>0&&i>=a?((null===l||l<a)&&(l=a),e.holdTime=t?i:l):r<0&&i<=0?((null==l||l>0)&&(l=0),e.holdTime=t?i:l):0!=r&&(t&&null!==e.holdTime&&(e.startTime=w(e,e.holdTime)),e.holdTime=null)}O(e),e.previousCurrentTime=e.proxy.currentTime,"finished"==e.proxy.playState?(e.finishedPromise||(e.finishedPromise=new g),"pending"==e.finishedPromise.state&&(n?T(e):Promise.resolve().then(function(){T(e)}))):(e.finishedPromise&&"resolved"==e.finishedPromise.state&&(e.finishedPromise=new g),"paused"!=e.animation.playState&&e.animation.pause())}}function P(e){var t=e.animation.effect.getTiming();return Math.max(0,t.delay+t.endDelay+t.iterations*t.duration)}function O(e){e.timeline&&(null!==e.startTime?e.animation.currentTime=(e.timeline.currentTime-e.startTime)*e.animation.playbackRate:null!==e.holdTime&&(e.animation.currentTime=e.holdTime))}function E(e,t){if(e.timeline){var n="paused"==e.proxy.playState&&e.proxy.pending,i=!1,r=null,a=e.proxy.currentTime;e.resetCurrentTimeOnResume&&(a=null,e.resetCurrentTimeOnResume=!1);var l=k(e),o=P(e);if(l>0&&t&&(null==a||a<0||a>=o))r=0;else if(l<0&&t&&(null==a||a<=0||a>o)){if(Infinity==o)return void e.animation.play();r=o}else 0==l&&null==a&&(r=0);null!=r&&(e.startTime=r,e.holdTime=null,S(e)),f(e.timeline,e.animation,x.bind(e.proxy)),e.holdTime&&(e.startTime=null),e.pendingTask&&(e.pendingTask=null,i=!0),(null!==e.holdTime||null!==r||n||null!==e.pendingPlaybackRate)&&(e.readyPromise&&!i&&(e.readyPromise=null),O(e),e.readyPromise||v(e),e.pendingTask="play",R(e,!1,!1))}}function x(e){var t=M.get(this);if(null!=e){t.pendingTask&&C(t);var n=this.playState;"running"!=n&&"finished"!=n||(t.animation.currentTime=(e-this.startTime)*this.playbackRate,"finished"==n&&0!=k(t)&&(t.holdTime=null),R(t,!1,!1))}else"idle"!=t.animation.playState&&t.animation.cancel()}function C(e){"pause"==e.pendingTask?function(e){null!=e.startTime&&null==e.holdTime&&(e.holdTime=(e.timeline.currentTime-e.startTime)*e.animation.playbackRate),S(e),e.startTime=null,e.readyPromise.resolve(e.proxy),R(e,!1,!1),O(e),e.pendingTask=null}(e):"play"==e.pendingTask&&function(e){var t=e.timeline.currentTime;if(null!=e.holdTime)S(e),0==e.animation.playbackRate?e.startTime=t:(e.startTime=t-e.holdTime/e.animation.playbackRate,e.holdTime=null);else if(null!==e.startTime&&null!==e.pendingPlaybackRate){var n=(t-e.startTime)*e.animation.playbackRate;S(e);var i=e.animation.playbackRate;0==i?(e.holdTime=null,e.startTime=t):e.startTime=t-n/i}e.readyPromise&&"pending"==e.readyPromise.state&&e.readyPromise.resolve(e.proxy),R(e,!1,!1),O(e),e.pendingTask=null}(e)}var M=new WeakMap,I=function(){function e(e,t){var n=e instanceof p?e:new p(e,r),i=t instanceof h,r=i?void 0:t;M.set(this,{animation:n,timeline:i?t:void 0,playState:i?"idle":null,readyPromise:null,finishedPromise:null,startTime:null,holdTime:null,previousCurrentTime:null,resetCurrentTimeOnResume:!1,pendingPlaybackRate:null,pendingTask:null,proxy:this})}var n=e.prototype;return n.finish=function(){var e=M.get(this);if(e.timeline){var t=k(e),n=P(e);if(0==t)throw new DOMException("Cannot finish Animation with a playbackRate of 0.","InvalidStateError");if(t>0&&Infinity==n)throw new DOMException("Cannot finish Animation with an infinite target effect end.","InvalidStateError");S(e);var i=t<0?0:n;this.currentTime=i;var r=e.timeline.currentTime;null===e.startTime&&null!==r&&(e.startTime=r-i/e.animation.playbackRate),"pause"==e.pendingTask&&null!==e.startTime&&(e.holdTime=null,e.pendingTask=null,e.readyPromise.resolve(this)),"play"==e.pendingTask&&null!==e.startTime&&(e.pendingTask=null,e.readyPromise.resolve(this)),R(e,!0,!0)}else e.animation.finish()},n.play=function(){var e=M.get(this);e.timeline?E(e,!0):e.animation.play()},n.pause=function(){var e=M.get(this);if(e.timeline){if("paused"!=this.playState){var t=null,n=e.animation.playbackRate,i=P(e);if(null===e.animation.currentTime)if(n>=0)t=0;else{if(Infinity==i)return void e.animation.pause();t=i}null!==t&&(e.startTime=t),"play"==e.pendingTask?e.pendingTask=null:e.readyPromise=null,e.readyPromise||v(e),e.pendingTask="pause"}}else e.animation.pause()},n.reverse=function(){var e=M.get(this),t=k(e),n=e.resetCurrentTimeOnResume?null:this.currentTime,i=Infinity==P(e),r=0!=t&&(t<0||n>0||!i);if(!e.timeline||!r)return r&&(e.pendingPlaybackRate=-k(e)),void e.animation.reverse();if("inactive"==e.timeline.phase)throw new DOMException("Cannot reverse an animation with no active timeline","InvalidStateError");this.updatePlaybackRate(-t),E(e,!0)},n.updatePlaybackRate=function(e){var t=M.get(this);if(t.pendingPlaybackRate=e,t.timeline){if(!t.readyPromise||"pending"!=t.readyPromise.state)switch(this.playState){case"idle":case"paused":S(t);break;case"finished":var n=t.timeline.currentTime,i=null!==n?(n-t.startTime)*t.animation.playbackRate:null;t.startTime=0==e?n:null!=n&&null!=i?(n-i)/e:null,S(t),R(t,!1,!1),O(t);break;default:E(t,!1)}}else t.animation.updatePlaybackRate(e)},n.persist=function(){M.get(this).animation.persist()},n.cancel=function(){var e=M.get(this);e.timeline?("idle"!=this.playState&&(function(e){e.pendingTask&&(e.pendingTask=null,S(e),e.readyPromise.reject(y()),v(e),e.readyPromise.resolve(e.proxy))}(e),e.finishedPromise&&"pending"==e.finishedPromise.state&&e.finishedPromise.reject(y()),e.finishedPromise=new g,e.animation.cancel()),e.startTime=null,e.holdTime=null,m(e.timeline,e.animation)):e.animation.cancel()},n.addEventListener=function(e,t,n){M.get(this).animation.addEventListener(e,t,n)},n.removeEventListener=function(e,t,n){M.get(this).animation.removeEventListener(e,t,n)},n.dispatchEvent=function(e){M.get(this).animation.dispatchEvent(e)},t(e,[{key:"effect",get:function(){return M.get(this).animation.effect},set:function(e){M.get(this).animation.effect=e}},{key:"timeline",get:function(){var e=M.get(this);return e.timeline||e.animation.timeline},set:function(e){var t=this.timeline;if(t!=e){var n=this.playState,i=this.currentTime,r=t instanceof h,a=e instanceof h,l=M.get(this);l.resetCurrentTimeOnResume=!1;var o=this.pending;if(r&&m(l.timeline,l.animation),a){l.timeline=e,S(l);var s=l.animation.playbackRate>=0?0:P(l);switch(n){case"running":case"finished":l.startTime=s,f(l.timeline,l.animation,x.bind(this));break;case"paused":l.resetCurrentTimeOnResume=!0,l.startTime=null,l.holdTime=i;break;default:l.holdTime=null,l.startTime=null}return o&&(l.readyPromise&&"resolved"!=l.readyPromise.state||v(l),l.pendingTask="paused"==n?"pause":"play"),null!==l.startTime&&(l.holdTime=null),void R(l,!1,!1)}if(l.animation.timeline!=e)throw TypeError("Unsupported timeline: "+e);if(m(l.timeline,l.animation),l.timeline=null,r)switch(null!==i&&(l.animation.currentTime=i),n){case"paused":l.animation.pause();break;case"running":case"finished":l.animation.play()}}}},{key:"startTime",get:function(){var e=M.get(this);return e.timeline?e.startTime:e.animation.startTime},set:function(e){var t=M.get(this);if(t.timeline){null==t.timeline.currentTime&&null!=t.startTime&&(t.holdTime=null,O(t));var n=this.currentTime;S(t),t.startTime=e,t.resetCurrentTimeOnResume=!1,t.holdTime=null!==t.startTime&&0!=t.animation.playbackRate?null:n,t.pendingTask&&(t.pendingTask=null,t.readyPromise.resolve(this)),R(t,!0,!1),O(t)}else t.animation.startTime=e}},{key:"currentTime",get:function(){var e=M.get(this);return e.timeline?null!=e.holdTime?e.holdTime:b(e):e.animation.currentTime},set:function(e){var t=M.get(this);if(t.timeline&&null!=e){var n=t.timeline.phase;null!==t.holdTime||null===t.startTime||"inactive"==n||0==t.animation.playbackRate?t.holdTime=e:t.startTime=w(t,e),t.resetCurrentTimeOnResume=!1,"inactive"==n&&(t.startTime=null),t.previousCurrentTime=null,"pause"==t.pendingTask&&(t.holdTime=e,S(t),t.startTime=null,t.pendingTask=null,t.readyPromise.resolve(this)),R(t,!0,!1)}else t.animation.currentTime=e}},{key:"playbackRate",get:function(){return M.get(this).animation.playbackRate},set:function(e){var t=M.get(this);if(t.timeline){t.pendingPlaybackRate=null;var n=this.currentTime;t.animation.playbackRate=e,null!==n&&(this.currentTime=n)}else t.animation.playbackRate=e}},{key:"playState",get:function(){var e=M.get(this);if(!e.timeline)return e.animation.playState;var t=this.currentTime;if(null===t&&null===e.startTime&&null==e.pendingTask)return"idle";if("pause"==e.pendingTask||null===e.startTime&&"play"!=e.pendingTask)return"paused";if(null!=t){if(e.animation.playbackRate>0&&t>=P(e))return"finished";if(e.animation.playbackRate<0&&t<=0)return"finished"}return"running"}},{key:"replaceState",get:function(){return M.get(this).animation.pending}},{key:"pending",get:function(){var e=M.get(this);return e.timeline?!!e.readyPromise&&"pending"==e.readyPromise.state:e.animation.pending}},{key:"id",get:function(){return M.get(this).animation.id}},{key:"onfinish",get:function(){return M.get(this).animation.onfinish},set:function(e){M.get(this).animation.onfinish=e}},{key:"oncancel",get:function(){return M.get(this).animation.oncancel},set:function(e){M.get(this).animation.oncancel=e}},{key:"onremove",get:function(){return M.get(this).animation.onremove},set:function(e){M.get(this).animation.onremove=e}},{key:"finished",get:function(){var e=M.get(this);return e.timeline?(e.finishedPromise||(e.finishedPromise=new g),e.finishedPromise.promise):e.animation.finished}},{key:"ready",get:function(){var e=M.get(this);return e.timeline?(e.readyPromise||(e.readyPromise=new g,e.readyPromise.resolve(this)),e.readyPromise.promise):e.animation.ready}}]),e}(),A=new WeakMap,U=[[[0,1,2,3]],[[0,2],[1,3]],[[0],[1,3],[2]],[[0],[1],[2],[3]]],F=function(){function e(e){A.set(this,{target:null,edge:"start",threshold:0,rootMargin:[[0,"px"],[0,"px"],[0,"px"],[0,"px"]]}),this.target=e.target,this.edge=e.edge||"start",this.threshold=e.threshold||0,this.rootMargin=e.rootMargin||"0px 0px 0px 0px",this.clamp=e.clamp||!1}return t(e,[{key:"target",set:function(e){if(!(e instanceof Element))throw A.get(this).target=null,Error("Intersection target must be an element.");A.get(this).target=e},get:function(){return A.get(this).target}},{key:"edge",set:function(e){-1!=["start","end"].indexOf(e)&&(A.get(this).edge=e)},get:function(){return A.get(this).edge}},{key:"threshold",set:function(e){var t=parseFloat(e);if(t!=t)throw TypeError("Invalid threshold.");if(t<0||t>1)throw TypeError("threshold must be in the range [0, 1]");A.get(this).threshold=t},get:function(){return A.get(this).threshold}},{key:"rootMargin",set:function(e){var t=e.split(/ +/);if(t.length<1||t.length>4)throw TypeError("rootMargin must contain between 1 and 4 length components");for(var n=[[],[],[],[]],i=0;i<t.length;i++){var a=r(t[i],!0);if(!a)throw TypeError("Unrecognized rootMargin length");for(var l=U[t.length-1][i],o=0;o<l.length;o++)n[l[o]]=[parseFloat(a.value),a.unit]}A.get(this).rootMargin=n},get:function(){return A.get(this).rootMargin.map(function(e){return e.join("")}).join(" ")}},{key:"clamp",set:function(e){A.get(this).clamp=!!e}}]),e}();if(o.push({parse:function(e){if(e.target)return new F(e)},evaluate:function(e,t,n,i){"block"==t?t="vertical":"inline"==t&&(t="horizontal");for(var r,a=e==document.scrollingElement?{left:0,right:e.clientWidth,top:0,bottom:e.clientHeight,width:e.clientWidth,height:e.clientHeight}:e.getBoundingClientRect(),l=A.get(n).rootMargin,o=[],s=0;s<4;s++)o.push("percent"==(r=l[s])[1]?r[0]*(s%2==0?a.height:a.width)/100:r[0]);var u=a.left-o[3],c=a.right-a.left+o[3]+o[1],m=a.top-o[0],f=a.bottom-a.top+o[0]+o[2],h=A.get(n).clamp,d=n.target.getBoundingClientRect(),p=n.threshold;if("start"==n.edge&&(p=1-p),"vertical"==t){var g=d.top+d.height*p-m+e.scrollTop;return h?"end"==n.edge?Math.max(0,g-f):Math.min(g,e.scrollHeight-f):"end"==n.edge?g-f:g}var v=d.left+d.width*p-u+e.scrollLeft;return h?"end"==n.edge?Math.max(0,v-c):Math.min(v,e.scrollWidth-c):"end"==n.edge?v-c:v}}),!Reflect.defineProperty(window,"ScrollTimeline",{value:h}))throw Error("Error installing ScrollTimeline polyfill: could not attach ScrollTimeline to window");if(!Reflect.defineProperty(Element.prototype,"animate",{value:function(e,t){var n=t.timeline;n instanceof h&&delete t.timeline;var i=d.apply(this,[e,t]),r=new I(i,n);return n instanceof h&&(i.pause(),r.play()),r}}))throw Error("Error installing ScrollTimeline polyfill: could not attach WAAPI's animate to DOM Element");if(!Reflect.defineProperty(window,"Animation",{value:I}))throw Error("Error installing Animation constructor.")}();
>>>>>>> 047bdea (Rebuild)
=======
!function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function i(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return n(e,void 0);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=e[Symbol.iterator]()).next.bind(i)}function r(e,t){if(e instanceof CSSUnitValue||e instanceof CSSMathSum)return e;if(!t)return null;var n=e.trim().match(/^(-?[0-9]*\.?[0-9]*)(px|%)$/);return n?new CSSUnitValue(n[1],"%"==n[2]?"percent":n[2]):null}var a=new CSSKeywordValue("auto"),l=new WeakMap,o=[];function s(e){return e===document.scrollingElement?document:e}function u(e){var t=l.get(e).animations;if(0!==t.length)for(var n=e.currentTime,i=0;i<t.length;i++)t[i].tickAnimation(n)}function c(e,t){var n="horizontal-tb"==getComputedStyle(e).writingMode,i=e.scrollTop;return("horizontal"==t||"inline"==t&&n||"block"==t&&!n)&&(i=Math.abs(e.scrollLeft)),i}function m(e,t,n,l,o){if(o)return o(t,n,l,0==e.value?"start":"end");"block"===n?n="vertical":"inline"===n&&(n="horizontal");var s="vertical"===n?t.scrollHeight-t.clientHeight:t.scrollWidth-t.clientWidth;return function e(t,n){if(t instanceof CSSUnitValue){if("percent"==t.unit)return t.value*n/100;if("px"==t.unit)return t.value;throw TypeError("Unhandled unit type "+t.unit)}if(t instanceof CSSMathSum){for(var r,a=0,l=i(t.values);!(r=l()).done;)a+=e(r.value,n);return a}throw TypeError("Unsupported value type: "+typeof t)}(r(l===a?e:l),s)}function f(e,t){for(var n=l.get(e).animations,i=0;i<n.length;i++)n[i].animation==t&&n.splice(i,1)}function h(e,t,n){for(var i=l.get(e).animations,r=0;r<i.length;r++)if(i[r].animation==t)return;i.push({animation:t,tickAnimation:n}),u(e)}var d=function(){function e(e){l.set(this,{scrollSource:null,orientation:"block",startScrollOffset:a,endScrollOffset:a,scrollOffsets:[],timeRange:a,animations:[],scrollOffsetFns:[]}),this.scrollSource=e&&void 0!==e.scrollSource?e.scrollSource:document.scrollingElement,this.orientation=e&&e.orientation||"block",this.startScrollOffset=e&&e.startScrollOffset||a,this.endScrollOffset=e&&e.endScrollOffset||a,this.scrollOffsets=e&&void 0!==e.scrollOffsets?e.scrollOffsets:[],this.timeRange=e&&void 0!==e.timeRange?e.timeRange:"auto"}return t(e,[{key:"scrollSource",set:function(e){var t=this;this.scrollSource&&s(this.scrollSource).removeEventListener("scroll",function(){return u(t)}),l.get(this).scrollSource=e,e&&s(e).addEventListener("scroll",function(){return u(t)}),u(this)},get:function(){return l.get(this).scrollSource}},{key:"orientation",set:function(e){if(-1===["block","inline","horizontal","vertical"].indexOf(e))throw TypeError("Invalid orientation");l.get(this).orientation=e,u(this)},get:function(){return l.get(this).orientation}},{key:"scrollOffsets",set:function(e){for(var t,n=[],s=[],u=i(e);!(t=u()).done;){var c=t.value,m=null,f=void 0;"auto"==c&&(c=a);for(var h=0;h<o.length;h++){var d=o[h].parse(c);if(void 0!==d){f=d,m=o[h].evaluate;break}}if(!m){if(c!=a){var p=r(c);if(!p||p instanceof CSSUnitValue&&"number"==p.unit)throw TypeError("Invalid scrollOffsets entry.")}f=c}n.push(f),s.push(m)}if(1==n.length&&n[0]==a)throw TypeError("Invalid scrollOffsets value.");var g=l.get(this);g.scrollOffsets=n,g.scrollOffsetFns=s},get:function(){return l.get(this).scrollOffsets}},{key:"startScrollOffset",set:function(e){"auto"==e&&(e=a);var t=l.get(this);t.startScrollOffsetFunction=null;for(var n=0;n<o.length;n++){var i=o[n].parse(e);if(void 0!==i){e=i,t.startScrollOffsetFunction=o[n].evaluate;break}}if(e!=a&&!l.get(this).startScrollOffsetFunction){var s=r(e);if(!s||s instanceof CSSUnitValue&&"number"==s.unit)throw TypeError("Invalid start offset.")}t.startScrollOffset=e,u(this)},get:function(){return l.get(this).startScrollOffset}},{key:"endScrollOffset",set:function(e){"auto"==e&&(e=a),l.get(this).endScrollOffsetFunction=null;for(var t=0;t<o.length;t++){var n=o[t].parse(e);if(void 0!==n){e=n,l.get(this).endScrollOffsetFunction=o[t].evaluate;break}}if(e!=a&&!l.get(this).startScrollOffsetFunction){var i=r(e);if(!i||i instanceof CSSUnitValue&&"number"==i.unit)throw TypeError("Invalid end offset.")}l.get(this).endScrollOffset=e,u(this)},get:function(){return l.get(this).endScrollOffset}},{key:"timeRange",set:function(e){if("auto"!=e&&("number"!=typeof e||!Number.isFinite(e)||e!=e))throw TypeError("Invalid timeRange value");l.get(this).timeRange=e,u(this)},get:function(){return l.get(this).timeRange}},{key:"phase",get:function(){if(!this.scrollSource)return"inactive";var e=getComputedStyle(this.scrollSource);if("none"==e.display)return"inactive";if(this.scrollSource!=document.scrollingElement&&("visible"==e.overflow||"clip"==e.overflow))return"inactive";var t=m(new CSSUnitValue(0,"percent"),this.scrollSource,this.orientation,this.startScrollOffset,l.get(this).startScrollOffsetFunction),n=m(new CSSUnitValue(100,"percent"),this.scrollSource,this.orientation,this.endScrollOffset,l.get(this).endScrollOffsetFunction),i=m(new CSSUnitValue(100,"percent"),this.scrollSource,this.orientation,new CSSUnitValue(100,"percent"),null);if(null===t||null===n)return"inactive";var r=c(this.scrollSource,this.orientation);return r<t?"before":r>=n&&n<i?"after":"active"}},{key:"currentTime",get:function(){if(!this.scrollSource)return null;if("inactive"==this.phase)return null;var e=m(new CSSUnitValue(0,"percent"),this.scrollSource,this.orientation,this.startScrollOffset,l.get(this).startScrollOffsetFunction),t=m(new CSSUnitValue(100,"percent"),this.scrollSource,this.orientation,this.endScrollOffset,l.get(this).endScrollOffsetFunction),n=function(e){var t=e.timeRange;if(t==a){t=0;for(var n=l.get(e).animations,i=0;i<n.length;i++)t=Math.max(t,n[i].animation.effect.getComputedTiming().activeDuration);Infinity===t&&(t=0)}return t}(this),i=c(this.scrollSource,this.orientation);return i<e?0:i>=t?n:(i-e)/(t-e)*n}},{key:"__polyfill",get:function(){return!0}}]),e}(),p=window.Element.prototype.animate,g=window.Animation,v=function(){function e(){var e=this;this.state="pending",this.nativeResolve=this.nativeReject=null,this.promise=new Promise(function(t,n){e.nativeResolve=t,e.nativeReject=n})}var t=e.prototype;return t.resolve=function(e){this.state="resolved",this.nativeResolve(e)},t.reject=function(e){this.state="rejected",this.promise.catch(function(){}),this.nativeReject(e)},e}();function y(e){e.readyPromise=new v,requestAnimationFrame(function(){null!==e.timeline.currentTime&&M(e)})}function T(){return new DOMException("The user aborted a request","AbortError")}function k(e){e.finishedPromise&&"pending"==e.finishedPromise.state&&"finished"==e.proxy.playState&&(e.finishedPromise.resolve(e.proxy),e.animation.finish(),e.animation.pause())}function S(e){return null!==e.pendingPlaybackRate?e.pendingPlaybackRate:e.animation.playbackRate}function b(e){null!==e.pendingPlaybackRate&&(e.animation.playbackRate=e.pendingPlaybackRate,e.pendingPlaybackRate=null)}function w(e){if(!e.timeline)return null;var t=e.timeline.currentTime;if(null===t)return null;if(null===e.startTime)return null;var n=(t-e.startTime)*e.animation.playbackRate;return-0==n&&(n=0),n}function R(e,t){if(!e.timeline)return null;var n=e.timeline.currentTime;return null==n?null:n-t/e.animation.playbackRate}function P(e,t,n){if(e.timeline){var i=t?e.proxy.currentTime:w(e);if(i&&null!=e.startTime&&!e.proxy.pending){var r=S(e),a=O(e),l=e.previousCurrentTime;r>0&&i>=a?((null===l||l<a)&&(l=a),e.holdTime=t?i:l):r<0&&i<=0?((null==l||l>0)&&(l=0),e.holdTime=t?i:l):0!=r&&(t&&null!==e.holdTime&&(e.startTime=R(e,e.holdTime)),e.holdTime=null)}E(e),e.previousCurrentTime=e.proxy.currentTime,"finished"==e.proxy.playState?(e.finishedPromise||(e.finishedPromise=new v),"pending"==e.finishedPromise.state&&(n?k(e):Promise.resolve().then(function(){k(e)}))):(e.finishedPromise&&"resolved"==e.finishedPromise.state&&(e.finishedPromise=new v),"paused"!=e.animation.playState&&e.animation.pause())}}function O(e){var t=e.animation.effect.getTiming();return Math.max(0,t.delay+t.endDelay+t.iterations*t.duration)}function E(e){e.timeline&&(null!==e.startTime?e.animation.currentTime=(e.timeline.currentTime-e.startTime)*e.animation.playbackRate:null!==e.holdTime&&(e.animation.currentTime=e.holdTime))}function C(e,t){if(e.timeline){var n="paused"==e.proxy.playState&&e.proxy.pending,i=!1,r=null,a=e.proxy.currentTime;e.resetCurrentTimeOnResume&&(a=null,e.resetCurrentTimeOnResume=!1);var l=S(e),o=O(e);if(l>0&&t&&(null==a||a<0||a>=o))r=0;else if(l<0&&t&&(null==a||a<=0||a>o)){if(Infinity==o)return void e.animation.play();r=o}else 0==l&&null==a&&(r=0);null!=r&&(e.startTime=r,e.holdTime=null,b(e)),h(e.timeline,e.animation,x.bind(e.proxy)),e.holdTime&&(e.startTime=null),e.pendingTask&&(e.pendingTask=null,i=!0),(null!==e.holdTime||null!==r||n||null!==e.pendingPlaybackRate)&&(e.readyPromise&&!i&&(e.readyPromise=null),E(e),e.readyPromise||y(e),e.pendingTask="play",P(e,!1,!1))}}function x(e){var t=I.get(this);if(null!=e){t.pendingTask&&M(t);var n=this.playState;"running"!=n&&"finished"!=n||(t.animation.currentTime=(e-this.startTime)*this.playbackRate,"finished"==n&&0!=S(t)&&(t.holdTime=null),P(t,!1,!1))}else"idle"!=t.animation.playState&&t.animation.cancel()}function M(e){"pause"==e.pendingTask?function(e){null!=e.startTime&&null==e.holdTime&&(e.holdTime=(e.timeline.currentTime-e.startTime)*e.animation.playbackRate),b(e),e.startTime=null,e.readyPromise.resolve(e.proxy),P(e,!1,!1),E(e),e.pendingTask=null}(e):"play"==e.pendingTask&&function(e){var t=e.timeline.currentTime;if(null!=e.holdTime)b(e),0==e.animation.playbackRate?e.startTime=t:(e.startTime=t-e.holdTime/e.animation.playbackRate,e.holdTime=null);else if(null!==e.startTime&&null!==e.pendingPlaybackRate){var n=(t-e.startTime)*e.animation.playbackRate;b(e);var i=e.animation.playbackRate;0==i?(e.holdTime=null,e.startTime=t):e.startTime=t-n/i}e.readyPromise&&"pending"==e.readyPromise.state&&e.readyPromise.resolve(e.proxy),P(e,!1,!1),E(e),e.pendingTask=null}(e)}var I=new WeakMap,A=function(){function e(e,t){var n=e instanceof g?e:new g(e,r),i=t instanceof d,r=i?void 0:t;I.set(this,{animation:n,timeline:i?t:void 0,playState:i?"idle":null,readyPromise:null,finishedPromise:null,startTime:null,holdTime:null,previousCurrentTime:null,resetCurrentTimeOnResume:!1,pendingPlaybackRate:null,pendingTask:null,proxy:this})}var n=e.prototype;return n.finish=function(){var e=I.get(this);if(e.timeline){var t=S(e),n=O(e);if(0==t)throw new DOMException("Cannot finish Animation with a playbackRate of 0.","InvalidStateError");if(t>0&&Infinity==n)throw new DOMException("Cannot finish Animation with an infinite target effect end.","InvalidStateError");b(e);var i=t<0?0:n;this.currentTime=i;var r=e.timeline.currentTime;null===e.startTime&&null!==r&&(e.startTime=r-i/e.animation.playbackRate),"pause"==e.pendingTask&&null!==e.startTime&&(e.holdTime=null,e.pendingTask=null,e.readyPromise.resolve(this)),"play"==e.pendingTask&&null!==e.startTime&&(e.pendingTask=null,e.readyPromise.resolve(this)),P(e,!0,!0)}else e.animation.finish()},n.play=function(){var e=I.get(this);e.timeline?C(e,!0):e.animation.play()},n.pause=function(){var e=I.get(this);if(e.timeline){if("paused"!=this.playState){var t=null,n=e.animation.playbackRate,i=O(e);if(null===e.animation.currentTime)if(n>=0)t=0;else{if(Infinity==i)return void e.animation.pause();t=i}null!==t&&(e.startTime=t),"play"==e.pendingTask?e.pendingTask=null:e.readyPromise=null,e.readyPromise||y(e),e.pendingTask="pause"}}else e.animation.pause()},n.reverse=function(){var e=I.get(this),t=S(e),n=e.resetCurrentTimeOnResume?null:this.currentTime,i=Infinity==O(e),r=0!=t&&(t<0||n>0||!i);if(!e.timeline||!r)return r&&(e.pendingPlaybackRate=-S(e)),void e.animation.reverse();if("inactive"==e.timeline.phase)throw new DOMException("Cannot reverse an animation with no active timeline","InvalidStateError");this.updatePlaybackRate(-t),C(e,!0)},n.updatePlaybackRate=function(e){var t=I.get(this);if(t.pendingPlaybackRate=e,t.timeline){if(!t.readyPromise||"pending"!=t.readyPromise.state)switch(this.playState){case"idle":case"paused":b(t);break;case"finished":var n=t.timeline.currentTime,i=null!==n?(n-t.startTime)*t.animation.playbackRate:null;t.startTime=0==e?n:null!=n&&null!=i?(n-i)/e:null,b(t),P(t,!1,!1),E(t);break;default:C(t,!1)}}else t.animation.updatePlaybackRate(e)},n.persist=function(){I.get(this).animation.persist()},n.cancel=function(){var e=I.get(this);e.timeline?("idle"!=this.playState&&(function(e){e.pendingTask&&(e.pendingTask=null,b(e),e.readyPromise.reject(T()),y(e),e.readyPromise.resolve(e.proxy))}(e),e.finishedPromise&&"pending"==e.finishedPromise.state&&e.finishedPromise.reject(T()),e.finishedPromise=new v,e.animation.cancel()),e.startTime=null,e.holdTime=null,f(e.timeline,e.animation)):e.animation.cancel()},n.addEventListener=function(e,t,n){I.get(this).animation.addEventListener(e,t,n)},n.removeEventListener=function(e,t,n){I.get(this).animation.removeEventListener(e,t,n)},n.dispatchEvent=function(e){I.get(this).animation.dispatchEvent(e)},t(e,[{key:"effect",get:function(){return I.get(this).animation.effect},set:function(e){I.get(this).animation.effect=e}},{key:"timeline",get:function(){var e=I.get(this);return e.timeline||e.animation.timeline},set:function(e){var t=this.timeline;if(t!=e){var n=this.playState,i=this.currentTime,r=t instanceof d,a=e instanceof d,l=I.get(this);l.resetCurrentTimeOnResume=!1;var o=this.pending;if(r&&f(l.timeline,l.animation),a){l.timeline=e,b(l);var s=l.animation.playbackRate>=0?0:O(l);switch(n){case"running":case"finished":l.startTime=s,h(l.timeline,l.animation,x.bind(this));break;case"paused":l.resetCurrentTimeOnResume=!0,l.startTime=null,l.holdTime=i;break;default:l.holdTime=null,l.startTime=null}return o&&(l.readyPromise&&"resolved"!=l.readyPromise.state||y(l),l.pendingTask="paused"==n?"pause":"play"),null!==l.startTime&&(l.holdTime=null),void P(l,!1,!1)}if(l.animation.timeline!=e)throw TypeError("Unsupported timeline: "+e);if(f(l.timeline,l.animation),l.timeline=null,r)switch(null!==i&&(l.animation.currentTime=i),n){case"paused":l.animation.pause();break;case"running":case"finished":l.animation.play()}}}},{key:"startTime",get:function(){var e=I.get(this);return e.timeline?e.startTime:e.animation.startTime},set:function(e){var t=I.get(this);if(t.timeline){null==t.timeline.currentTime&&null!=t.startTime&&(t.holdTime=null,E(t));var n=this.currentTime;b(t),t.startTime=e,t.resetCurrentTimeOnResume=!1,t.holdTime=null!==t.startTime&&0!=t.animation.playbackRate?null:n,t.pendingTask&&(t.pendingTask=null,t.readyPromise.resolve(this)),P(t,!0,!1),E(t)}else t.animation.startTime=e}},{key:"currentTime",get:function(){var e=I.get(this);return e.timeline?null!=e.holdTime?e.holdTime:w(e):e.animation.currentTime},set:function(e){var t=I.get(this);if(t.timeline&&null!=e){var n=t.timeline.phase;null!==t.holdTime||null===t.startTime||"inactive"==n||0==t.animation.playbackRate?t.holdTime=e:t.startTime=R(t,e),t.resetCurrentTimeOnResume=!1,"inactive"==n&&(t.startTime=null),t.previousCurrentTime=null,"pause"==t.pendingTask&&(t.holdTime=e,b(t),t.startTime=null,t.pendingTask=null,t.readyPromise.resolve(this)),P(t,!0,!1)}else t.animation.currentTime=e}},{key:"playbackRate",get:function(){return I.get(this).animation.playbackRate},set:function(e){var t=I.get(this);if(t.timeline){t.pendingPlaybackRate=null;var n=this.currentTime;t.animation.playbackRate=e,null!==n&&(this.currentTime=n)}else t.animation.playbackRate=e}},{key:"playState",get:function(){var e=I.get(this);if(!e.timeline)return e.animation.playState;var t=this.currentTime;if(null===t&&null===e.startTime&&null==e.pendingTask)return"idle";if("pause"==e.pendingTask||null===e.startTime&&"play"!=e.pendingTask)return"paused";if(null!=t){if(e.animation.playbackRate>0&&t>=O(e))return"finished";if(e.animation.playbackRate<0&&t<=0)return"finished"}return"running"}},{key:"replaceState",get:function(){return I.get(this).animation.pending}},{key:"pending",get:function(){var e=I.get(this);return e.timeline?!!e.readyPromise&&"pending"==e.readyPromise.state:e.animation.pending}},{key:"id",get:function(){return I.get(this).animation.id}},{key:"onfinish",get:function(){return I.get(this).animation.onfinish},set:function(e){I.get(this).animation.onfinish=e}},{key:"oncancel",get:function(){return I.get(this).animation.oncancel},set:function(e){I.get(this).animation.oncancel=e}},{key:"onremove",get:function(){return I.get(this).animation.onremove},set:function(e){I.get(this).animation.onremove=e}},{key:"finished",get:function(){var e=I.get(this);return e.timeline?(e.finishedPromise||(e.finishedPromise=new v),e.finishedPromise.promise):e.animation.finished}},{key:"ready",get:function(){var e=I.get(this);return e.timeline?(e.readyPromise||(e.readyPromise=new v,e.readyPromise.resolve(this)),e.readyPromise.promise):e.animation.ready}}]),e}(),U=new WeakMap,F=[[[0,1,2,3]],[[0,2],[1,3]],[[0],[1,3],[2]],[[0],[1],[2],[3]]],j=function(){function e(e){U.set(this,{target:null,edge:"start",threshold:0,rootMargin:[[0,"px"],[0,"px"],[0,"px"],[0,"px"]]}),this.target=e.target,this.edge=e.edge||"start",this.threshold=e.threshold||0,this.rootMargin=e.rootMargin||"0px 0px 0px 0px",this.clamp=e.clamp||!1}return t(e,[{key:"target",set:function(e){if(!(e instanceof Element))throw U.get(this).target=null,Error("Intersection target must be an element.");U.get(this).target=e},get:function(){return U.get(this).target}},{key:"edge",set:function(e){-1!=["start","end"].indexOf(e)&&(U.get(this).edge=e)},get:function(){return U.get(this).edge}},{key:"threshold",set:function(e){var t=parseFloat(e);if(t!=t)throw TypeError("Invalid threshold.");if(t<0||t>1)throw TypeError("threshold must be in the range [0, 1]");U.get(this).threshold=t},get:function(){return U.get(this).threshold}},{key:"rootMargin",set:function(e){var t=e.split(/ +/);if(t.length<1||t.length>4)throw TypeError("rootMargin must contain between 1 and 4 length components");for(var n=[[],[],[],[]],i=0;i<t.length;i++){var a=r(t[i],!0);if(!a)throw TypeError("Unrecognized rootMargin length");for(var l=F[t.length-1][i],o=0;o<l.length;o++)n[l[o]]=[parseFloat(a.value),a.unit]}U.get(this).rootMargin=n},get:function(){return U.get(this).rootMargin.map(function(e){return e.join("")}).join(" ")}},{key:"clamp",set:function(e){U.get(this).clamp=!!e}}]),e}();if(o.push({parse:function(e){if(e.target)return new j(e)},evaluate:function(e,t,n,i){"block"==t?t="vertical":"inline"==t&&(t="horizontal");for(var r,a=e==document.scrollingElement?{left:0,right:e.clientWidth,top:0,bottom:e.clientHeight,width:e.clientWidth,height:e.clientHeight}:e.getBoundingClientRect(),l=U.get(n).rootMargin,o=[],s=0;s<4;s++)o.push("percent"==(r=l[s])[1]?r[0]*(s%2==0?a.height:a.width)/100:r[0]);var u=a.left-o[3],c=a.right-a.left+o[3]+o[1],m=a.top-o[0],f=a.bottom-a.top+o[0]+o[2],h=U.get(n).clamp,d=n.target.getBoundingClientRect(),p=n.threshold;if("start"==n.edge&&(p=1-p),"vertical"==t){var g=d.top+d.height*p-m+e.scrollTop;return h?"end"==n.edge?Math.max(0,g-f):Math.min(g,e.scrollHeight-f):"end"==n.edge?g-f:g}var v=d.left+d.width*p-u+e.scrollLeft;return h?"end"==n.edge?Math.max(0,v-c):Math.min(v,e.scrollWidth-c):"end"==n.edge?v-c:v}}),!Reflect.defineProperty(window,"ScrollTimeline",{value:d}))throw Error("Error installing ScrollTimeline polyfill: could not attach ScrollTimeline to window");if(!Reflect.defineProperty(Element.prototype,"animate",{value:function(e,t){var n=t.timeline;n instanceof d&&delete t.timeline;var i=p.apply(this,[e,t]),r=new A(i,n);return n instanceof d&&(i.pause(),r.play()),r}}))throw Error("Error installing ScrollTimeline polyfill: could not attach WAAPI's animate to DOM Element");if(!Reflect.defineProperty(window,"Animation",{value:A}))throw Error("Error installing Animation constructor.")}();
>>>>>>> d16508c (Update build files)
=======
!function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function i(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e,t){if(e instanceof CSSUnitValue||e instanceof CSSMathSum)return e;if(!t)return null;var n=e.trim().match(/^(-?[0-9]*\.?[0-9]*)(px|%)$/);return n?new CSSUnitValue(n[1],"%"==n[2]?"percent":n[2]):null}window.CSSUnitValue||(window.CSSUnitValue=function(){function e(e,t){this.value_=e,this.unit_=t}var n=e.prototype;return n.displayUnit=function(){switch(this.unit_){case"percent":return"%";case"number":return"";default:return this.unit_.toLowerCase()}},n.toString=function(){return""+this.value+this.displayUnit()},t(e,[{key:"value",get:function(){return this.value_}},{key:"unit",get:function(){return this.unit_}}]),e}()),window.CSSKeywordValue||(window.CSSKeywordValue=function(){function e(e){this.value_=e}return e.prototype.toString=function(){return this.value.toString()},t(e,[{key:"value",get:function(){return this.value_}}]),e}()),window.CSSNumericArray||(window.CSSNumericArray=function(){function e(){this.values=arguments.map(function(e){return new CSSUnitValue(e,"number")})}return e.prototype.toArray=function(){return this.values.map(function(e){return e.value})},e}()),window.CSSMathSum||(window.CSSMathSum=function(){function e(){this.values=new CSSNumericArray(arguments)}return e.prototype.toString=function(){return this.values.toArray().join(" + ")},e}()),window.CSSMathMax||(window.CSSMathMax=function(){function e(){this.values=new CSSNumericArray(arguments)}return e.prototype.toString=function(){return"max("+this.values.toArray().join(", ")+")"},e}()),window.CSSMathMin||(window.CSSMathMin=function(){function e(){this.values=new CSSNumericArray(arguments)}return e.prototype.toString=function(){return"min("+this.values.toArray().join(", ")+")"},e}()),window.CSS||(window.CSS={}),["number","percent","em","ex","px","cm","mm","in","pt","pc","Q","vw","vh","vmin","vmax","rems","ch","deg","rad","grad","turn","ms","s","Hz","kHz","dppx","dpi","dpcm","fr"].forEach(function(e){CSS[e]||(CSS[e]=function(t){return new CSSUnitValue(t,e)})});var a=new CSSKeywordValue("auto"),o=new WeakMap,l=[];function s(e){return e===document.scrollingElement?document:e}function u(e){var t=o.get(e).animations;if(0!==t.length)for(var n=e.currentTime,i=0;i<t.length;i++)t[i].tickAnimation(n)}function c(e,t){var n="horizontal-tb"==getComputedStyle(e).writingMode,i=e.scrollTop;return("horizontal"==t||"inline"==t&&n||"block"==t&&!n)&&(i=Math.abs(e.scrollLeft)),i}function m(e,t){if(e instanceof CSSUnitValue){if("percent"==e.unit)return e.value*t/100;if("px"==e.unit)return e.value;throw TypeError("Unhandled unit type "+e.unit)}if(e instanceof CSSMathSum){for(var n,r=0,a=i(e.values);!(n=a()).done;)r+=m(n.value,t);return r}throw TypeError("Unsupported value type: "+typeof e)}function f(e,t,n,i,o){if(o)return o(t,n,i,0==e.value?"start":"end");"block"===n?n="vertical":"inline"===n&&(n="horizontal");var l="vertical"===n?t.scrollHeight-t.clientHeight:t.scrollWidth-t.clientWidth;return m(r(i===a?e:i),l)}function h(e,t){for(var n=o.get(e).animations,i=0;i<n.length;i++)n[i].animation==t&&n.splice(i,1)}function d(e,t,n){for(var i=o.get(e).animations,r=0;r<i.length;r++)if(i[r].animation==t)return;i.push({animation:t,tickAnimation:n}),u(e)}var p=function(){function e(e){o.set(this,{scrollSource:null,orientation:"block",startScrollOffset:a,endScrollOffset:a,scrollOffsets:[],timeRange:a,animations:[],scrollOffsetFns:[]}),this.scrollSource=e&&void 0!==e.scrollSource?e.scrollSource:document.scrollingElement,this.orientation=e&&e.orientation||"block",this.startScrollOffset=e&&e.startScrollOffset||a,this.endScrollOffset=e&&e.endScrollOffset||a,this.scrollOffsets=e&&void 0!==e.scrollOffsets?e.scrollOffsets:[],this.timeRange=e&&void 0!==e.timeRange?e.timeRange:"auto"}return t(e,[{key:"scrollSource",get:function(){return o.get(this).scrollSource},set:function(e){var t=this;this.scrollSource&&s(this.scrollSource).removeEventListener("scroll",function(){return u(t)}),o.get(this).scrollSource=e,e&&s(e).addEventListener("scroll",function(){return u(t)}),u(this)}},{key:"orientation",get:function(){return o.get(this).orientation},set:function(e){if(-1===["block","inline","horizontal","vertical"].indexOf(e))throw TypeError("Invalid orientation");o.get(this).orientation=e,u(this)}},{key:"scrollOffsets",get:function(){return o.get(this).scrollOffsets},set:function(e){for(var t,n=[],s=[],u=i(e);!(t=u()).done;){var c=t.value,m=null,f=void 0;"auto"==c&&(c=a);for(var h=0;h<l.length;h++){var d=l[h].parse(c);if(void 0!==d){f=d,m=l[h].evaluate;break}}if(!m){if(c!=a){var p=r(c);if(!p||p instanceof CSSUnitValue&&"number"==p.unit)throw TypeError("Invalid scrollOffsets entry.")}f=c}n.push(f),s.push(m)}if(1==n.length&&n[0]==a)throw TypeError("Invalid scrollOffsets value.");var g=o.get(this);g.scrollOffsets=n,g.scrollOffsetFns=s}},{key:"startScrollOffset",get:function(){return o.get(this).startScrollOffset},set:function(e){"auto"==e&&(e=a);var t=o.get(this);t.startScrollOffsetFunction=null;for(var n=0;n<l.length;n++){var i=l[n].parse(e);if(void 0!==i){e=i,t.startScrollOffsetFunction=l[n].evaluate;break}}if(e!=a&&!o.get(this).startScrollOffsetFunction){var s=r(e);if(!s||s instanceof CSSUnitValue&&"number"==s.unit)throw TypeError("Invalid start offset.")}t.startScrollOffset=e,u(this)}},{key:"endScrollOffset",get:function(){return o.get(this).endScrollOffset},set:function(e){"auto"==e&&(e=a),o.get(this).endScrollOffsetFunction=null;for(var t=0;t<l.length;t++){var n=l[t].parse(e);if(void 0!==n){e=n,o.get(this).endScrollOffsetFunction=l[t].evaluate;break}}if(e!=a&&!o.get(this).startScrollOffsetFunction){var i=r(e);if(!i||i instanceof CSSUnitValue&&"number"==i.unit)throw TypeError("Invalid end offset.")}o.get(this).endScrollOffset=e,u(this)}},{key:"timeRange",get:function(){return o.get(this).timeRange},set:function(e){if("auto"!=e&&("number"!=typeof e||!Number.isFinite(e)||e!=e))throw TypeError("Invalid timeRange value");o.get(this).timeRange=e,u(this)}},{key:"phase",get:function(){if(!this.scrollSource)return"inactive";var e=getComputedStyle(this.scrollSource);if("none"==e.display)return"inactive";if(this.scrollSource!=document.scrollingElement&&("visible"==e.overflow||"clip"==e.overflow))return"inactive";var t=f(new CSSUnitValue(0,"percent"),this.scrollSource,this.orientation,this.startScrollOffset,o.get(this).startScrollOffsetFunction),n=f(new CSSUnitValue(100,"percent"),this.scrollSource,this.orientation,this.endScrollOffset,o.get(this).endScrollOffsetFunction),i=f(new CSSUnitValue(100,"percent"),this.scrollSource,this.orientation,new CSSUnitValue(100,"percent"),null);if(null===t||null===n)return"inactive";var r=c(this.scrollSource,this.orientation);return r<t?"before":r>=n&&n<i?"after":"active"}},{key:"currentTime",get:function(){if(!this.scrollSource)return null;if("inactive"==this.phase)return null;var e=f(new CSSUnitValue(0,"percent"),this.scrollSource,this.orientation,this.startScrollOffset,o.get(this).startScrollOffsetFunction),t=f(new CSSUnitValue(100,"percent"),this.scrollSource,this.orientation,this.endScrollOffset,o.get(this).endScrollOffsetFunction),n=function(e){var t=e.timeRange;if(t==a){t=0;for(var n=o.get(e).animations,i=0;i<n.length;i++)t=Math.max(t,n[i].animation.effect.getComputedTiming().activeDuration);Infinity===t&&(t=0)}return t}(this),i=c(this.scrollSource,this.orientation);return i<e?0:i>=t?n:(i-e)/(t-e)*n}},{key:"__polyfill",get:function(){return!0}}]),e}(),g=window.Element.prototype.animate,v=window.Animation,y=function(){function e(){var e=this;this.state="pending",this.nativeResolve=this.nativeReject=null,this.promise=new Promise(function(t,n){e.nativeResolve=t,e.nativeReject=n})}var t=e.prototype;return t.resolve=function(e){this.state="resolved",this.nativeResolve(e)},t.reject=function(e){this.state="rejected",this.promise.catch(function(){}),this.nativeReject(e)},e}();function T(e){e.readyPromise=new y,requestAnimationFrame(function(){null!==e.timeline.currentTime&&A(e)})}function S(){return new DOMException("The user aborted a request","AbortError")}function k(e){e.finishedPromise&&"pending"==e.finishedPromise.state&&"finished"==e.proxy.playState&&(e.finishedPromise.resolve(e.proxy),e.animation.finish(),e.animation.pause())}function w(e){return null!==e.pendingPlaybackRate?e.pendingPlaybackRate:e.animation.playbackRate}function b(e){null!==e.pendingPlaybackRate&&(e.animation.playbackRate=e.pendingPlaybackRate,e.pendingPlaybackRate=null)}function R(e){if(!e.timeline)return null;var t=e.timeline.currentTime;if(null===t)return null;if(null===e.startTime)return null;var n=(t-e.startTime)*e.animation.playbackRate;return-0==n&&(n=0),n}function P(e,t){if(!e.timeline)return null;var n=e.timeline.currentTime;return null==n?null:n-t/e.animation.playbackRate}function C(e,t,n){if(e.timeline){var i=t?e.proxy.currentTime:R(e);if(i&&null!=e.startTime&&!e.proxy.pending){var r=w(e),a=O(e),o=e.previousCurrentTime;r>0&&i>=a?((null===o||o<a)&&(o=a),e.holdTime=t?i:o):r<0&&i<=0?((null==o||o>0)&&(o=0),e.holdTime=t?i:o):0!=r&&(t&&null!==e.holdTime&&(e.startTime=P(e,e.holdTime)),e.holdTime=null)}E(e),e.previousCurrentTime=e.proxy.currentTime,"finished"==e.proxy.playState?(e.finishedPromise||(e.finishedPromise=new y),"pending"==e.finishedPromise.state&&(n?k(e):Promise.resolve().then(function(){k(e)}))):(e.finishedPromise&&"resolved"==e.finishedPromise.state&&(e.finishedPromise=new y),"paused"!=e.animation.playState&&e.animation.pause())}}function O(e){var t=e.animation.effect.getTiming();return Math.max(0,t.delay+t.endDelay+t.iterations*t.duration)}function E(e){e.timeline&&(null!==e.startTime?e.animation.currentTime=(e.timeline.currentTime-e.startTime)*e.animation.playbackRate:null!==e.holdTime&&(e.animation.currentTime=e.holdTime))}function x(e,t){if(e.timeline){var n="paused"==e.proxy.playState&&e.proxy.pending,i=!1,r=null,a=e.proxy.currentTime;e.resetCurrentTimeOnResume&&(a=null,e.resetCurrentTimeOnResume=!1);var o=w(e),l=O(e);if(o>0&&t&&(null==a||a<0||a>=l))r=0;else if(o<0&&t&&(null==a||a<=0||a>l)){if(Infinity==l)return void e.animation.play();r=l}else 0==o&&null==a&&(r=0);null!=r&&(e.startTime=r,e.holdTime=null,b(e)),d(e.timeline,e.animation,M.bind(e.proxy)),e.holdTime&&(e.startTime=null),e.pendingTask&&(e.pendingTask=null,i=!0),(null!==e.holdTime||null!==r||n||null!==e.pendingPlaybackRate)&&(e.readyPromise&&!i&&(e.readyPromise=null),E(e),e.readyPromise||T(e),e.pendingTask="play",C(e,!1,!1))}}function M(e){var t=U.get(this);if(null!=e){t.pendingTask&&A(t);var n=this.playState;"running"!=n&&"finished"!=n||(t.animation.currentTime=(e-this.startTime)*this.playbackRate,"finished"==n&&0!=w(t)&&(t.holdTime=null),C(t,!1,!1))}else"idle"!=t.animation.playState&&t.animation.cancel()}function A(e){"pause"==e.pendingTask?function(e){null!=e.startTime&&null==e.holdTime&&(e.holdTime=(e.timeline.currentTime-e.startTime)*e.animation.playbackRate),b(e),e.startTime=null,e.readyPromise.resolve(e.proxy),C(e,!1,!1),E(e),e.pendingTask=null}(e):"play"==e.pendingTask&&function(e){var t=e.timeline.currentTime;if(null!=e.holdTime)b(e),0==e.animation.playbackRate?e.startTime=t:(e.startTime=t-e.holdTime/e.animation.playbackRate,e.holdTime=null);else if(null!==e.startTime&&null!==e.pendingPlaybackRate){var n=(t-e.startTime)*e.animation.playbackRate;b(e);var i=e.animation.playbackRate;0==i?(e.holdTime=null,e.startTime=t):e.startTime=t-n/i}e.readyPromise&&"pending"==e.readyPromise.state&&e.readyPromise.resolve(e.proxy),C(e,!1,!1),E(e),e.pendingTask=null}(e)}var U=new WeakMap,I=function(){function e(e,t){var n=e instanceof v?e:new v(e,r),i=t instanceof p,r=i?void 0:t;U.set(this,{animation:n,timeline:i?t:void 0,playState:i?"idle":null,readyPromise:null,finishedPromise:null,startTime:null,holdTime:null,previousCurrentTime:null,resetCurrentTimeOnResume:!1,pendingPlaybackRate:null,pendingTask:null,proxy:this})}var n=e.prototype;return n.finish=function(){var e=U.get(this);if(e.timeline){var t=w(e),n=O(e);if(0==t)throw new DOMException("Cannot finish Animation with a playbackRate of 0.","InvalidStateError");if(t>0&&Infinity==n)throw new DOMException("Cannot finish Animation with an infinite target effect end.","InvalidStateError");b(e);var i=t<0?0:n;this.currentTime=i;var r=e.timeline.currentTime;null===e.startTime&&null!==r&&(e.startTime=r-i/e.animation.playbackRate),"pause"==e.pendingTask&&null!==e.startTime&&(e.holdTime=null,e.pendingTask=null,e.readyPromise.resolve(this)),"play"==e.pendingTask&&null!==e.startTime&&(e.pendingTask=null,e.readyPromise.resolve(this)),C(e,!0,!0)}else e.animation.finish()},n.play=function(){var e=U.get(this);e.timeline?x(e,!0):e.animation.play()},n.pause=function(){var e=U.get(this);if(e.timeline){if("paused"!=this.playState){var t=null,n=e.animation.playbackRate,i=O(e);if(null===e.animation.currentTime)if(n>=0)t=0;else{if(Infinity==i)return void e.animation.pause();t=i}null!==t&&(e.startTime=t),"play"==e.pendingTask?e.pendingTask=null:e.readyPromise=null,e.readyPromise||T(e),e.pendingTask="pause"}}else e.animation.pause()},n.reverse=function(){var e=U.get(this),t=w(e),n=e.resetCurrentTimeOnResume?null:this.currentTime,i=Infinity==O(e),r=0!=t&&(t<0||n>0||!i);if(!e.timeline||!r)return r&&(e.pendingPlaybackRate=-w(e)),void e.animation.reverse();if("inactive"==e.timeline.phase)throw new DOMException("Cannot reverse an animation with no active timeline","InvalidStateError");this.updatePlaybackRate(-t),x(e,!0)},n.updatePlaybackRate=function(e){var t=U.get(this);if(t.pendingPlaybackRate=e,t.timeline){if(!t.readyPromise||"pending"!=t.readyPromise.state)switch(this.playState){case"idle":case"paused":b(t);break;case"finished":var n=t.timeline.currentTime,i=null!==n?(n-t.startTime)*t.animation.playbackRate:null;t.startTime=0==e?n:null!=n&&null!=i?(n-i)/e:null,b(t),C(t,!1,!1),E(t);break;default:x(t,!1)}}else t.animation.updatePlaybackRate(e)},n.persist=function(){U.get(this).animation.persist()},n.cancel=function(){var e=U.get(this);e.timeline?("idle"!=this.playState&&(function(e){e.pendingTask&&(e.pendingTask=null,b(e),e.readyPromise.reject(S()),T(e),e.readyPromise.resolve(e.proxy))}(e),e.finishedPromise&&"pending"==e.finishedPromise.state&&e.finishedPromise.reject(S()),e.finishedPromise=new y,e.animation.cancel()),e.startTime=null,e.holdTime=null,h(e.timeline,e.animation)):e.animation.cancel()},n.addEventListener=function(e,t,n){U.get(this).animation.addEventListener(e,t,n)},n.removeEventListener=function(e,t,n){U.get(this).animation.removeEventListener(e,t,n)},n.dispatchEvent=function(e){U.get(this).animation.dispatchEvent(e)},t(e,[{key:"effect",get:function(){return U.get(this).animation.effect},set:function(e){U.get(this).animation.effect=e}},{key:"timeline",get:function(){var e=U.get(this);return e.timeline||e.animation.timeline},set:function(e){var t=this.timeline;if(t!=e){var n=this.playState,i=this.currentTime,r=t instanceof p,a=e instanceof p,o=U.get(this);o.resetCurrentTimeOnResume=!1;var l=this.pending;if(r&&h(o.timeline,o.animation),a){o.timeline=e,b(o);var s=o.animation.playbackRate>=0?0:O(o);switch(n){case"running":case"finished":o.startTime=s,d(o.timeline,o.animation,M.bind(this));break;case"paused":o.resetCurrentTimeOnResume=!0,o.startTime=null,o.holdTime=i;break;default:o.holdTime=null,o.startTime=null}return l&&(o.readyPromise&&"resolved"!=o.readyPromise.state||T(o),o.pendingTask="paused"==n?"pause":"play"),null!==o.startTime&&(o.holdTime=null),void C(o,!1,!1)}if(o.animation.timeline!=e)throw TypeError("Unsupported timeline: "+e);if(h(o.timeline,o.animation),o.timeline=null,r)switch(null!==i&&(o.animation.currentTime=i),n){case"paused":o.animation.pause();break;case"running":case"finished":o.animation.play()}}}},{key:"startTime",get:function(){var e=U.get(this);return e.timeline?e.startTime:e.animation.startTime},set:function(e){var t=U.get(this);if(t.timeline){null==t.timeline.currentTime&&null!=t.startTime&&(t.holdTime=null,E(t));var n=this.currentTime;b(t),t.startTime=e,t.resetCurrentTimeOnResume=!1,t.holdTime=null!==t.startTime&&0!=t.animation.playbackRate?null:n,t.pendingTask&&(t.pendingTask=null,t.readyPromise.resolve(this)),C(t,!0,!1),E(t)}else t.animation.startTime=e}},{key:"currentTime",get:function(){var e=U.get(this);return e.timeline?null!=e.holdTime?e.holdTime:R(e):e.animation.currentTime},set:function(e){var t=U.get(this);if(t.timeline&&null!=e){var n=t.timeline.phase;null!==t.holdTime||null===t.startTime||"inactive"==n||0==t.animation.playbackRate?t.holdTime=e:t.startTime=P(t,e),t.resetCurrentTimeOnResume=!1,"inactive"==n&&(t.startTime=null),t.previousCurrentTime=null,"pause"==t.pendingTask&&(t.holdTime=e,b(t),t.startTime=null,t.pendingTask=null,t.readyPromise.resolve(this)),C(t,!0,!1)}else t.animation.currentTime=e}},{key:"playbackRate",get:function(){return U.get(this).animation.playbackRate},set:function(e){var t=U.get(this);if(t.timeline){t.pendingPlaybackRate=null;var n=this.currentTime;t.animation.playbackRate=e,null!==n&&(this.currentTime=n)}else t.animation.playbackRate=e}},{key:"playState",get:function(){var e=U.get(this);if(!e.timeline)return e.animation.playState;var t=this.currentTime;if(null===t&&null===e.startTime&&null==e.pendingTask)return"idle";if("pause"==e.pendingTask||null===e.startTime&&"play"!=e.pendingTask)return"paused";if(null!=t){if(e.animation.playbackRate>0&&t>=O(e))return"finished";if(e.animation.playbackRate<0&&t<=0)return"finished"}return"running"}},{key:"replaceState",get:function(){return U.get(this).animation.pending}},{key:"pending",get:function(){var e=U.get(this);return e.timeline?!!e.readyPromise&&"pending"==e.readyPromise.state:e.animation.pending}},{key:"id",get:function(){return U.get(this).animation.id}},{key:"onfinish",get:function(){return U.get(this).animation.onfinish},set:function(e){U.get(this).animation.onfinish=e}},{key:"oncancel",get:function(){return U.get(this).animation.oncancel},set:function(e){U.get(this).animation.oncancel=e}},{key:"onremove",get:function(){return U.get(this).animation.onremove},set:function(e){U.get(this).animation.onremove=e}},{key:"finished",get:function(){var e=U.get(this);return e.timeline?(e.finishedPromise||(e.finishedPromise=new y),e.finishedPromise.promise):e.animation.finished}},{key:"ready",get:function(){var e=U.get(this);return e.timeline?(e.readyPromise||(e.readyPromise=new y,e.readyPromise.resolve(this)),e.readyPromise.promise):e.animation.ready}}]),e}(),V=new WeakMap,j=[[[0,1,2,3]],[[0,2],[1,3]],[[0],[1,3],[2]],[[0],[1],[2],[3]]],F=function(){function e(e){V.set(this,{target:null,edge:"start",threshold:0,rootMargin:[[0,"px"],[0,"px"],[0,"px"],[0,"px"]]}),this.target=e.target,this.edge=e.edge||"start",this.threshold=e.threshold||0,this.rootMargin=e.rootMargin||"0px 0px 0px 0px",this.clamp=e.clamp||!1}return t(e,[{key:"target",get:function(){return V.get(this).target},set:function(e){if(!(e instanceof Element))throw V.get(this).target=null,Error("Intersection target must be an element.");V.get(this).target=e}},{key:"edge",get:function(){return V.get(this).edge},set:function(e){-1!=["start","end"].indexOf(e)&&(V.get(this).edge=e)}},{key:"threshold",get:function(){return V.get(this).threshold},set:function(e){var t=parseFloat(e);if(t!=t)throw TypeError("Invalid threshold.");if(t<0||t>1)throw TypeError("threshold must be in the range [0, 1]");V.get(this).threshold=t}},{key:"rootMargin",get:function(){return V.get(this).rootMargin.map(function(e){return e.join("")}).join(" ")},set:function(e){var t=e.split(/ +/);if(t.length<1||t.length>4)throw TypeError("rootMargin must contain between 1 and 4 length components");for(var n=[[],[],[],[]],i=0;i<t.length;i++){var a=r(t[i],!0);if(!a)throw TypeError("Unrecognized rootMargin length");for(var o=j[t.length-1][i],l=0;l<o.length;l++)n[o[l]]=[parseFloat(a.value),a.unit]}V.get(this).rootMargin=n}},{key:"clamp",set:function(e){V.get(this).clamp=!!e}}]),e}();if(l.push({parse:function(e){if(e.target)return new F(e)},evaluate:function(e,t,n,i){"block"==t?t="vertical":"inline"==t&&(t="horizontal");for(var r,a=e==document.scrollingElement?{left:0,right:e.clientWidth,top:0,bottom:e.clientHeight,width:e.clientWidth,height:e.clientHeight}:e.getBoundingClientRect(),o=V.get(n).rootMargin,l=[],s=0;s<4;s++)l.push("percent"==(r=o[s])[1]?r[0]*(s%2==0?a.height:a.width)/100:r[0]);var u=a.left-l[3],c=a.right-a.left+l[3]+l[1],m=a.top-l[0],f=a.bottom-a.top+l[0]+l[2],h=V.get(n).clamp,d=n.target.getBoundingClientRect(),p=n.threshold;if("start"==n.edge&&(p=1-p),"vertical"==t){var g=d.top+d.height*p-m+e.scrollTop;return h?"end"==n.edge?Math.max(0,g-f):Math.min(g,e.scrollHeight-f):"end"==n.edge?g-f:g}var v=d.left+d.width*p-u+e.scrollLeft;return h?"end"==n.edge?Math.max(0,v-c):Math.min(v,e.scrollWidth-c):"end"==n.edge?v-c:v}}),!Reflect.defineProperty(window,"ScrollTimeline",{value:p}))throw Error("Error installing ScrollTimeline polyfill: could not attach ScrollTimeline to window");if(!Reflect.defineProperty(Element.prototype,"animate",{value:function(e,t){var n=t.timeline;n instanceof p&&delete t.timeline;var i=g.apply(this,[e,t]),r=new I(i,n);return n instanceof p&&(i.pause(),r.play()),r}}))throw Error("Error installing ScrollTimeline polyfill: could not attach WAAPI's animate to DOM Element");if(!Reflect.defineProperty(window,"Animation",{value:I}))throw Error("Error installing Animation constructor.")}();
>>>>>>> c4ecd0b (Add polyfill for CSSOM.)
<<<<<<< HEAD
=======
!function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e instanceof CSSUnitValue||e instanceof CSSMathSum)return e;if(!t)return null;var n=e.trim().match(/^(-?[0-9]*\.?[0-9]*)(px|%)$/);return n?new CSSUnitValue(n[1],"%"==n[2]?"percent":n[2]):null}!function(){var e=new WeakMap;function i(e){for(var t,n=[],i=0;i<e.length;i++)n[i]="number"==typeof(t=e[i])?new CSSUnitValue(t,"number"):t;return n}window.CSSUnitValue||(window.CSSUnitValue=function(){function n(t,n){e.set(this,{value:t,unit:n})}return n.prototype.toString=function(){var t=e.get(this);return""+t.value+function(e){switch(e){case"percent":return"%";case"number":return"";default:return e.toLowerCase()}}(t.unit)},t(n,[{key:"value",get:function(){return e.get(this).value},set:function(t){e.get(this).value=t}},{key:"unit",get:function(){return e.get(this).unit}}]),n}()),window.CSSKeywordValue||(window.CSSKeywordValue=function(){function e(e){this.value=e}return e.prototype.toString=function(){return this.value.toString()},e}());var r=function(){function n(t,n,r,a){e.set(this,{values:i(t),operator:n,name:r||n,delimiter:a||", "})}return n.prototype.toString=function(){var t=e.get(this);return t.name+"("+t.values.join(t.delimiter)+")"},t(n,[{key:"operator",get:function(){return e.get(this).operator}},{key:"values",get:function(){return e.get(this).values}}]),n}();window.CSSMathSum||(window.CSSMathSum=function(e){function t(t){return e.call(this,arguments,"sum","calc"," + ")||this}return n(t,e),t}(r)),window.CSSMathProduct||(window.CSSMathProduct=function(e){function t(t){return e.call(this,arguments,"product","calc"," * ")||this}return n(t,e),t}(r)),window.CSSMathNegate||(window.CSSMathNegate=function(e){function t(t){return e.call(this,[arguments[0]],"negate","-")||this}return n(t,e),t}(r)),window.CSSMathInvert||(window.CSSMathNegate=function(e){function t(t){return e.call(this,[1,arguments[0]],"invert","calc"," / ")||this}return n(t,e),t}(r)),window.CSSMathMax||(window.CSSMathMax=function(e){function t(){return e.call(this,arguments,"max")||this}return n(t,e),t}(r)),window.CSSMathMin||(window.CSSMathMin=function(e){function t(){return e.call(this,arguments,"min")||this}return n(t,e),t}(r)),window.CSS||(window.CSS={}),["number","percent","em","ex","px","cm","mm","in","pt","pc","Q","vw","vh","vmin","vmax","rems","ch","deg","rad","grad","turn","ms","s","Hz","kHz","dppx","dpi","dpcm","fr"].forEach(function(e){CSS[e]||(CSS[e]=function(t){return new CSSUnitValue(t,e)})})}();var l=new CSSKeywordValue("auto"),s=new WeakMap,u=[];function c(e){return e===document.scrollingElement?document:e}function f(e){var t=s.get(e).animations;if(0!==t.length)for(var n=e.currentTime,i=0;i<t.length;i++)t[i].tickAnimation(n)}function m(e,t){var n="horizontal-tb"==getComputedStyle(e).writingMode,i=e.scrollTop;return("horizontal"==t||"inline"==t&&n||"block"==t&&!n)&&(i=Math.abs(e.scrollLeft)),i}function h(e,t){if(e instanceof CSSUnitValue){if("percent"==e.unit)return e.value*t/100;if("px"==e.unit)return e.value;throw TypeError("Unhandled unit type "+e.unit)}if(e instanceof CSSMathSum){for(var n,i=0,r=a(e.values);!(n=r()).done;)i+=h(n.value,t);return i}throw TypeError("Unsupported value type: "+typeof e)}function d(e,t,n,i,r){if(r)return r(t,n,i,0==e.value?"start":"end");"block"===n?n="vertical":"inline"===n&&(n="horizontal");var a="vertical"===n?t.scrollHeight-t.clientHeight:t.scrollWidth-t.clientWidth;return h(o(i===l?e:i),a)}function p(e,t){for(var n=s.get(e).animations,i=0;i<n.length;i++)n[i].animation==t&&n.splice(i,1)}function g(e,t,n){for(var i=s.get(e).animations,r=0;r<i.length;r++)if(i[r].animation==t)return;i.push({animation:t,tickAnimation:n}),f(e)}var v=function(){function e(e){s.set(this,{scrollSource:null,orientation:"block",startScrollOffset:l,endScrollOffset:l,scrollOffsets:[],timeRange:l,animations:[],scrollOffsetFns:[]}),this.scrollSource=e&&void 0!==e.scrollSource?e.scrollSource:document.scrollingElement,this.orientation=e&&e.orientation||"block",this.startScrollOffset=e&&e.startScrollOffset||l,this.endScrollOffset=e&&e.endScrollOffset||l,this.scrollOffsets=e&&void 0!==e.scrollOffsets?e.scrollOffsets:[],this.timeRange=e&&void 0!==e.timeRange?e.timeRange:"auto"}return t(e,[{key:"scrollSource",get:function(){return s.get(this).scrollSource},set:function(e){var t=this;this.scrollSource&&c(this.scrollSource).removeEventListener("scroll",function(){return f(t)}),s.get(this).scrollSource=e,e&&c(e).addEventListener("scroll",function(){return f(t)}),f(this)}},{key:"orientation",get:function(){return s.get(this).orientation},set:function(e){if(-1===["block","inline","horizontal","vertical"].indexOf(e))throw TypeError("Invalid orientation");s.get(this).orientation=e,f(this)}},{key:"scrollOffsets",get:function(){return s.get(this).scrollOffsets},set:function(e){for(var t,n=[],i=[],r=a(e);!(t=r()).done;){var c=t.value,f=null,m=void 0;"auto"==c&&(c=l);for(var h=0;h<u.length;h++){var d=u[h].parse(c);if(void 0!==d){m=d,f=u[h].evaluate;break}}if(!f){if(c!=l){var p=o(c);if(!p||p instanceof CSSUnitValue&&"number"==p.unit)throw TypeError("Invalid scrollOffsets entry.")}m=c}n.push(m),i.push(f)}if(1==n.length&&n[0]==l)throw TypeError("Invalid scrollOffsets value.");var g=s.get(this);g.scrollOffsets=n,g.scrollOffsetFns=i}},{key:"startScrollOffset",get:function(){return s.get(this).startScrollOffset},set:function(e){"auto"==e&&(e=l);var t=s.get(this);t.startScrollOffsetFunction=null;for(var n=0;n<u.length;n++){var i=u[n].parse(e);if(void 0!==i){e=i,t.startScrollOffsetFunction=u[n].evaluate;break}}if(e!=l&&!s.get(this).startScrollOffsetFunction){var r=o(e);if(!r||r instanceof CSSUnitValue&&"number"==r.unit)throw TypeError("Invalid start offset.")}t.startScrollOffset=e,f(this)}},{key:"endScrollOffset",get:function(){return s.get(this).endScrollOffset},set:function(e){"auto"==e&&(e=l),s.get(this).endScrollOffsetFunction=null;for(var t=0;t<u.length;t++){var n=u[t].parse(e);if(void 0!==n){e=n,s.get(this).endScrollOffsetFunction=u[t].evaluate;break}}if(e!=l&&!s.get(this).startScrollOffsetFunction){var i=o(e);if(!i||i instanceof CSSUnitValue&&"number"==i.unit)throw TypeError("Invalid end offset.")}s.get(this).endScrollOffset=e,f(this)}},{key:"timeRange",get:function(){return s.get(this).timeRange},set:function(e){if("auto"!=e&&("number"!=typeof e||!Number.isFinite(e)||e!=e))throw TypeError("Invalid timeRange value");s.get(this).timeRange=e,f(this)}},{key:"phase",get:function(){if(!this.scrollSource)return"inactive";var e=getComputedStyle(this.scrollSource);if("none"==e.display)return"inactive";if(this.scrollSource!=document.scrollingElement&&("visible"==e.overflow||"clip"==e.overflow))return"inactive";var t=d(new CSSUnitValue(0,"percent"),this.scrollSource,this.orientation,this.startScrollOffset,s.get(this).startScrollOffsetFunction),n=d(new CSSUnitValue(100,"percent"),this.scrollSource,this.orientation,this.endScrollOffset,s.get(this).endScrollOffsetFunction),i=d(new CSSUnitValue(100,"percent"),this.scrollSource,this.orientation,new CSSUnitValue(100,"percent"),null);if(null===t||null===n)return"inactive";var r=m(this.scrollSource,this.orientation);return r<t?"before":r>=n&&n<i?"after":"active"}},{key:"currentTime",get:function(){if(!this.scrollSource)return null;if("inactive"==this.phase)return null;var e=d(new CSSUnitValue(0,"percent"),this.scrollSource,this.orientation,this.startScrollOffset,s.get(this).startScrollOffsetFunction),t=d(new CSSUnitValue(100,"percent"),this.scrollSource,this.orientation,this.endScrollOffset,s.get(this).endScrollOffsetFunction),n=function(e){var t=e.timeRange;if(t==l){t=0;for(var n=s.get(e).animations,i=0;i<n.length;i++)t=Math.max(t,n[i].animation.effect.getComputedTiming().activeDuration);Infinity===t&&(t=0)}return t}(this),i=m(this.scrollSource,this.orientation);return i<e?0:i>=t?n:(i-e)/(t-e)*n}},{key:"__polyfill",get:function(){return!0}}]),e}(),y=window.Element.prototype.animate,T=window.Animation,S=function(){function e(){var e=this;this.state="pending",this.nativeResolve=this.nativeReject=null,this.promise=new Promise(function(t,n){e.nativeResolve=t,e.nativeReject=n})}var t=e.prototype;return t.resolve=function(e){this.state="resolved",this.nativeResolve(e)},t.reject=function(e){this.state="rejected",this.promise.catch(function(){}),this.nativeReject(e)},e}();function k(e){e.readyPromise=new S,requestAnimationFrame(function(){null!==e.timeline.currentTime&&V(e)})}function w(){return new DOMException("The user aborted a request","AbortError")}function b(e){e.finishedPromise&&"pending"==e.finishedPromise.state&&"finished"==e.proxy.playState&&(e.finishedPromise.resolve(e.proxy),e.animation.finish(),e.animation.pause())}function P(e){return null!==e.pendingPlaybackRate?e.pendingPlaybackRate:e.animation.playbackRate}function R(e){null!==e.pendingPlaybackRate&&(e.animation.playbackRate=e.pendingPlaybackRate,e.pendingPlaybackRate=null)}function C(e){if(!e.timeline)return null;var t=e.timeline.currentTime;if(null===t)return null;if(null===e.startTime)return null;var n=(t-e.startTime)*e.animation.playbackRate;return-0==n&&(n=0),n}function O(e,t){if(!e.timeline)return null;var n=e.timeline.currentTime;return null==n?null:n-t/e.animation.playbackRate}function E(e,t,n){if(e.timeline){var i=t?e.proxy.currentTime:C(e);if(i&&null!=e.startTime&&!e.proxy.pending){var r=P(e),a=M(e),o=e.previousCurrentTime;r>0&&i>=a?((null===o||o<a)&&(o=a),e.holdTime=t?i:o):r<0&&i<=0?((null==o||o>0)&&(o=0),e.holdTime=t?i:o):0!=r&&(t&&null!==e.holdTime&&(e.startTime=O(e,e.holdTime)),e.holdTime=null)}x(e),e.previousCurrentTime=e.proxy.currentTime,"finished"==e.proxy.playState?(e.finishedPromise||(e.finishedPromise=new S),"pending"==e.finishedPromise.state&&(n?b(e):Promise.resolve().then(function(){b(e)}))):(e.finishedPromise&&"resolved"==e.finishedPromise.state&&(e.finishedPromise=new S),"paused"!=e.animation.playState&&e.animation.pause())}}function M(e){var t=e.animation.effect.getTiming();return Math.max(0,t.delay+t.endDelay+t.iterations*t.duration)}function x(e){e.timeline&&(null!==e.startTime?e.animation.currentTime=(e.timeline.currentTime-e.startTime)*e.animation.playbackRate:null!==e.holdTime&&(e.animation.currentTime=e.holdTime))}function I(e,t){if(e.timeline){var n="paused"==e.proxy.playState&&e.proxy.pending,i=!1,r=null,a=e.proxy.currentTime;e.resetCurrentTimeOnResume&&(a=null,e.resetCurrentTimeOnResume=!1);var o=P(e),l=M(e);if(o>0&&t&&(null==a||a<0||a>=l))r=0;else if(o<0&&t&&(null==a||a<=0||a>l)){if(Infinity==l)return void e.animation.play();r=l}else 0==o&&null==a&&(r=0);null!=r&&(e.startTime=r,e.holdTime=null,R(e)),g(e.timeline,e.animation,U.bind(e.proxy)),e.holdTime&&(e.startTime=null),e.pendingTask&&(e.pendingTask=null,i=!0),(null!==e.holdTime||null!==r||n||null!==e.pendingPlaybackRate)&&(e.readyPromise&&!i&&(e.readyPromise=null),x(e),e.readyPromise||k(e),e.pendingTask="play",E(e,!1,!1))}}function U(e){var t=A.get(this);if(null!=e){t.pendingTask&&V(t);var n=this.playState;"running"!=n&&"finished"!=n||(t.animation.currentTime=(e-this.startTime)*this.playbackRate,"finished"==n&&0!=P(t)&&(t.holdTime=null),E(t,!1,!1))}else"idle"!=t.animation.playState&&t.animation.cancel()}function V(e){"pause"==e.pendingTask?function(e){null!=e.startTime&&null==e.holdTime&&(e.holdTime=(e.timeline.currentTime-e.startTime)*e.animation.playbackRate),R(e),e.startTime=null,e.readyPromise.resolve(e.proxy),E(e,!1,!1),x(e),e.pendingTask=null}(e):"play"==e.pendingTask&&function(e){var t=e.timeline.currentTime;if(null!=e.holdTime)R(e),0==e.animation.playbackRate?e.startTime=t:(e.startTime=t-e.holdTime/e.animation.playbackRate,e.holdTime=null);else if(null!==e.startTime&&null!==e.pendingPlaybackRate){var n=(t-e.startTime)*e.animation.playbackRate;R(e);var i=e.animation.playbackRate;0==i?(e.holdTime=null,e.startTime=t):e.startTime=t-n/i}e.readyPromise&&"pending"==e.readyPromise.state&&e.readyPromise.resolve(e.proxy),E(e,!1,!1),x(e),e.pendingTask=null}(e)}var A=new WeakMap,j=function(){function e(e,t){var n=e instanceof T?e:new T(e,r),i=t instanceof v,r=i?void 0:t;A.set(this,{animation:n,timeline:i?t:void 0,playState:i?"idle":null,readyPromise:null,finishedPromise:null,startTime:null,holdTime:null,previousCurrentTime:null,resetCurrentTimeOnResume:!1,pendingPlaybackRate:null,pendingTask:null,proxy:this})}var n=e.prototype;return n.finish=function(){var e=A.get(this);if(e.timeline){var t=P(e),n=M(e);if(0==t)throw new DOMException("Cannot finish Animation with a playbackRate of 0.","InvalidStateError");if(t>0&&Infinity==n)throw new DOMException("Cannot finish Animation with an infinite target effect end.","InvalidStateError");R(e);var i=t<0?0:n;this.currentTime=i;var r=e.timeline.currentTime;null===e.startTime&&null!==r&&(e.startTime=r-i/e.animation.playbackRate),"pause"==e.pendingTask&&null!==e.startTime&&(e.holdTime=null,e.pendingTask=null,e.readyPromise.resolve(this)),"play"==e.pendingTask&&null!==e.startTime&&(e.pendingTask=null,e.readyPromise.resolve(this)),E(e,!0,!0)}else e.animation.finish()},n.play=function(){var e=A.get(this);e.timeline?I(e,!0):e.animation.play()},n.pause=function(){var e=A.get(this);if(e.timeline){if("paused"!=this.playState){var t=null,n=e.animation.playbackRate,i=M(e);if(null===e.animation.currentTime)if(n>=0)t=0;else{if(Infinity==i)return void e.animation.pause();t=i}null!==t&&(e.startTime=t),"play"==e.pendingTask?e.pendingTask=null:e.readyPromise=null,e.readyPromise||k(e),e.pendingTask="pause"}}else e.animation.pause()},n.reverse=function(){var e=A.get(this),t=P(e),n=e.resetCurrentTimeOnResume?null:this.currentTime,i=Infinity==M(e),r=0!=t&&(t<0||n>0||!i);if(!e.timeline||!r)return r&&(e.pendingPlaybackRate=-P(e)),void e.animation.reverse();if("inactive"==e.timeline.phase)throw new DOMException("Cannot reverse an animation with no active timeline","InvalidStateError");this.updatePlaybackRate(-t),I(e,!0)},n.updatePlaybackRate=function(e){var t=A.get(this);if(t.pendingPlaybackRate=e,t.timeline){if(!t.readyPromise||"pending"!=t.readyPromise.state)switch(this.playState){case"idle":case"paused":R(t);break;case"finished":var n=t.timeline.currentTime,i=null!==n?(n-t.startTime)*t.animation.playbackRate:null;t.startTime=0==e?n:null!=n&&null!=i?(n-i)/e:null,R(t),E(t,!1,!1),x(t);break;default:I(t,!1)}}else t.animation.updatePlaybackRate(e)},n.persist=function(){A.get(this).animation.persist()},n.cancel=function(){var e=A.get(this);e.timeline?("idle"!=this.playState&&(function(e){e.pendingTask&&(e.pendingTask=null,R(e),e.readyPromise.reject(w()),k(e),e.readyPromise.resolve(e.proxy))}(e),e.finishedPromise&&"pending"==e.finishedPromise.state&&e.finishedPromise.reject(w()),e.finishedPromise=new S,e.animation.cancel()),e.startTime=null,e.holdTime=null,p(e.timeline,e.animation)):e.animation.cancel()},n.addEventListener=function(e,t,n){A.get(this).animation.addEventListener(e,t,n)},n.removeEventListener=function(e,t,n){A.get(this).animation.removeEventListener(e,t,n)},n.dispatchEvent=function(e){A.get(this).animation.dispatchEvent(e)},t(e,[{key:"effect",get:function(){return A.get(this).animation.effect},set:function(e){A.get(this).animation.effect=e}},{key:"timeline",get:function(){var e=A.get(this);return e.timeline||e.animation.timeline},set:function(e){var t=this.timeline;if(t!=e){var n=this.playState,i=this.currentTime,r=t instanceof v,a=e instanceof v,o=A.get(this);o.resetCurrentTimeOnResume=!1;var l=this.pending;if(r&&p(o.timeline,o.animation),a){o.timeline=e,R(o);var s=o.animation.playbackRate>=0?0:M(o);switch(n){case"running":case"finished":o.startTime=s,g(o.timeline,o.animation,U.bind(this));break;case"paused":o.resetCurrentTimeOnResume=!0,o.startTime=null,o.holdTime=i;break;default:o.holdTime=null,o.startTime=null}return l&&(o.readyPromise&&"resolved"!=o.readyPromise.state||k(o),o.pendingTask="paused"==n?"pause":"play"),null!==o.startTime&&(o.holdTime=null),void E(o,!1,!1)}if(o.animation.timeline!=e)throw TypeError("Unsupported timeline: "+e);if(p(o.timeline,o.animation),o.timeline=null,r)switch(null!==i&&(o.animation.currentTime=i),n){case"paused":o.animation.pause();break;case"running":case"finished":o.animation.play()}}}},{key:"startTime",get:function(){var e=A.get(this);return e.timeline?e.startTime:e.animation.startTime},set:function(e){var t=A.get(this);if(t.timeline){null==t.timeline.currentTime&&null!=t.startTime&&(t.holdTime=null,x(t));var n=this.currentTime;R(t),t.startTime=e,t.resetCurrentTimeOnResume=!1,t.holdTime=null!==t.startTime&&0!=t.animation.playbackRate?null:n,t.pendingTask&&(t.pendingTask=null,t.readyPromise.resolve(this)),E(t,!0,!1),x(t)}else t.animation.startTime=e}},{key:"currentTime",get:function(){var e=A.get(this);return e.timeline?null!=e.holdTime?e.holdTime:C(e):e.animation.currentTime},set:function(e){var t=A.get(this);if(t.timeline&&null!=e){var n=t.timeline.phase;null!==t.holdTime||null===t.startTime||"inactive"==n||0==t.animation.playbackRate?t.holdTime=e:t.startTime=O(t,e),t.resetCurrentTimeOnResume=!1,"inactive"==n&&(t.startTime=null),t.previousCurrentTime=null,"pause"==t.pendingTask&&(t.holdTime=e,R(t),t.startTime=null,t.pendingTask=null,t.readyPromise.resolve(this)),E(t,!0,!1)}else t.animation.currentTime=e}},{key:"playbackRate",get:function(){return A.get(this).animation.playbackRate},set:function(e){var t=A.get(this);if(t.timeline){t.pendingPlaybackRate=null;var n=this.currentTime;t.animation.playbackRate=e,null!==n&&(this.currentTime=n)}else t.animation.playbackRate=e}},{key:"playState",get:function(){var e=A.get(this);if(!e.timeline)return e.animation.playState;var t=this.currentTime;if(null===t&&null===e.startTime&&null==e.pendingTask)return"idle";if("pause"==e.pendingTask||null===e.startTime&&"play"!=e.pendingTask)return"paused";if(null!=t){if(e.animation.playbackRate>0&&t>=M(e))return"finished";if(e.animation.playbackRate<0&&t<=0)return"finished"}return"running"}},{key:"replaceState",get:function(){return A.get(this).animation.pending}},{key:"pending",get:function(){var e=A.get(this);return e.timeline?!!e.readyPromise&&"pending"==e.readyPromise.state:e.animation.pending}},{key:"id",get:function(){return A.get(this).animation.id}},{key:"onfinish",get:function(){return A.get(this).animation.onfinish},set:function(e){A.get(this).animation.onfinish=e}},{key:"oncancel",get:function(){return A.get(this).animation.oncancel},set:function(e){A.get(this).animation.oncancel=e}},{key:"onremove",get:function(){return A.get(this).animation.onremove},set:function(e){A.get(this).animation.onremove=e}},{key:"finished",get:function(){var e=A.get(this);return e.timeline?(e.finishedPromise||(e.finishedPromise=new S),e.finishedPromise.promise):e.animation.finished}},{key:"ready",get:function(){var e=A.get(this);return e.timeline?(e.readyPromise||(e.readyPromise=new S,e.readyPromise.resolve(this)),e.readyPromise.promise):e.animation.ready}}]),e}(),F=new WeakMap,W=[[[0,1,2,3]],[[0,2],[1,3]],[[0],[1,3],[2]],[[0],[1],[2],[3]]],L=function(){function e(e){F.set(this,{target:null,edge:"start",threshold:0,rootMargin:[[0,"px"],[0,"px"],[0,"px"],[0,"px"]]}),this.target=e.target,this.edge=e.edge||"start",this.threshold=e.threshold||0,this.rootMargin=e.rootMargin||"0px 0px 0px 0px",this.clamp=e.clamp||!1}return t(e,[{key:"target",get:function(){return F.get(this).target},set:function(e){if(!(e instanceof Element))throw F.get(this).target=null,Error("Intersection target must be an element.");F.get(this).target=e}},{key:"edge",get:function(){return F.get(this).edge},set:function(e){-1!=["start","end"].indexOf(e)&&(F.get(this).edge=e)}},{key:"threshold",get:function(){return F.get(this).threshold},set:function(e){var t=parseFloat(e);if(t!=t)throw TypeError("Invalid threshold.");if(t<0||t>1)throw TypeError("threshold must be in the range [0, 1]");F.get(this).threshold=t}},{key:"rootMargin",get:function(){return F.get(this).rootMargin.map(function(e){return e.join("")}).join(" ")},set:function(e){var t=e.split(/ +/);if(t.length<1||t.length>4)throw TypeError("rootMargin must contain between 1 and 4 length components");for(var n=[[],[],[],[]],i=0;i<t.length;i++){var r=o(t[i],!0);if(!r)throw TypeError("Unrecognized rootMargin length");for(var a=W[t.length-1][i],l=0;l<a.length;l++)n[a[l]]=[parseFloat(r.value),r.unit]}F.get(this).rootMargin=n}},{key:"clamp",set:function(e){F.get(this).clamp=!!e}}]),e}();if(u.push({parse:function(e){if(e.target)return new L(e)},evaluate:function(e,t,n,i){"block"==t?t="vertical":"inline"==t&&(t="horizontal");for(var r,a=e==document.scrollingElement?{left:0,right:e.clientWidth,top:0,bottom:e.clientHeight,width:e.clientWidth,height:e.clientHeight}:e.getBoundingClientRect(),o=F.get(n).rootMargin,l=[],s=0;s<4;s++)l.push("percent"==(r=o[s])[1]?r[0]*(s%2==0?a.height:a.width)/100:r[0]);var u=a.left-l[3],c=a.right-a.left+l[3]+l[1],f=a.top-l[0],m=a.bottom-a.top+l[0]+l[2],h=F.get(n).clamp,d=n.target.getBoundingClientRect(),p=n.threshold;if("start"==n.edge&&(p=1-p),"vertical"==t){var g=d.top+d.height*p-f+e.scrollTop;return h?"end"==n.edge?Math.max(0,g-m):Math.min(g,e.scrollHeight-m):"end"==n.edge?g-m:g}var v=d.left+d.width*p-u+e.scrollLeft;return h?"end"==n.edge?Math.max(0,v-c):Math.min(v,e.scrollWidth-c):"end"==n.edge?v-c:v}}),!Reflect.defineProperty(window,"ScrollTimeline",{value:v}))throw Error("Error installing ScrollTimeline polyfill: could not attach ScrollTimeline to window");if(!Reflect.defineProperty(Element.prototype,"animate",{value:function(e,t){var n=t.timeline;n instanceof v&&delete t.timeline;var i=y.apply(this,[e,t]),r=new j(i,n);return n instanceof v&&(i.pause(),r.play()),r}}))throw Error("Error installing ScrollTimeline polyfill: could not attach WAAPI's animate to DOM Element");if(!Reflect.defineProperty(window,"Animation",{value:j}))throw Error("Error installing Animation constructor.")}();
>>>>>>> fea05b5 (Add missing features)
=======
=======
>>>>>>> e7d4bb4 (Update build files)
!function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e instanceof CSSUnitValue||e instanceof CSSMathSum)return e;if(!t)return null;var n=e.trim().match(/^(-?[0-9]*\.?[0-9]*)(px|%)$/);return n?new CSSUnitValue(n[1],"%"==n[2]?"percent":n[2]):null}!function(){var e,i=new WeakMap;function r(e){for(var t,n=[],i=0;i<e.length;i++)n[i]="number"==typeof(t=e[i])?new CSSUnitValue(t,"number"):t;return n}var a=function(){function e(e,t,n,a){i.set(this,{values:r(e),operator:t,name:n||t,delimiter:a||", "})}return e.prototype.toString=function(){var e=i.get(this);return e.name+"("+e.values.join(e.delimiter)+")"},t(e,[{key:"operator",get:function(){return i.get(this).operator}},{key:"values",get:function(){return i.get(this).values}}]),e}(),o=((e={CSSUnitValue:function(){function e(e,t){i.set(this,{value:e,unit:t})}return e.prototype.toString=function(){var e=i.get(this);return""+e.value+function(e){switch(e){case"percent":return"%";case"number":return"";default:return e.toLowerCase()}}(e.unit)},t(e,[{key:"value",get:function(){return i.get(this).value},set:function(e){i.get(this).value=e}},{key:"unit",get:function(){return i.get(this).unit}}]),e}(),CSSKeywordValue:function(){function e(e){this.value=e}return e.prototype.toString=function(){return this.value.toString()},e}(),CSSMathSum:function(e){function t(t){return e.call(this,arguments,"sum","calc"," + ")||this}return n(t,e),t}(a),CSSMathProduct:function(e){function t(t){return e.call(this,arguments,"product","calc"," * ")||this}return n(t,e),t}(a),CSSMathNegate:function(e){function t(t){return e.call(this,[arguments[0]],"negate","-")||this}return n(t,e),t}(a)}).CSSMathNegate=function(e){function t(t){return e.call(this,[1,arguments[0]],"invert","calc"," / ")||this}return n(t,e),t}(a),e.CSSMathMax=function(e){function t(){return e.call(this,arguments,"max")||this}return n(t,e),t}(a),e.CSSMathMin=function(e){function t(){return e.call(this,arguments,"min")||this}return n(t,e),t}(a),e);if(!window.CSS&&!Reflect.defineProperty(window,"CSS",{value:{}}))throw Error("Error installing CSSOM support");for(var l in window.CSSUnitValue||["number","percent","em","ex","px","cm","mm","in","pt","pc","Q","vw","vh","vmin","vmax","rems","ch","deg","rad","grad","turn","ms","s","Hz","kHz","dppx","dpi","dpcm","fr"].forEach(function(e){if(!Reflect.defineProperty(CSS,e,{value:function(t){return new CSSUnitValue(t,e)}}))throw Error("Error installing CSS."+e)}),o)if(!(l in window)&&!Reflect.defineProperty(window,l,{value:o[l]}))throw Error("Error installing CSSOM support for "+l)}();var l=new CSSKeywordValue("auto"),s=new WeakMap,u=[];function c(e){return e===document.scrollingElement?document:e}function m(e){var t=s.get(e).animations;if(0!==t.length)for(var n=e.currentTime,i=0;i<t.length;i++)t[i].tickAnimation(n)}function f(e,t){var n="horizontal-tb"==getComputedStyle(e).writingMode,i=e.scrollTop;return("horizontal"==t||"inline"==t&&n||"block"==t&&!n)&&(i=Math.abs(e.scrollLeft)),i}function h(e,t){if(e instanceof CSSUnitValue){if("percent"==e.unit)return e.value*t/100;if("px"==e.unit)return e.value;throw TypeError("Unhandled unit type "+e.unit)}if(e instanceof CSSMathSum){for(var n,i=0,r=a(e.values);!(n=r()).done;)i+=h(n.value,t);return i}throw TypeError("Unsupported value type: "+typeof e)}function p(e,t,n,i,r){if(r)return r(t,n,i,0==e.value?"start":"end");"block"===n?n="vertical":"inline"===n&&(n="horizontal");var a="vertical"===n?t.scrollHeight-t.clientHeight:t.scrollWidth-t.clientWidth;return h(o(i===l?e:i),a)}function d(e,t,n,i){var r=[],a=!0;0==n.length?(r.push(p(new CSSUnitValue(0,"percent"),e,t,l)),a=!1,r.push(p(new CSSUnitValue(100,"percent"),e,t,l))):1==n.length&&(r.push(p(new CSSUnitValue(0,"percent"),e,t,l)),a=!1);for(var o=0;o<n.length;o++){var s=p(a?new CSSUnitValue(0,"percent"):new CSSUnitValue(100,"percent"),e,t,n[o],i[o]);if(null===s)return[];r.push(s),a=!1}return r}function g(e,t){for(var n=s.get(e).animations,i=0;i<n.length;i++)n[i].animation==t&&n.splice(i,1)}function v(e,t,n){for(var i=s.get(e).animations,r=0;r<i.length;r++)if(i[r].animation==t)return;i.push({animation:t,tickAnimation:n}),m(e)}var y=function(){function e(e){s.set(this,{scrollSource:null,orientation:"block",scrollOffsets:[],timeRange:l,animations:[],scrollOffsetFns:[]}),this.scrollSource=e&&void 0!==e.scrollSource?e.scrollSource:document.scrollingElement,this.orientation=e&&e.orientation||"block",this.scrollOffsets=e&&void 0!==e.scrollOffsets?e.scrollOffsets:[],this.timeRange=e&&void 0!==e.timeRange?e.timeRange:"auto"}return t(e,[{key:"scrollSource",get:function(){return s.get(this).scrollSource},set:function(e){var t=this;this.scrollSource&&c(this.scrollSource).removeEventListener("scroll",function(){return m(t)}),s.get(this).scrollSource=e,e&&c(e).addEventListener("scroll",function(){return m(t)}),m(this)}},{key:"orientation",get:function(){return s.get(this).orientation},set:function(e){if(-1===["block","inline","horizontal","vertical"].indexOf(e))throw TypeError("Invalid orientation");s.get(this).orientation=e,m(this)}},{key:"scrollOffsets",get:function(){return s.get(this).scrollOffsets},set:function(e){for(var t,n=[],i=[],r=a(e);!(t=r()).done;){var c=t.value,f=null,h=void 0;"auto"==c&&(c=l);for(var p=0;p<u.length;p++){var d=u[p].parse(c);if(void 0!==d){h=d,f=u[p].evaluate;break}}if(!f){if(c!=l){var g=o(c);if(!g||g instanceof CSSUnitValue&&"number"==g.unit)throw TypeError("Invalid scrollOffsets entry.")}h=c}n.push(h),i.push(f)}if(1==n.length&&n[0]==l)throw TypeError("Invalid scrollOffsets value.");var v=s.get(this);v.scrollOffsets=n,v.scrollOffsetFns=i,m(this)}},{key:"timeRange",get:function(){return s.get(this).timeRange},set:function(e){if("auto"!=e&&("number"!=typeof e||!Number.isFinite(e)||e!=e))throw TypeError("Invalid timeRange value");s.get(this).timeRange=e,m(this)}},{key:"phase",get:function(){if(!this.scrollSource)return"inactive";var e=getComputedStyle(this.scrollSource);if("none"==e.display)return"inactive";if(this.scrollSource!=document.scrollingElement&&("visible"==e.overflow||"clip"==e.overflow))return"inactive";var t=d(this.scrollSource,this.orientation,this.scrollOffsets,s.get(this).scrollOffsetFns);if(0==t.length)return"inactive";var n=p(new CSSUnitValue(100,"percent"),this.scrollSource,this.orientation,new CSSUnitValue(100,"percent"),null),i=t[0],r=t[t.length-1],a=f(this.scrollSource,this.orientation);return a<i?"before":a>=r&&r<n?"after":"active"}},{key:"currentTime",get:function(){if(!this.scrollSource)return null;if("inactive"==this.phase)return null;var e=d(this.scrollSource,this.orientation,this.scrollOffsets,s.get(this).scrollOffsetFns),t=e[0],n=e[e.length-1],i=function(e){var t=e.timeRange;if(t==l){t=0;for(var n=s.get(e).animations,i=0;i<n.length;i++)t=Math.max(t,n[i].animation.effect.getComputedTiming().activeDuration);Infinity===t&&(t=0)}return t}(this),r=f(this.scrollSource,this.orientation);return r<t?0:r>=n?i:function(e,t){var n;for(n=t.length-2;n>=0&&!(t[n]<=e&&e<t[n+1]);n--);var i=t[n];return(n+(e-i)/(t[n+1]-i))*(1/(t.length-1))}(r,e)*i}},{key:"__polyfill",get:function(){return!0}}]),e}(),T=window.Element.prototype.animate,S=window.Animation,k=function(){function e(){var e=this;this.state="pending",this.nativeResolve=this.nativeReject=null,this.promise=new Promise(function(t,n){e.nativeResolve=t,e.nativeReject=n})}var t=e.prototype;return t.resolve=function(e){this.state="resolved",this.nativeResolve(e)},t.reject=function(e){this.state="rejected",this.promise.catch(function(){}),this.nativeReject(e)},e}();function w(e){e.readyPromise=new k,requestAnimationFrame(function(){null!==e.timeline.currentTime&&V(e)})}function b(){return new DOMException("The user aborted a request","AbortError")}function P(e){e.finishedPromise&&"pending"==e.finishedPromise.state&&"finished"==e.proxy.playState&&(e.finishedPromise.resolve(e.proxy),e.animation.finish(),e.animation.pause())}function R(e){return null!==e.pendingPlaybackRate?e.pendingPlaybackRate:e.animation.playbackRate}function C(e){null!==e.pendingPlaybackRate&&(e.animation.playbackRate=e.pendingPlaybackRate,e.pendingPlaybackRate=null)}function E(e){if(!e.timeline)return null;var t=e.timeline.currentTime;if(null===t)return null;if(null===e.startTime)return null;var n=(t-e.startTime)*e.animation.playbackRate;return-0==n&&(n=0),n}function x(e,t){if(!e.timeline)return null;var n=e.timeline.currentTime;return null==n?null:n-t/e.animation.playbackRate}function M(e,t,n){if(e.timeline){var i=t?e.proxy.currentTime:E(e);if(i&&null!=e.startTime&&!e.proxy.pending){var r=R(e),a=O(e),o=e.previousCurrentTime;r>0&&i>=a?((null===o||o<a)&&(o=a),e.holdTime=t?i:o):r<0&&i<=0?((null==o||o>0)&&(o=0),e.holdTime=t?i:o):0!=r&&(t&&null!==e.holdTime&&(e.startTime=x(e,e.holdTime)),e.holdTime=null)}U(e),e.previousCurrentTime=e.proxy.currentTime,"finished"==e.proxy.playState?(e.finishedPromise||(e.finishedPromise=new k),"pending"==e.finishedPromise.state&&(n?P(e):Promise.resolve().then(function(){P(e)}))):(e.finishedPromise&&"resolved"==e.finishedPromise.state&&(e.finishedPromise=new k),"paused"!=e.animation.playState&&e.animation.pause())}}function O(e){var t=e.animation.effect.getTiming();return Math.max(0,t.delay+t.endDelay+t.iterations*t.duration)}function U(e){e.timeline&&(null!==e.startTime?e.animation.currentTime=(e.timeline.currentTime-e.startTime)*e.animation.playbackRate:null!==e.holdTime&&(e.animation.currentTime=e.holdTime))}function I(e,t){if(e.timeline){var n="paused"==e.proxy.playState&&e.proxy.pending,i=!1,r=null,a=e.proxy.currentTime;e.resetCurrentTimeOnResume&&(a=null,e.resetCurrentTimeOnResume=!1);var o=R(e),l=O(e);if(o>0&&t&&(null==a||a<0||a>=l))r=0;else if(o<0&&t&&(null==a||a<=0||a>l)){if(Infinity==l)return void e.animation.play();r=l}else 0==o&&null==a&&(r=0);null!=r&&(e.startTime=r,e.holdTime=null,C(e)),v(e.timeline,e.animation,A.bind(e.proxy)),e.holdTime&&(e.startTime=null),e.pendingTask&&(e.pendingTask=null,i=!0),(null!==e.holdTime||null!==r||n||null!==e.pendingPlaybackRate)&&(e.readyPromise&&!i&&(e.readyPromise=null),U(e),e.readyPromise||w(e),e.pendingTask="play",M(e,!1,!1))}}function A(e){var t=j.get(this);if(null!=e){t.pendingTask&&V(t);var n=this.playState;"running"!=n&&"finished"!=n||(t.animation.currentTime=(e-this.startTime)*this.playbackRate,"finished"==n&&0!=R(t)&&(t.holdTime=null),M(t,!1,!1))}else"idle"!=t.animation.playState&&t.animation.cancel()}function V(e){"pause"==e.pendingTask?function(e){null!=e.startTime&&null==e.holdTime&&(e.holdTime=(e.timeline.currentTime-e.startTime)*e.animation.playbackRate),C(e),e.startTime=null,e.readyPromise.resolve(e.proxy),M(e,!1,!1),U(e),e.pendingTask=null}(e):"play"==e.pendingTask&&function(e){var t=e.timeline.currentTime;if(null!=e.holdTime)C(e),0==e.animation.playbackRate?e.startTime=t:(e.startTime=t-e.holdTime/e.animation.playbackRate,e.holdTime=null);else if(null!==e.startTime&&null!==e.pendingPlaybackRate){var n=(t-e.startTime)*e.animation.playbackRate;C(e);var i=e.animation.playbackRate;0==i?(e.holdTime=null,e.startTime=t):e.startTime=t-n/i}e.readyPromise&&"pending"==e.readyPromise.state&&e.readyPromise.resolve(e.proxy),M(e,!1,!1),U(e),e.pendingTask=null}(e)}var j=new WeakMap,W=function(){function e(e,t){var n=e instanceof S?e:new S(e,r),i=t instanceof y,r=i?void 0:t;j.set(this,{animation:n,timeline:i?t:void 0,playState:i?"idle":null,readyPromise:null,finishedPromise:null,startTime:null,holdTime:null,previousCurrentTime:null,resetCurrentTimeOnResume:!1,pendingPlaybackRate:null,pendingTask:null,proxy:this})}var n=e.prototype;return n.finish=function(){var e=j.get(this);if(e.timeline){var t=R(e),n=O(e);if(0==t)throw new DOMException("Cannot finish Animation with a playbackRate of 0.","InvalidStateError");if(t>0&&Infinity==n)throw new DOMException("Cannot finish Animation with an infinite target effect end.","InvalidStateError");C(e);var i=t<0?0:n;this.currentTime=i;var r=e.timeline.currentTime;null===e.startTime&&null!==r&&(e.startTime=r-i/e.animation.playbackRate),"pause"==e.pendingTask&&null!==e.startTime&&(e.holdTime=null,e.pendingTask=null,e.readyPromise.resolve(this)),"play"==e.pendingTask&&null!==e.startTime&&(e.pendingTask=null,e.readyPromise.resolve(this)),M(e,!0,!0)}else e.animation.finish()},n.play=function(){var e=j.get(this);e.timeline?I(e,!0):e.animation.play()},n.pause=function(){var e=j.get(this);if(e.timeline){if("paused"!=this.playState){var t=null,n=e.animation.playbackRate,i=O(e);if(null===e.animation.currentTime)if(n>=0)t=0;else{if(Infinity==i)return void e.animation.pause();t=i}null!==t&&(e.startTime=t),"play"==e.pendingTask?e.pendingTask=null:e.readyPromise=null,e.readyPromise||w(e),e.pendingTask="pause"}}else e.animation.pause()},n.reverse=function(){var e=j.get(this),t=R(e),n=e.resetCurrentTimeOnResume?null:this.currentTime,i=Infinity==O(e),r=0!=t&&(t<0||n>0||!i);if(!e.timeline||!r)return r&&(e.pendingPlaybackRate=-R(e)),void e.animation.reverse();if("inactive"==e.timeline.phase)throw new DOMException("Cannot reverse an animation with no active timeline","InvalidStateError");this.updatePlaybackRate(-t),I(e,!0)},n.updatePlaybackRate=function(e){var t=j.get(this);if(t.pendingPlaybackRate=e,t.timeline){if(!t.readyPromise||"pending"!=t.readyPromise.state)switch(this.playState){case"idle":case"paused":C(t);break;case"finished":var n=t.timeline.currentTime,i=null!==n?(n-t.startTime)*t.animation.playbackRate:null;t.startTime=0==e?n:null!=n&&null!=i?(n-i)/e:null,C(t),M(t,!1,!1),U(t);break;default:I(t,!1)}}else t.animation.updatePlaybackRate(e)},n.persist=function(){j.get(this).animation.persist()},n.cancel=function(){var e=j.get(this);e.timeline?("idle"!=this.playState&&(function(e){e.pendingTask&&(e.pendingTask=null,C(e),e.readyPromise.reject(b()),w(e),e.readyPromise.resolve(e.proxy))}(e),e.finishedPromise&&"pending"==e.finishedPromise.state&&e.finishedPromise.reject(b()),e.finishedPromise=new k,e.animation.cancel()),e.startTime=null,e.holdTime=null,g(e.timeline,e.animation)):e.animation.cancel()},n.addEventListener=function(e,t,n){j.get(this).animation.addEventListener(e,t,n)},n.removeEventListener=function(e,t,n){j.get(this).animation.removeEventListener(e,t,n)},n.dispatchEvent=function(e){j.get(this).animation.dispatchEvent(e)},t(e,[{key:"effect",get:function(){return j.get(this).animation.effect},set:function(e){j.get(this).animation.effect=e}},{key:"timeline",get:function(){var e=j.get(this);return e.timeline||e.animation.timeline},set:function(e){var t=this.timeline;if(t!=e){var n=this.playState,i=this.currentTime,r=t instanceof y,a=e instanceof y,o=j.get(this);o.resetCurrentTimeOnResume=!1;var l=this.pending;if(r&&g(o.timeline,o.animation),a){o.timeline=e,C(o);var s=o.animation.playbackRate>=0?0:O(o);switch(n){case"running":case"finished":o.startTime=s,v(o.timeline,o.animation,A.bind(this));break;case"paused":o.resetCurrentTimeOnResume=!0,o.startTime=null,o.holdTime=i;break;default:o.holdTime=null,o.startTime=null}return l&&(o.readyPromise&&"resolved"!=o.readyPromise.state||w(o),o.pendingTask="paused"==n?"pause":"play"),null!==o.startTime&&(o.holdTime=null),void M(o,!1,!1)}if(o.animation.timeline!=e)throw TypeError("Unsupported timeline: "+e);if(g(o.timeline,o.animation),o.timeline=null,r)switch(null!==i&&(o.animation.currentTime=i),n){case"paused":o.animation.pause();break;case"running":case"finished":o.animation.play()}}}},{key:"startTime",get:function(){var e=j.get(this);return e.timeline?e.startTime:e.animation.startTime},set:function(e){var t=j.get(this);if(t.timeline){null==t.timeline.currentTime&&null!=t.startTime&&(t.holdTime=null,U(t));var n=this.currentTime;C(t),t.startTime=e,t.resetCurrentTimeOnResume=!1,t.holdTime=null!==t.startTime&&0!=t.animation.playbackRate?null:n,t.pendingTask&&(t.pendingTask=null,t.readyPromise.resolve(this)),M(t,!0,!1),U(t)}else t.animation.startTime=e}},{key:"currentTime",get:function(){var e=j.get(this);return e.timeline?null!=e.holdTime?e.holdTime:E(e):e.animation.currentTime},set:function(e){var t=j.get(this);if(t.timeline&&null!=e){var n=t.timeline.phase;null!==t.holdTime||null===t.startTime||"inactive"==n||0==t.animation.playbackRate?t.holdTime=e:t.startTime=x(t,e),t.resetCurrentTimeOnResume=!1,"inactive"==n&&(t.startTime=null),t.previousCurrentTime=null,"pause"==t.pendingTask&&(t.holdTime=e,C(t),t.startTime=null,t.pendingTask=null,t.readyPromise.resolve(this)),M(t,!0,!1)}else t.animation.currentTime=e}},{key:"playbackRate",get:function(){return j.get(this).animation.playbackRate},set:function(e){var t=j.get(this);if(t.timeline){t.pendingPlaybackRate=null;var n=this.currentTime;t.animation.playbackRate=e,null!==n&&(this.currentTime=n)}else t.animation.playbackRate=e}},{key:"playState",get:function(){var e=j.get(this);if(!e.timeline)return e.animation.playState;var t=this.currentTime;if(null===t&&null===e.startTime&&null==e.pendingTask)return"idle";if("pause"==e.pendingTask||null===e.startTime&&"play"!=e.pendingTask)return"paused";if(null!=t){if(e.animation.playbackRate>0&&t>=O(e))return"finished";if(e.animation.playbackRate<0&&t<=0)return"finished"}return"running"}},{key:"replaceState",get:function(){return j.get(this).animation.pending}},{key:"pending",get:function(){var e=j.get(this);return e.timeline?!!e.readyPromise&&"pending"==e.readyPromise.state:e.animation.pending}},{key:"id",get:function(){return j.get(this).animation.id}},{key:"onfinish",get:function(){return j.get(this).animation.onfinish},set:function(e){j.get(this).animation.onfinish=e}},{key:"oncancel",get:function(){return j.get(this).animation.oncancel},set:function(e){j.get(this).animation.oncancel=e}},{key:"onremove",get:function(){return j.get(this).animation.onremove},set:function(e){j.get(this).animation.onremove=e}},{key:"finished",get:function(){var e=j.get(this);return e.timeline?(e.finishedPromise||(e.finishedPromise=new k),e.finishedPromise.promise):e.animation.finished}},{key:"ready",get:function(){var e=j.get(this);return e.timeline?(e.readyPromise||(e.readyPromise=new k,e.readyPromise.resolve(this)),e.readyPromise.promise):e.animation.ready}}]),e}(),L=new WeakMap,z=[[[0,1,2,3]],[[0,2],[1,3]],[[0],[1,3],[2]],[[0],[1],[2],[3]]],F=function(){function e(e){L.set(this,{target:null,edge:"start",threshold:0,rootMargin:[[0,"px"],[0,"px"],[0,"px"],[0,"px"]]}),this.target=e.target,this.edge=e.edge||"start",this.threshold=e.threshold||0,this.rootMargin=e.rootMargin||"0px 0px 0px 0px",this.clamp=e.clamp||!1}return t(e,[{key:"target",get:function(){return L.get(this).target},set:function(e){if(!(e instanceof Element))throw L.get(this).target=null,Error("Intersection target must be an element.");L.get(this).target=e}},{key:"edge",get:function(){return L.get(this).edge},set:function(e){-1!=["start","end"].indexOf(e)&&(L.get(this).edge=e)}},{key:"threshold",get:function(){return L.get(this).threshold},set:function(e){var t=parseFloat(e);if(t!=t)throw TypeError("Invalid threshold.");if(t<0||t>1)throw TypeError("threshold must be in the range [0, 1]");L.get(this).threshold=t}},{key:"rootMargin",get:function(){return L.get(this).rootMargin.map(function(e){return e.join("")}).join(" ")},set:function(e){var t=e.split(/ +/);if(t.length<1||t.length>4)throw TypeError("rootMargin must contain between 1 and 4 length components");for(var n=[[],[],[],[]],i=0;i<t.length;i++){var r=o(t[i],!0);if(!r)throw TypeError("Unrecognized rootMargin length");for(var a=z[t.length-1][i],l=0;l<a.length;l++)n[a[l]]=[parseFloat(r.value),r.unit]}L.get(this).rootMargin=n}},{key:"clamp",set:function(e){L.get(this).clamp=!!e}}]),e}();if(u.push({parse:function(e){if(e.target)return new F(e)},evaluate:function(e,t,n,i){"block"==t?t="vertical":"inline"==t&&(t="horizontal");for(var r,a=e==document.scrollingElement?{left:0,right:e.clientWidth,top:0,bottom:e.clientHeight,width:e.clientWidth,height:e.clientHeight}:e.getBoundingClientRect(),o=L.get(n).rootMargin,l=[],s=0;s<4;s++)l.push("percent"==(r=o[s])[1]?r[0]*(s%2==0?a.height:a.width)/100:r[0]);var u=a.left-l[3],c=a.right-a.left+l[3]+l[1],m=a.top-l[0],f=a.bottom-a.top+l[0]+l[2],h=L.get(n).clamp,p=n.target.getBoundingClientRect(),d=n.threshold;if("start"==n.edge&&(d=1-d),"vertical"==t){var g=p.top+p.height*d-m+e.scrollTop;return h?"end"==n.edge?Math.max(0,g-f):Math.min(g,e.scrollHeight-f):"end"==n.edge?g-f:g}var v=p.left+p.width*d-u+e.scrollLeft;return h?"end"==n.edge?Math.max(0,v-c):Math.min(v,e.scrollWidth-c):"end"==n.edge?v-c:v}}),!Reflect.defineProperty(window,"ScrollTimeline",{value:y}))throw Error("Error installing ScrollTimeline polyfill: could not attach ScrollTimeline to window");if(!Reflect.defineProperty(Element.prototype,"animate",{value:function(e,t){var n=t.timeline;n instanceof y&&delete t.timeline;var i=T.apply(this,[e,t]),r=new W(i,n);return n instanceof y&&(i.pause(),r.play()),r}}))throw Error("Error installing ScrollTimeline polyfill: could not attach WAAPI's animate to DOM Element");if(!Reflect.defineProperty(window,"Animation",{value:W}))throw Error("Error installing Animation constructor.")}();
=======
!function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function i(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return n(e,void 0);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=e[Symbol.iterator]()).next.bind(i)}function r(e,t){if(e instanceof CSSUnitValue||e instanceof CSSMathSum)return e;if(!t)return null;var n=e.trim().match(/^(-?[0-9]*\.?[0-9]*)(px|%)$/);return n?new CSSUnitValue(n[1],"%"==n[2]?"percent":n[2]):null}var a=new CSSKeywordValue("auto"),l=new WeakMap,o=[];function s(e){return e===document.scrollingElement?document:e}function u(e){var t=l.get(e).animations;if(0!==t.length)for(var n=e.currentTime,i=0;i<t.length;i++)t[i].tickAnimation(n)}function c(e,t,n,l,o){if(o)return o(t,n,l,0==e.value?"start":"end");"block"===n?n="vertical":"inline"===n&&(n="horizontal");var s="vertical"===n?t.scrollHeight-t.clientHeight:t.scrollWidth-t.clientWidth;return function e(t,n){if(t instanceof CSSUnitValue){if("percent"==t.unit)return t.value*n/100;if("px"==t.unit)return t.value;throw TypeError("Unhandled unit type "+t.unit)}if(t instanceof CSSMathSum){for(var r,a=0,l=i(t.values);!(r=l()).done;)a+=e(r.value,n);return a}throw TypeError("Unsupported value type: "+typeof t)}(r(l===a?e:l),s)}function m(e,t){for(var n=l.get(e).animations,i=0;i<n.length;i++)n[i].animation==t&&n.splice(i,1)}function f(e,t,n){for(var i=l.get(e).animations,r=0;r<i.length;r++)if(i[r].animation==t)return;i.push({animation:t,tickAnimation:n}),u(e)}var h=function(){function e(e){l.set(this,{scrollSource:null,orientation:"block",startScrollOffset:a,endScrollOffset:a,scrollOffsets:[],timeRange:a,animations:[],scrollOffsetFns:[]}),this.scrollSource=e&&void 0!==e.scrollSource?e.scrollSource:document.scrollingElement,this.orientation=e&&e.orientation||"block",this.startScrollOffset=e&&e.startScrollOffset||a,this.endScrollOffset=e&&e.endScrollOffset||a,this.scrollOffsets=e&&void 0!==e.scrollOffsets?e.scrollOffsets:[],this.timeRange=e&&void 0!==e.timeRange?e.timeRange:"auto"}return t(e,[{key:"scrollSource",set:function(e){var t=this;this.scrollSource&&s(this.scrollSource).removeEventListener("scroll",function(){return u(t)}),l.get(this).scrollSource=e,e&&s(e).addEventListener("scroll",function(){return u(t)}),u(this)},get:function(){return l.get(this).scrollSource}},{key:"orientation",set:function(e){if(-1===["block","inline","horizontal","vertical"].indexOf(e))throw TypeError("Invalid orientation");l.get(this).orientation=e,u(this)},get:function(){return l.get(this).orientation}},{key:"scrollOffsets",set:function(e){for(var t,n=[],s=[],u=i(e);!(t=u()).done;){var c=t.value,m=null,f=void 0;"auto"==c&&(c=a);for(var h=0;h<o.length;h++){var d=o[h].parse(c);if(void 0!==d){f=d,m=o[h].evaluate;break}}if(!m){if(c!=a){var p=r(c);if(!p||p instanceof CSSUnitValue&&"number"==p.unit)throw TypeError("Invalid scrollOffsets entry.")}f=c}n.push(f),s.push(m)}if(1==n.length&&n[0]==a)throw TypeError("Invalid scrollOffsets value.");var g=l.get(this);g.scrollOffsets=n,g.scrollOffsetFns=s},get:function(){return l.get(this).scrollOffsets}},{key:"startScrollOffset",set:function(e){"auto"==e&&(e=a);var t=l.get(this);t.startScrollOffsetFunction=null;for(var n=0;n<o.length;n++){var i=o[n].parse(e);if(void 0!==i){e=i,t.startScrollOffsetFunction=o[n].evaluate;break}}if(e!=a&&!l.get(this).startScrollOffsetFunction){var s=r(e);if(!s||s instanceof CSSUnitValue&&"number"==s.unit)throw TypeError("Invalid start offset.")}t.startScrollOffset=e,u(this)},get:function(){return l.get(this).startScrollOffset}},{key:"endScrollOffset",set:function(e){"auto"==e&&(e=a),l.get(this).endScrollOffsetFunction=null;for(var t=0;t<o.length;t++){var n=o[t].parse(e);if(void 0!==n){e=n,l.get(this).endScrollOffsetFunction=o[t].evaluate;break}}if(e!=a&&!l.get(this).startScrollOffsetFunction){var i=r(e);if(!i||i instanceof CSSUnitValue&&"number"==i.unit)throw TypeError("Invalid end offset.")}l.get(this).endScrollOffset=e,u(this)},get:function(){return l.get(this).endScrollOffset}},{key:"timeRange",set:function(e){if("auto"!=e&&("number"!=typeof e||!Number.isFinite(e)||e!=e))throw TypeError("Invalid timeRange value");l.get(this).timeRange=e,u(this)},get:function(){return l.get(this).timeRange}},{key:"phase",get:function(){if(!this.scrollSource)return"inactive";var e=getComputedStyle(this.scrollSource);if("none"==e.display)return"inactive";if(this.scrollSource!=document.scrollingElement&&("visible"==e.overflow||"clip"==e.overflow))return"inactive";var t=c(new CSSUnitValue(0,"percent"),this.scrollSource,this.orientation,this.startScrollOffset,l.get(this).startScrollOffsetFunction),n=c(new CSSUnitValue(100,"percent"),this.scrollSource,this.orientation,this.endScrollOffset,l.get(this).endScrollOffsetFunction),i=c(new CSSUnitValue(100,"percent"),this.scrollSource,this.orientation,new CSSUnitValue(100,"percent"),null);if(null===t||null===n)return"inactive";var r=this.scrollSource.scrollTop;return"inline"!==this.orientation&&"horizontal"!==this.orientation||(r=this.scrollSource.scrollLeft),r<t?"before":r>=n&&n<i?"after":"active"}},{key:"currentTime",get:function(){if(!this.scrollSource)return null;if("inactive"==this.phase)return null;var e=c(new CSSUnitValue(0,"percent"),this.scrollSource,this.orientation,this.startScrollOffset,l.get(this).startScrollOffsetFunction),t=c(new CSSUnitValue(100,"percent"),this.scrollSource,this.orientation,this.endScrollOffset,l.get(this).endScrollOffsetFunction),n=function(e){var t=e.timeRange;if(t==a){t=0;for(var n=l.get(e).animations,i=0;i<n.length;i++)t=Math.max(t,n[i].animation.effect.getComputedTiming().activeDuration);Infinity===t&&(t=0)}return t}(this),i=this.scrollSource.scrollTop;return"inline"!==this.orientation&&"horizontal"!==this.orientation||(i=this.scrollSource.scrollLeft),i<e?0:i>=t?n:(i-e)/(t-e)*n}},{key:"__polyfill",get:function(){return!0}}]),e}(),d=window.Element.prototype.animate,p=window.Animation,g=function(){function e(){var e=this;this.state="pending",this.nativeResolve=this.nativeReject=null,this.promise=new Promise(function(t,n){e.nativeResolve=t,e.nativeReject=n})}var t=e.prototype;return t.resolve=function(e){this.state="resolved",this.nativeResolve(e)},t.reject=function(e){this.state="rejected",this.promise.catch(function(){}),this.nativeReject(e)},e}();function v(e){e.readyPromise=new g,requestAnimationFrame(function(){null!==e.timeline.currentTime&&C(e)})}function y(){return new DOMException("The user aborted a request","AbortError")}function T(e){e.finishedPromise&&"pending"==e.finishedPromise.state&&"finished"==e.proxy.playState&&(e.finishedPromise.resolve(e.proxy),e.animation.finish(),e.animation.pause())}function k(e){return null!==e.pendingPlaybackRate?e.pendingPlaybackRate:e.animation.playbackRate}function S(e){null!==e.pendingPlaybackRate&&(e.animation.playbackRate=e.pendingPlaybackRate,e.pendingPlaybackRate=null)}function b(e){if(!e.timeline)return null;var t=e.timeline.currentTime;if(null===t)return null;if(null===e.startTime)return null;var n=(t-e.startTime)*e.animation.playbackRate;return-0==n&&(n=0),n}function w(e,t){if(!e.timeline)return null;var n=e.timeline.currentTime;return null==n?null:n-t/e.animation.playbackRate}function R(e,t,n){if(e.timeline){var i=t?e.proxy.currentTime:b(e);if(i&&null!=e.startTime&&!e.proxy.pending){var r=k(e),a=P(e),l=e.previousCurrentTime;r>0&&i>=a?((null===l||l<a)&&(l=a),e.holdTime=t?i:l):r<0&&i<=0?((null==l||l>0)&&(l=0),e.holdTime=t?i:l):0!=r&&(t&&null!==e.holdTime&&(e.startTime=w(e,e.holdTime)),e.holdTime=null)}O(e),e.previousCurrentTime=e.proxy.currentTime,"finished"==e.proxy.playState?(e.finishedPromise||(e.finishedPromise=new g),"pending"==e.finishedPromise.state&&(n?T(e):Promise.resolve().then(function(){T(e)}))):(e.finishedPromise&&"resolved"==e.finishedPromise.state&&(e.finishedPromise=new g),"paused"!=e.animation.playState&&e.animation.pause())}}function P(e){var t=e.animation.effect.getTiming();return Math.max(0,t.delay+t.endDelay+t.iterations*t.duration)}function O(e){e.timeline&&(null!==e.startTime?e.animation.currentTime=(e.timeline.currentTime-e.startTime)*e.animation.playbackRate:null!==e.holdTime&&(e.animation.currentTime=e.holdTime))}function E(e,t){if(e.timeline){var n="paused"==e.proxy.playState&&e.proxy.pending,i=!1,r=null,a=e.proxy.currentTime;e.resetCurrentTimeOnResume&&(a=null,e.resetCurrentTimeOnResume=!1);var l=k(e),o=P(e);if(l>0&&t&&(null==a||a<0||a>=o))r=0;else if(l<0&&t&&(null==a||a<=0||a>o)){if(Infinity==o)return void e.animation.play();r=o}else 0==l&&null==a&&(r=0);null!=r&&(e.startTime=r,e.holdTime=null,S(e)),f(e.timeline,e.animation,x.bind(e.proxy)),e.holdTime&&(e.startTime=null),e.pendingTask&&(e.pendingTask=null,i=!0),(null!==e.holdTime||null!==r||n||null!==e.pendingPlaybackRate)&&(e.readyPromise&&!i&&(e.readyPromise=null),O(e),e.readyPromise||v(e),e.pendingTask="play",R(e,!1,!1))}}function x(e){var t=M.get(this);if(null!=e){t.pendingTask&&C(t);var n=this.playState;"running"!=n&&"finished"!=n||(t.animation.currentTime=(e-this.startTime)*this.playbackRate,"finished"==n&&0!=k(t)&&(t.holdTime=null),R(t,!1,!1))}else"idle"!=t.animation.playState&&t.animation.cancel()}function C(e){"pause"==e.pendingTask?function(e){null!=e.startTime&&null==e.holdTime&&(e.holdTime=(e.timeline.currentTime-e.startTime)*e.animation.playbackRate),S(e),e.startTime=null,e.readyPromise.resolve(e.proxy),R(e,!1,!1),O(e),e.pendingTask=null}(e):"play"==e.pendingTask&&function(e){var t=e.timeline.currentTime;if(null!=e.holdTime)S(e),0==e.animation.playbackRate?e.startTime=t:(e.startTime=t-e.holdTime/e.animation.playbackRate,e.holdTime=null);else if(null!==e.startTime&&null!==e.pendingPlaybackRate){var n=(t-e.startTime)*e.animation.playbackRate;S(e);var i=e.animation.playbackRate;0==i?(e.holdTime=null,e.startTime=t):e.startTime=t-n/i}e.readyPromise&&"pending"==e.readyPromise.state&&e.readyPromise.resolve(e.proxy),R(e,!1,!1),O(e),e.pendingTask=null}(e)}var M=new WeakMap,I=function(){function e(e,t){var n=e instanceof p?e:new p(e,r),i=t instanceof h,r=i?void 0:t;M.set(this,{animation:n,timeline:i?t:void 0,playState:i?"idle":null,readyPromise:null,finishedPromise:null,startTime:null,holdTime:null,previousCurrentTime:null,resetCurrentTimeOnResume:!1,pendingPlaybackRate:null,pendingTask:null,proxy:this})}var n=e.prototype;return n.finish=function(){var e=M.get(this);if(e.timeline){var t=k(e),n=P(e);if(0==t)throw new DOMException("Cannot finish Animation with a playbackRate of 0.","InvalidStateError");if(t>0&&Infinity==n)throw new DOMException("Cannot finish Animation with an infinite target effect end.","InvalidStateError");S(e);var i=t<0?0:n;this.currentTime=i;var r=e.timeline.currentTime;null===e.startTime&&null!==r&&(e.startTime=r-i/e.animation.playbackRate),"pause"==e.pendingTask&&null!==e.startTime&&(e.holdTime=null,e.pendingTask=null,e.readyPromise.resolve(this)),"play"==e.pendingTask&&null!==e.startTime&&(e.pendingTask=null,e.readyPromise.resolve(this)),R(e,!0,!0)}else e.animation.finish()},n.play=function(){var e=M.get(this);e.timeline?E(e,!0):e.animation.play()},n.pause=function(){var e=M.get(this);if(e.timeline){if("paused"!=this.playState){var t=null,n=e.animation.playbackRate,i=P(e);if(null===e.animation.currentTime)if(n>=0)t=0;else{if(Infinity==i)return void e.animation.pause();t=i}null!==t&&(e.startTime=t),"play"==e.pendingTask?e.pendingTask=null:e.readyPromise=null,e.readyPromise||v(e),e.pendingTask="pause"}}else e.animation.pause()},n.reverse=function(){var e=M.get(this),t=k(e),n=e.resetCurrentTimeOnResume?null:this.currentTime,i=Infinity==P(e),r=0!=t&&(t<0||n>0||!i);if(!e.timeline||!r)return r&&(e.pendingPlaybackRate=-k(e)),void e.animation.reverse();if("inactive"==e.timeline.phase)throw new DOMException("Cannot reverse an animation with no active timeline","InvalidStateError");this.updatePlaybackRate(-t),E(e,!0)},n.updatePlaybackRate=function(e){var t=M.get(this);if(t.pendingPlaybackRate=e,t.timeline){if(!t.readyPromise||"pending"!=t.readyPromise.state)switch(this.playState){case"idle":case"paused":S(t);break;case"finished":var n=t.timeline.currentTime,i=null!==n?(n-t.startTime)*t.animation.playbackRate:null;t.startTime=0==e?n:null!=n&&null!=i?(n-i)/e:null,S(t),R(t,!1,!1),O(t);break;default:E(t,!1)}}else t.animation.updatePlaybackRate(e)},n.persist=function(){M.get(this).animation.persist()},n.cancel=function(){var e=M.get(this);e.timeline?("idle"!=this.playState&&(function(e){e.pendingTask&&(e.pendingTask=null,S(e),e.readyPromise.reject(y()),v(e),e.readyPromise.resolve(e.proxy))}(e),e.finishedPromise&&"pending"==e.finishedPromise.state&&e.finishedPromise.reject(y()),e.finishedPromise=new g,e.animation.cancel()),e.startTime=null,e.holdTime=null,m(e.timeline,e.animation)):e.animation.cancel()},n.addEventListener=function(e,t,n){M.get(this).animation.addEventListener(e,t,n)},n.removeEventListener=function(e,t,n){M.get(this).animation.removeEventListener(e,t,n)},n.dispatchEvent=function(e){M.get(this).animation.dispatchEvent(e)},t(e,[{key:"effect",get:function(){return M.get(this).animation.effect},set:function(e){M.get(this).animation.effect=e}},{key:"timeline",get:function(){var e=M.get(this);return e.timeline||e.animation.timeline},set:function(e){var t=this.timeline;if(t!=e){var n=this.playState,i=this.currentTime,r=t instanceof h,a=e instanceof h,l=M.get(this);l.resetCurrentTimeOnResume=!1;var o=this.pending;if(r&&m(l.timeline,l.animation),a){l.timeline=e,S(l);var s=l.animation.playbackRate>=0?0:P(l);switch(n){case"running":case"finished":l.startTime=s,f(l.timeline,l.animation,x.bind(this));break;case"paused":l.resetCurrentTimeOnResume=!0,l.startTime=null,l.holdTime=i;break;default:l.holdTime=null,l.startTime=null}return o&&(l.readyPromise&&"resolved"!=l.readyPromise.state||v(l),l.pendingTask="paused"==n?"pause":"play"),null!==l.startTime&&(l.holdTime=null),void R(l,!1,!1)}if(l.animation.timeline!=e)throw TypeError("Unsupported timeline: "+e);if(m(l.timeline,l.animation),l.timeline=null,r)switch(null!==i&&(l.animation.currentTime=i),n){case"paused":l.animation.pause();break;case"running":case"finished":l.animation.play()}}}},{key:"startTime",get:function(){var e=M.get(this);return e.timeline?e.startTime:e.animation.startTime},set:function(e){var t=M.get(this);if(t.timeline){null==t.timeline.currentTime&&null!=t.startTime&&(t.holdTime=null,O(t));var n=this.currentTime;S(t),t.startTime=e,t.resetCurrentTimeOnResume=!1,t.holdTime=null!==t.startTime&&0!=t.animation.playbackRate?null:n,t.pendingTask&&(t.pendingTask=null,t.readyPromise.resolve(this)),R(t,!0,!1),O(t)}else t.animation.startTime=e}},{key:"currentTime",get:function(){var e=M.get(this);return e.timeline?null!=e.holdTime?e.holdTime:b(e):e.animation.currentTime},set:function(e){var t=M.get(this);if(t.timeline&&null!=e){var n=t.timeline.phase;null!==t.holdTime||null===t.startTime||"inactive"==n||0==t.animation.playbackRate?t.holdTime=e:t.startTime=w(t,e),t.resetCurrentTimeOnResume=!1,"inactive"==n&&(t.startTime=null),t.previousCurrentTime=null,"pause"==t.pendingTask&&(t.holdTime=e,S(t),t.startTime=null,t.pendingTask=null,t.readyPromise.resolve(this)),R(t,!0,!1)}else t.animation.currentTime=e}},{key:"playbackRate",get:function(){return M.get(this).animation.playbackRate},set:function(e){var t=M.get(this);if(t.timeline){t.pendingPlaybackRate=null;var n=this.currentTime;t.animation.playbackRate=e,null!==n&&(this.currentTime=n)}else t.animation.playbackRate=e}},{key:"playState",get:function(){var e=M.get(this);if(!e.timeline)return e.animation.playState;var t=this.currentTime;if(null===t&&null===e.startTime&&null==e.pendingTask)return"idle";if("pause"==e.pendingTask||null===e.startTime&&"play"!=e.pendingTask)return"paused";if(null!=t){if(e.animation.playbackRate>0&&t>=P(e))return"finished";if(e.animation.playbackRate<0&&t<=0)return"finished"}return"running"}},{key:"replaceState",get:function(){return M.get(this).animation.pending}},{key:"pending",get:function(){var e=M.get(this);return e.timeline?!!e.readyPromise&&"pending"==e.readyPromise.state:e.animation.pending}},{key:"id",get:function(){return M.get(this).animation.id}},{key:"onfinish",get:function(){return M.get(this).animation.onfinish},set:function(e){M.get(this).animation.onfinish=e}},{key:"oncancel",get:function(){return M.get(this).animation.oncancel},set:function(e){M.get(this).animation.oncancel=e}},{key:"onremove",get:function(){return M.get(this).animation.onremove},set:function(e){M.get(this).animation.onremove=e}},{key:"finished",get:function(){var e=M.get(this);return e.timeline?(e.finishedPromise||(e.finishedPromise=new g),e.finishedPromise.promise):e.animation.finished}},{key:"ready",get:function(){var e=M.get(this);return e.timeline?(e.readyPromise||(e.readyPromise=new g,e.readyPromise.resolve(this)),e.readyPromise.promise):e.animation.ready}}]),e}(),A=new WeakMap,U=[[[0,1,2,3]],[[0,2],[1,3]],[[0],[1,3],[2]],[[0],[1],[2],[3]]],F=function(){function e(e){A.set(this,{target:null,edge:"start",threshold:0,rootMargin:[[0,"px"],[0,"px"],[0,"px"],[0,"px"]]}),this.target=e.target,this.edge=e.edge||"start",this.threshold=e.threshold||0,this.rootMargin=e.rootMargin||"0px 0px 0px 0px",this.clamp=e.clamp||!1}return t(e,[{key:"target",set:function(e){if(!(e instanceof Element))throw A.get(this).target=null,Error("Intersection target must be an element.");A.get(this).target=e},get:function(){return A.get(this).target}},{key:"edge",set:function(e){-1!=["start","end"].indexOf(e)&&(A.get(this).edge=e)},get:function(){return A.get(this).edge}},{key:"threshold",set:function(e){var t=parseFloat(e);if(t!=t)throw TypeError("Invalid threshold.");if(t<0||t>1)throw TypeError("threshold must be in the range [0, 1]");A.get(this).threshold=t},get:function(){return A.get(this).threshold}},{key:"rootMargin",set:function(e){var t=e.split(/ +/);if(t.length<1||t.length>4)throw TypeError("rootMargin must contain between 1 and 4 length components");for(var n=[[],[],[],[]],i=0;i<t.length;i++){var a=r(t[i],!0);if(!a)throw TypeError("Unrecognized rootMargin length");for(var l=U[t.length-1][i],o=0;o<l.length;o++)n[l[o]]=[parseFloat(a.value),a.unit]}A.get(this).rootMargin=n},get:function(){return A.get(this).rootMargin.map(function(e){return e.join("")}).join(" ")}},{key:"clamp",set:function(e){A.get(this).clamp=!!e}}]),e}();if(o.push({parse:function(e){if(e.target)return new F(e)},evaluate:function(e,t,n,i){"block"==t?t="vertical":"inline"==t&&(t="horizontal");for(var r,a=e==document.scrollingElement?{left:0,right:e.clientWidth,top:0,bottom:e.clientHeight,width:e.clientWidth,height:e.clientHeight}:e.getBoundingClientRect(),l=A.get(n).rootMargin,o=[],s=0;s<4;s++)o.push("percent"==(r=l[s])[1]?r[0]*(s%2==0?a.height:a.width)/100:r[0]);var u=a.left-o[3],c=a.right-a.left+o[3]+o[1],m=a.top-o[0],f=a.bottom-a.top+o[0]+o[2],h=A.get(n).clamp,d=n.target.getBoundingClientRect(),p=n.threshold;if("start"==n.edge&&(p=1-p),"vertical"==t){var g=d.top+d.height*p-m+e.scrollTop;return h?"end"==n.edge?Math.max(0,g-f):Math.min(g,e.scrollHeight-f):"end"==n.edge?g-f:g}var v=d.left+d.width*p-u+e.scrollLeft;return h?"end"==n.edge?Math.max(0,v-c):Math.min(v,e.scrollWidth-c):"end"==n.edge?v-c:v}}),!Reflect.defineProperty(window,"ScrollTimeline",{value:h}))throw Error("Error installing ScrollTimeline polyfill: could not attach ScrollTimeline to window");if(!Reflect.defineProperty(Element.prototype,"animate",{value:function(e,t){var n=t.timeline;n instanceof h&&delete t.timeline;var i=d.apply(this,[e,t]),r=new I(i,n);return n instanceof h&&(i.pause(),r.play()),r}}))throw Error("Error installing ScrollTimeline polyfill: could not attach WAAPI's animate to DOM Element");if(!Reflect.defineProperty(window,"Animation",{value:I}))throw Error("Error installing Animation constructor.")}();
>>>>>>> 047bdea (Rebuild)
<<<<<<< HEAD
>>>>>>> 916650c (Rebuild)
=======
=======
!function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function i(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return n(e,void 0);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=e[Symbol.iterator]()).next.bind(i)}function r(e,t){if(e instanceof CSSUnitValue||e instanceof CSSMathSum)return e;if(!t)return null;var n=e.trim().match(/^(-?[0-9]*\.?[0-9]*)(px|%)$/);return n?new CSSUnitValue(n[1],"%"==n[2]?"percent":n[2]):null}var a=new CSSKeywordValue("auto"),l=new WeakMap,o=[];function s(e){return e===document.scrollingElement?document:e}function u(e){var t=l.get(e).animations;if(0!==t.length)for(var n=e.currentTime,i=0;i<t.length;i++)t[i].tickAnimation(n)}function c(e,t){var n="horizontal-tb"==getComputedStyle(e).writingMode,i=e.scrollTop;return("horizontal"==t||"inline"==t&&n||"block"==t&&!n)&&(i=Math.abs(e.scrollLeft)),i}function m(e,t,n,l,o){if(o)return o(t,n,l,0==e.value?"start":"end");"block"===n?n="vertical":"inline"===n&&(n="horizontal");var s="vertical"===n?t.scrollHeight-t.clientHeight:t.scrollWidth-t.clientWidth;return function e(t,n){if(t instanceof CSSUnitValue){if("percent"==t.unit)return t.value*n/100;if("px"==t.unit)return t.value;throw TypeError("Unhandled unit type "+t.unit)}if(t instanceof CSSMathSum){for(var r,a=0,l=i(t.values);!(r=l()).done;)a+=e(r.value,n);return a}throw TypeError("Unsupported value type: "+typeof t)}(r(l===a?e:l),s)}function f(e,t){for(var n=l.get(e).animations,i=0;i<n.length;i++)n[i].animation==t&&n.splice(i,1)}function h(e,t,n){for(var i=l.get(e).animations,r=0;r<i.length;r++)if(i[r].animation==t)return;i.push({animation:t,tickAnimation:n}),u(e)}var d=function(){function e(e){l.set(this,{scrollSource:null,orientation:"block",startScrollOffset:a,endScrollOffset:a,scrollOffsets:[],timeRange:a,animations:[],scrollOffsetFns:[]}),this.scrollSource=e&&void 0!==e.scrollSource?e.scrollSource:document.scrollingElement,this.orientation=e&&e.orientation||"block",this.startScrollOffset=e&&e.startScrollOffset||a,this.endScrollOffset=e&&e.endScrollOffset||a,this.scrollOffsets=e&&void 0!==e.scrollOffsets?e.scrollOffsets:[],this.timeRange=e&&void 0!==e.timeRange?e.timeRange:"auto"}return t(e,[{key:"scrollSource",set:function(e){var t=this;this.scrollSource&&s(this.scrollSource).removeEventListener("scroll",function(){return u(t)}),l.get(this).scrollSource=e,e&&s(e).addEventListener("scroll",function(){return u(t)}),u(this)},get:function(){return l.get(this).scrollSource}},{key:"orientation",set:function(e){if(-1===["block","inline","horizontal","vertical"].indexOf(e))throw TypeError("Invalid orientation");l.get(this).orientation=e,u(this)},get:function(){return l.get(this).orientation}},{key:"scrollOffsets",set:function(e){for(var t,n=[],s=[],u=i(e);!(t=u()).done;){var c=t.value,m=null,f=void 0;"auto"==c&&(c=a);for(var h=0;h<o.length;h++){var d=o[h].parse(c);if(void 0!==d){f=d,m=o[h].evaluate;break}}if(!m){if(c!=a){var p=r(c);if(!p||p instanceof CSSUnitValue&&"number"==p.unit)throw TypeError("Invalid scrollOffsets entry.")}f=c}n.push(f),s.push(m)}if(1==n.length&&n[0]==a)throw TypeError("Invalid scrollOffsets value.");var g=l.get(this);g.scrollOffsets=n,g.scrollOffsetFns=s},get:function(){return l.get(this).scrollOffsets}},{key:"startScrollOffset",set:function(e){"auto"==e&&(e=a);var t=l.get(this);t.startScrollOffsetFunction=null;for(var n=0;n<o.length;n++){var i=o[n].parse(e);if(void 0!==i){e=i,t.startScrollOffsetFunction=o[n].evaluate;break}}if(e!=a&&!l.get(this).startScrollOffsetFunction){var s=r(e);if(!s||s instanceof CSSUnitValue&&"number"==s.unit)throw TypeError("Invalid start offset.")}t.startScrollOffset=e,u(this)},get:function(){return l.get(this).startScrollOffset}},{key:"endScrollOffset",set:function(e){"auto"==e&&(e=a),l.get(this).endScrollOffsetFunction=null;for(var t=0;t<o.length;t++){var n=o[t].parse(e);if(void 0!==n){e=n,l.get(this).endScrollOffsetFunction=o[t].evaluate;break}}if(e!=a&&!l.get(this).startScrollOffsetFunction){var i=r(e);if(!i||i instanceof CSSUnitValue&&"number"==i.unit)throw TypeError("Invalid end offset.")}l.get(this).endScrollOffset=e,u(this)},get:function(){return l.get(this).endScrollOffset}},{key:"timeRange",set:function(e){if("auto"!=e&&("number"!=typeof e||!Number.isFinite(e)||e!=e))throw TypeError("Invalid timeRange value");l.get(this).timeRange=e,u(this)},get:function(){return l.get(this).timeRange}},{key:"phase",get:function(){if(!this.scrollSource)return"inactive";var e=getComputedStyle(this.scrollSource);if("none"==e.display)return"inactive";if(this.scrollSource!=document.scrollingElement&&("visible"==e.overflow||"clip"==e.overflow))return"inactive";var t=m(new CSSUnitValue(0,"percent"),this.scrollSource,this.orientation,this.startScrollOffset,l.get(this).startScrollOffsetFunction),n=m(new CSSUnitValue(100,"percent"),this.scrollSource,this.orientation,this.endScrollOffset,l.get(this).endScrollOffsetFunction),i=m(new CSSUnitValue(100,"percent"),this.scrollSource,this.orientation,new CSSUnitValue(100,"percent"),null);if(null===t||null===n)return"inactive";var r=c(this.scrollSource,this.orientation);return r<t?"before":r>=n&&n<i?"after":"active"}},{key:"currentTime",get:function(){if(!this.scrollSource)return null;if("inactive"==this.phase)return null;var e=m(new CSSUnitValue(0,"percent"),this.scrollSource,this.orientation,this.startScrollOffset,l.get(this).startScrollOffsetFunction),t=m(new CSSUnitValue(100,"percent"),this.scrollSource,this.orientation,this.endScrollOffset,l.get(this).endScrollOffsetFunction),n=function(e){var t=e.timeRange;if(t==a){t=0;for(var n=l.get(e).animations,i=0;i<n.length;i++)t=Math.max(t,n[i].animation.effect.getComputedTiming().activeDuration);Infinity===t&&(t=0)}return t}(this),i=c(this.scrollSource,this.orientation);return i<e?0:i>=t?n:(i-e)/(t-e)*n}},{key:"__polyfill",get:function(){return!0}}]),e}(),p=window.Element.prototype.animate,g=window.Animation,v=function(){function e(){var e=this;this.state="pending",this.nativeResolve=this.nativeReject=null,this.promise=new Promise(function(t,n){e.nativeResolve=t,e.nativeReject=n})}var t=e.prototype;return t.resolve=function(e){this.state="resolved",this.nativeResolve(e)},t.reject=function(e){this.state="rejected",this.promise.catch(function(){}),this.nativeReject(e)},e}();function y(e){e.readyPromise=new v,requestAnimationFrame(function(){null!==e.timeline.currentTime&&M(e)})}function T(){return new DOMException("The user aborted a request","AbortError")}function k(e){e.finishedPromise&&"pending"==e.finishedPromise.state&&"finished"==e.proxy.playState&&(e.finishedPromise.resolve(e.proxy),e.animation.finish(),e.animation.pause())}function S(e){return null!==e.pendingPlaybackRate?e.pendingPlaybackRate:e.animation.playbackRate}function b(e){null!==e.pendingPlaybackRate&&(e.animation.playbackRate=e.pendingPlaybackRate,e.pendingPlaybackRate=null)}function w(e){if(!e.timeline)return null;var t=e.timeline.currentTime;if(null===t)return null;if(null===e.startTime)return null;var n=(t-e.startTime)*e.animation.playbackRate;return-0==n&&(n=0),n}function R(e,t){if(!e.timeline)return null;var n=e.timeline.currentTime;return null==n?null:n-t/e.animation.playbackRate}function P(e,t,n){if(e.timeline){var i=t?e.proxy.currentTime:w(e);if(i&&null!=e.startTime&&!e.proxy.pending){var r=S(e),a=O(e),l=e.previousCurrentTime;r>0&&i>=a?((null===l||l<a)&&(l=a),e.holdTime=t?i:l):r<0&&i<=0?((null==l||l>0)&&(l=0),e.holdTime=t?i:l):0!=r&&(t&&null!==e.holdTime&&(e.startTime=R(e,e.holdTime)),e.holdTime=null)}E(e),e.previousCurrentTime=e.proxy.currentTime,"finished"==e.proxy.playState?(e.finishedPromise||(e.finishedPromise=new v),"pending"==e.finishedPromise.state&&(n?k(e):Promise.resolve().then(function(){k(e)}))):(e.finishedPromise&&"resolved"==e.finishedPromise.state&&(e.finishedPromise=new v),"paused"!=e.animation.playState&&e.animation.pause())}}function O(e){var t=e.animation.effect.getTiming();return Math.max(0,t.delay+t.endDelay+t.iterations*t.duration)}function E(e){e.timeline&&(null!==e.startTime?e.animation.currentTime=(e.timeline.currentTime-e.startTime)*e.animation.playbackRate:null!==e.holdTime&&(e.animation.currentTime=e.holdTime))}function C(e,t){if(e.timeline){var n="paused"==e.proxy.playState&&e.proxy.pending,i=!1,r=null,a=e.proxy.currentTime;e.resetCurrentTimeOnResume&&(a=null,e.resetCurrentTimeOnResume=!1);var l=S(e),o=O(e);if(l>0&&t&&(null==a||a<0||a>=o))r=0;else if(l<0&&t&&(null==a||a<=0||a>o)){if(Infinity==o)return void e.animation.play();r=o}else 0==l&&null==a&&(r=0);null!=r&&(e.startTime=r,e.holdTime=null,b(e)),h(e.timeline,e.animation,x.bind(e.proxy)),e.holdTime&&(e.startTime=null),e.pendingTask&&(e.pendingTask=null,i=!0),(null!==e.holdTime||null!==r||n||null!==e.pendingPlaybackRate)&&(e.readyPromise&&!i&&(e.readyPromise=null),E(e),e.readyPromise||y(e),e.pendingTask="play",P(e,!1,!1))}}function x(e){var t=I.get(this);if(null!=e){t.pendingTask&&M(t);var n=this.playState;"running"!=n&&"finished"!=n||(t.animation.currentTime=(e-this.startTime)*this.playbackRate,"finished"==n&&0!=S(t)&&(t.holdTime=null),P(t,!1,!1))}else"idle"!=t.animation.playState&&t.animation.cancel()}function M(e){"pause"==e.pendingTask?function(e){null!=e.startTime&&null==e.holdTime&&(e.holdTime=(e.timeline.currentTime-e.startTime)*e.animation.playbackRate),b(e),e.startTime=null,e.readyPromise.resolve(e.proxy),P(e,!1,!1),E(e),e.pendingTask=null}(e):"play"==e.pendingTask&&function(e){var t=e.timeline.currentTime;if(null!=e.holdTime)b(e),0==e.animation.playbackRate?e.startTime=t:(e.startTime=t-e.holdTime/e.animation.playbackRate,e.holdTime=null);else if(null!==e.startTime&&null!==e.pendingPlaybackRate){var n=(t-e.startTime)*e.animation.playbackRate;b(e);var i=e.animation.playbackRate;0==i?(e.holdTime=null,e.startTime=t):e.startTime=t-n/i}e.readyPromise&&"pending"==e.readyPromise.state&&e.readyPromise.resolve(e.proxy),P(e,!1,!1),E(e),e.pendingTask=null}(e)}var I=new WeakMap,A=function(){function e(e,t){var n=e instanceof g?e:new g(e,r),i=t instanceof d,r=i?void 0:t;I.set(this,{animation:n,timeline:i?t:void 0,playState:i?"idle":null,readyPromise:null,finishedPromise:null,startTime:null,holdTime:null,previousCurrentTime:null,resetCurrentTimeOnResume:!1,pendingPlaybackRate:null,pendingTask:null,proxy:this})}var n=e.prototype;return n.finish=function(){var e=I.get(this);if(e.timeline){var t=S(e),n=O(e);if(0==t)throw new DOMException("Cannot finish Animation with a playbackRate of 0.","InvalidStateError");if(t>0&&Infinity==n)throw new DOMException("Cannot finish Animation with an infinite target effect end.","InvalidStateError");b(e);var i=t<0?0:n;this.currentTime=i;var r=e.timeline.currentTime;null===e.startTime&&null!==r&&(e.startTime=r-i/e.animation.playbackRate),"pause"==e.pendingTask&&null!==e.startTime&&(e.holdTime=null,e.pendingTask=null,e.readyPromise.resolve(this)),"play"==e.pendingTask&&null!==e.startTime&&(e.pendingTask=null,e.readyPromise.resolve(this)),P(e,!0,!0)}else e.animation.finish()},n.play=function(){var e=I.get(this);e.timeline?C(e,!0):e.animation.play()},n.pause=function(){var e=I.get(this);if(e.timeline){if("paused"!=this.playState){var t=null,n=e.animation.playbackRate,i=O(e);if(null===e.animation.currentTime)if(n>=0)t=0;else{if(Infinity==i)return void e.animation.pause();t=i}null!==t&&(e.startTime=t),"play"==e.pendingTask?e.pendingTask=null:e.readyPromise=null,e.readyPromise||y(e),e.pendingTask="pause"}}else e.animation.pause()},n.reverse=function(){var e=I.get(this),t=S(e),n=e.resetCurrentTimeOnResume?null:this.currentTime,i=Infinity==O(e),r=0!=t&&(t<0||n>0||!i);if(!e.timeline||!r)return r&&(e.pendingPlaybackRate=-S(e)),void e.animation.reverse();if("inactive"==e.timeline.phase)throw new DOMException("Cannot reverse an animation with no active timeline","InvalidStateError");this.updatePlaybackRate(-t),C(e,!0)},n.updatePlaybackRate=function(e){var t=I.get(this);if(t.pendingPlaybackRate=e,t.timeline){if(!t.readyPromise||"pending"!=t.readyPromise.state)switch(this.playState){case"idle":case"paused":b(t);break;case"finished":var n=t.timeline.currentTime,i=null!==n?(n-t.startTime)*t.animation.playbackRate:null;t.startTime=0==e?n:null!=n&&null!=i?(n-i)/e:null,b(t),P(t,!1,!1),E(t);break;default:C(t,!1)}}else t.animation.updatePlaybackRate(e)},n.persist=function(){I.get(this).animation.persist()},n.cancel=function(){var e=I.get(this);e.timeline?("idle"!=this.playState&&(function(e){e.pendingTask&&(e.pendingTask=null,b(e),e.readyPromise.reject(T()),y(e),e.readyPromise.resolve(e.proxy))}(e),e.finishedPromise&&"pending"==e.finishedPromise.state&&e.finishedPromise.reject(T()),e.finishedPromise=new v,e.animation.cancel()),e.startTime=null,e.holdTime=null,f(e.timeline,e.animation)):e.animation.cancel()},n.addEventListener=function(e,t,n){I.get(this).animation.addEventListener(e,t,n)},n.removeEventListener=function(e,t,n){I.get(this).animation.removeEventListener(e,t,n)},n.dispatchEvent=function(e){I.get(this).animation.dispatchEvent(e)},t(e,[{key:"effect",get:function(){return I.get(this).animation.effect},set:function(e){I.get(this).animation.effect=e}},{key:"timeline",get:function(){var e=I.get(this);return e.timeline||e.animation.timeline},set:function(e){var t=this.timeline;if(t!=e){var n=this.playState,i=this.currentTime,r=t instanceof d,a=e instanceof d,l=I.get(this);l.resetCurrentTimeOnResume=!1;var o=this.pending;if(r&&f(l.timeline,l.animation),a){l.timeline=e,b(l);var s=l.animation.playbackRate>=0?0:O(l);switch(n){case"running":case"finished":l.startTime=s,h(l.timeline,l.animation,x.bind(this));break;case"paused":l.resetCurrentTimeOnResume=!0,l.startTime=null,l.holdTime=i;break;default:l.holdTime=null,l.startTime=null}return o&&(l.readyPromise&&"resolved"!=l.readyPromise.state||y(l),l.pendingTask="paused"==n?"pause":"play"),null!==l.startTime&&(l.holdTime=null),void P(l,!1,!1)}if(l.animation.timeline!=e)throw TypeError("Unsupported timeline: "+e);if(f(l.timeline,l.animation),l.timeline=null,r)switch(null!==i&&(l.animation.currentTime=i),n){case"paused":l.animation.pause();break;case"running":case"finished":l.animation.play()}}}},{key:"startTime",get:function(){var e=I.get(this);return e.timeline?e.startTime:e.animation.startTime},set:function(e){var t=I.get(this);if(t.timeline){null==t.timeline.currentTime&&null!=t.startTime&&(t.holdTime=null,E(t));var n=this.currentTime;b(t),t.startTime=e,t.resetCurrentTimeOnResume=!1,t.holdTime=null!==t.startTime&&0!=t.animation.playbackRate?null:n,t.pendingTask&&(t.pendingTask=null,t.readyPromise.resolve(this)),P(t,!0,!1),E(t)}else t.animation.startTime=e}},{key:"currentTime",get:function(){var e=I.get(this);return e.timeline?null!=e.holdTime?e.holdTime:w(e):e.animation.currentTime},set:function(e){var t=I.get(this);if(t.timeline&&null!=e){var n=t.timeline.phase;null!==t.holdTime||null===t.startTime||"inactive"==n||0==t.animation.playbackRate?t.holdTime=e:t.startTime=R(t,e),t.resetCurrentTimeOnResume=!1,"inactive"==n&&(t.startTime=null),t.previousCurrentTime=null,"pause"==t.pendingTask&&(t.holdTime=e,b(t),t.startTime=null,t.pendingTask=null,t.readyPromise.resolve(this)),P(t,!0,!1)}else t.animation.currentTime=e}},{key:"playbackRate",get:function(){return I.get(this).animation.playbackRate},set:function(e){var t=I.get(this);if(t.timeline){t.pendingPlaybackRate=null;var n=this.currentTime;t.animation.playbackRate=e,null!==n&&(this.currentTime=n)}else t.animation.playbackRate=e}},{key:"playState",get:function(){var e=I.get(this);if(!e.timeline)return e.animation.playState;var t=this.currentTime;if(null===t&&null===e.startTime&&null==e.pendingTask)return"idle";if("pause"==e.pendingTask||null===e.startTime&&"play"!=e.pendingTask)return"paused";if(null!=t){if(e.animation.playbackRate>0&&t>=O(e))return"finished";if(e.animation.playbackRate<0&&t<=0)return"finished"}return"running"}},{key:"replaceState",get:function(){return I.get(this).animation.pending}},{key:"pending",get:function(){var e=I.get(this);return e.timeline?!!e.readyPromise&&"pending"==e.readyPromise.state:e.animation.pending}},{key:"id",get:function(){return I.get(this).animation.id}},{key:"onfinish",get:function(){return I.get(this).animation.onfinish},set:function(e){I.get(this).animation.onfinish=e}},{key:"oncancel",get:function(){return I.get(this).animation.oncancel},set:function(e){I.get(this).animation.oncancel=e}},{key:"onremove",get:function(){return I.get(this).animation.onremove},set:function(e){I.get(this).animation.onremove=e}},{key:"finished",get:function(){var e=I.get(this);return e.timeline?(e.finishedPromise||(e.finishedPromise=new v),e.finishedPromise.promise):e.animation.finished}},{key:"ready",get:function(){var e=I.get(this);return e.timeline?(e.readyPromise||(e.readyPromise=new v,e.readyPromise.resolve(this)),e.readyPromise.promise):e.animation.ready}}]),e}(),U=new WeakMap,F=[[[0,1,2,3]],[[0,2],[1,3]],[[0],[1,3],[2]],[[0],[1],[2],[3]]],j=function(){function e(e){U.set(this,{target:null,edge:"start",threshold:0,rootMargin:[[0,"px"],[0,"px"],[0,"px"],[0,"px"]]}),this.target=e.target,this.edge=e.edge||"start",this.threshold=e.threshold||0,this.rootMargin=e.rootMargin||"0px 0px 0px 0px",this.clamp=e.clamp||!1}return t(e,[{key:"target",set:function(e){if(!(e instanceof Element))throw U.get(this).target=null,Error("Intersection target must be an element.");U.get(this).target=e},get:function(){return U.get(this).target}},{key:"edge",set:function(e){-1!=["start","end"].indexOf(e)&&(U.get(this).edge=e)},get:function(){return U.get(this).edge}},{key:"threshold",set:function(e){var t=parseFloat(e);if(t!=t)throw TypeError("Invalid threshold.");if(t<0||t>1)throw TypeError("threshold must be in the range [0, 1]");U.get(this).threshold=t},get:function(){return U.get(this).threshold}},{key:"rootMargin",set:function(e){var t=e.split(/ +/);if(t.length<1||t.length>4)throw TypeError("rootMargin must contain between 1 and 4 length components");for(var n=[[],[],[],[]],i=0;i<t.length;i++){var a=r(t[i],!0);if(!a)throw TypeError("Unrecognized rootMargin length");for(var l=F[t.length-1][i],o=0;o<l.length;o++)n[l[o]]=[parseFloat(a.value),a.unit]}U.get(this).rootMargin=n},get:function(){return U.get(this).rootMargin.map(function(e){return e.join("")}).join(" ")}},{key:"clamp",set:function(e){U.get(this).clamp=!!e}}]),e}();if(o.push({parse:function(e){if(e.target)return new j(e)},evaluate:function(e,t,n,i){"block"==t?t="vertical":"inline"==t&&(t="horizontal");for(var r,a=e==document.scrollingElement?{left:0,right:e.clientWidth,top:0,bottom:e.clientHeight,width:e.clientWidth,height:e.clientHeight}:e.getBoundingClientRect(),l=U.get(n).rootMargin,o=[],s=0;s<4;s++)o.push("percent"==(r=l[s])[1]?r[0]*(s%2==0?a.height:a.width)/100:r[0]);var u=a.left-o[3],c=a.right-a.left+o[3]+o[1],m=a.top-o[0],f=a.bottom-a.top+o[0]+o[2],h=U.get(n).clamp,d=n.target.getBoundingClientRect(),p=n.threshold;if("start"==n.edge&&(p=1-p),"vertical"==t){var g=d.top+d.height*p-m+e.scrollTop;return h?"end"==n.edge?Math.max(0,g-f):Math.min(g,e.scrollHeight-f):"end"==n.edge?g-f:g}var v=d.left+d.width*p-u+e.scrollLeft;return h?"end"==n.edge?Math.max(0,v-c):Math.min(v,e.scrollWidth-c):"end"==n.edge?v-c:v}}),!Reflect.defineProperty(window,"ScrollTimeline",{value:d}))throw Error("Error installing ScrollTimeline polyfill: could not attach ScrollTimeline to window");if(!Reflect.defineProperty(Element.prototype,"animate",{value:function(e,t){var n=t.timeline;n instanceof d&&delete t.timeline;var i=p.apply(this,[e,t]),r=new A(i,n);return n instanceof d&&(i.pause(),r.play()),r}}))throw Error("Error installing ScrollTimeline polyfill: could not attach WAAPI's animate to DOM Element");if(!Reflect.defineProperty(window,"Animation",{value:A}))throw Error("Error installing Animation constructor.")}();
>>>>>>> d16508c (Update build files)
>>>>>>> e7d4bb4 (Update build files)
=======
>>>>>>> 3ca3860 (Add polyfill for CSSOM.)
=======
!function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e instanceof CSSUnitValue||e instanceof CSSMathSum)return e;if(!t)return null;var n=e.trim().match(/^(-?[0-9]*\.?[0-9]*)(px|%)$/);return n?new CSSUnitValue(n[1],"%"==n[2]?"percent":n[2]):null}!function(){var e,i=new WeakMap;function r(e){for(var t,n=[],i=0;i<e.length;i++)n[i]="number"==typeof(t=e[i])?new CSSUnitValue(t,"number"):t;return n}var a=function(){function e(e,t,n,a){i.set(this,{values:r(e),operator:t,name:n||t,delimiter:a||", "})}return e.prototype.toString=function(){var e=i.get(this);return e.name+"("+e.values.join(e.delimiter)+")"},t(e,[{key:"operator",get:function(){return i.get(this).operator}},{key:"values",get:function(){return i.get(this).values}}]),e}(),o=((e={CSSUnitValue:function(){function e(e,t){i.set(this,{value:e,unit:t})}return e.prototype.toString=function(){var e=i.get(this);return""+e.value+function(e){switch(e){case"percent":return"%";case"number":return"";default:return e.toLowerCase()}}(e.unit)},t(e,[{key:"value",get:function(){return i.get(this).value},set:function(e){i.get(this).value=e}},{key:"unit",get:function(){return i.get(this).unit}}]),e}(),CSSKeywordValue:function(){function e(e){this.value=e}return e.prototype.toString=function(){return this.value.toString()},e}(),CSSMathSum:function(e){function t(t){return e.call(this,arguments,"sum","calc"," + ")||this}return n(t,e),t}(a),CSSMathProduct:function(e){function t(t){return e.call(this,arguments,"product","calc"," * ")||this}return n(t,e),t}(a),CSSMathNegate:function(e){function t(t){return e.call(this,[arguments[0]],"negate","-")||this}return n(t,e),t}(a)}).CSSMathNegate=function(e){function t(t){return e.call(this,[1,arguments[0]],"invert","calc"," / ")||this}return n(t,e),t}(a),e.CSSMathMax=function(e){function t(){return e.call(this,arguments,"max")||this}return n(t,e),t}(a),e.CSSMathMin=function(e){function t(){return e.call(this,arguments,"min")||this}return n(t,e),t}(a),e);if(!window.CSS&&!Reflect.defineProperty(window,"CSS",{value:{}}))throw Error("Error installing CSSOM support");for(var l in window.CSSUnitValue||["number","percent","em","ex","px","cm","mm","in","pt","pc","Q","vw","vh","vmin","vmax","rems","ch","deg","rad","grad","turn","ms","s","Hz","kHz","dppx","dpi","dpcm","fr"].forEach(function(e){if(!Reflect.defineProperty(CSS,e,{value:function(t){return new CSSUnitValue(t,e)}}))throw Error("Error installing CSS."+e)}),o)if(!(l in window)&&!Reflect.defineProperty(window,l,{value:o[l]}))throw Error("Error installing CSSOM support for "+l)}();var l=new CSSKeywordValue("auto"),s=new WeakMap,u=[];function c(e){return e===document.scrollingElement?document:e}function m(e){var t=s.get(e).animations;if(0!==t.length)for(var n=e.currentTime,i=0;i<t.length;i++)t[i].tickAnimation(n)}function f(e,t){var n="horizontal-tb"==getComputedStyle(e).writingMode,i=e.scrollTop;return("horizontal"==t||"inline"==t&&n||"block"==t&&!n)&&(i=Math.abs(e.scrollLeft)),i}function h(e,t){if(e instanceof CSSUnitValue){if("percent"==e.unit)return e.value*t/100;if("px"==e.unit)return e.value;throw TypeError("Unhandled unit type "+e.unit)}if(e instanceof CSSMathSum){for(var n,i=0,r=a(e.values);!(n=r()).done;)i+=h(n.value,t);return i}throw TypeError("Unsupported value type: "+typeof e)}function p(e,t,n,i,r){if(r)return r(t,n,i,0==e.value?"start":"end");"block"===n?n="vertical":"inline"===n&&(n="horizontal");var a="vertical"===n?t.scrollHeight-t.clientHeight:t.scrollWidth-t.clientWidth;return h(o(i===l?e:i),a)}function d(e,t,n,i){var r=[],a=!0;0==n.length?(r.push(p(new CSSUnitValue(0,"percent"),e,t,l)),a=!1,r.push(p(new CSSUnitValue(100,"percent"),e,t,l))):1==n.length&&(r.push(p(new CSSUnitValue(0,"percent"),e,t,l)),a=!1);for(var o=0;o<n.length;o++){var s=p(a?new CSSUnitValue(0,"percent"):new CSSUnitValue(100,"percent"),e,t,n[o],i[o]);if(null===s)return[];r.push(s),a=!1}return r}function g(e,t){for(var n=s.get(e).animations,i=0;i<n.length;i++)n[i].animation==t&&n.splice(i,1)}function v(e,t,n){for(var i=s.get(e).animations,r=0;r<i.length;r++)if(i[r].animation==t)return;i.push({animation:t,tickAnimation:n}),m(e)}var y=function(){function e(e){s.set(this,{scrollSource:null,orientation:"block",scrollOffsets:[],timeRange:l,animations:[],scrollOffsetFns:[]}),this.scrollSource=e&&void 0!==e.scrollSource?e.scrollSource:document.scrollingElement,this.orientation=e&&e.orientation||"block",this.scrollOffsets=e&&void 0!==e.scrollOffsets?e.scrollOffsets:[],this.timeRange=e&&void 0!==e.timeRange?e.timeRange:"auto"}return t(e,[{key:"scrollSource",get:function(){return s.get(this).scrollSource},set:function(e){var t=this;this.scrollSource&&c(this.scrollSource).removeEventListener("scroll",function(){return m(t)}),s.get(this).scrollSource=e,e&&c(e).addEventListener("scroll",function(){return m(t)}),m(this)}},{key:"orientation",get:function(){return s.get(this).orientation},set:function(e){if(-1===["block","inline","horizontal","vertical"].indexOf(e))throw TypeError("Invalid orientation");s.get(this).orientation=e,m(this)}},{key:"scrollOffsets",get:function(){return s.get(this).scrollOffsets},set:function(e){for(var t,n=[],i=[],r=a(e);!(t=r()).done;){var c=t.value,f=null,h=void 0;"auto"==c&&(c=l);for(var p=0;p<u.length;p++){var d=u[p].parse(c);if(void 0!==d){h=d,f=u[p].evaluate;break}}if(!f){if(c!=l){var g=o(c);if(!g||g instanceof CSSUnitValue&&"number"==g.unit)throw TypeError("Invalid scrollOffsets entry.")}h=c}n.push(h),i.push(f)}if(1==n.length&&n[0]==l)throw TypeError("Invalid scrollOffsets value.");var v=s.get(this);v.scrollOffsets=n,v.scrollOffsetFns=i,m(this)}},{key:"timeRange",get:function(){return s.get(this).timeRange},set:function(e){if("auto"!=e&&("number"!=typeof e||!Number.isFinite(e)||e!=e))throw TypeError("Invalid timeRange value");s.get(this).timeRange=e,m(this)}},{key:"phase",get:function(){if(!this.scrollSource)return"inactive";var e=getComputedStyle(this.scrollSource);if("none"==e.display)return"inactive";if(this.scrollSource!=document.scrollingElement&&("visible"==e.overflow||"clip"==e.overflow))return"inactive";var t=d(this.scrollSource,this.orientation,this.scrollOffsets,s.get(this).scrollOffsetFns);if(0==t.length)return"inactive";var n=p(new CSSUnitValue(100,"percent"),this.scrollSource,this.orientation,new CSSUnitValue(100,"percent"),null),i=t[0],r=t[t.length-1],a=f(this.scrollSource,this.orientation);return a<i?"before":a>=r&&r<n?"after":"active"}},{key:"currentTime",get:function(){if(!this.scrollSource)return null;if("inactive"==this.phase)return null;var e=d(this.scrollSource,this.orientation,this.scrollOffsets,s.get(this).scrollOffsetFns),t=e[0],n=e[e.length-1],i=function(e){var t=e.timeRange;if(t==l){t=0;for(var n=s.get(e).animations,i=0;i<n.length;i++)t=Math.max(t,n[i].animation.effect.getComputedTiming().activeDuration);Infinity===t&&(t=0)}return t}(this),r=f(this.scrollSource,this.orientation);return r<t?0:r>=n?i:function(e,t){var n;for(n=t.length-2;n>=0&&!(t[n]<=e&&e<t[n+1]);n--);var i=t[n];return(n+(e-i)/(t[n+1]-i))*(1/(t.length-1))}(r,e)*i}},{key:"__polyfill",get:function(){return!0}}]),e}(),T=window.Element.prototype.animate,S=window.Animation,k=function(){function e(){var e=this;this.state="pending",this.nativeResolve=this.nativeReject=null,this.promise=new Promise(function(t,n){e.nativeResolve=t,e.nativeReject=n})}var t=e.prototype;return t.resolve=function(e){this.state="resolved",this.nativeResolve(e)},t.reject=function(e){this.state="rejected",this.promise.catch(function(){}),this.nativeReject(e)},e}();function w(e){e.readyPromise=new k,requestAnimationFrame(function(){null!==e.timeline.currentTime&&V(e)})}function b(){return new DOMException("The user aborted a request","AbortError")}function P(e){e.finishedPromise&&"pending"==e.finishedPromise.state&&"finished"==e.proxy.playState&&(e.finishedPromise.resolve(e.proxy),e.animation.finish(),e.animation.pause())}function R(e){return null!==e.pendingPlaybackRate?e.pendingPlaybackRate:e.animation.playbackRate}function C(e){null!==e.pendingPlaybackRate&&(e.animation.playbackRate=e.pendingPlaybackRate,e.pendingPlaybackRate=null)}function E(e){if(!e.timeline)return null;var t=e.timeline.currentTime;if(null===t)return null;if(null===e.startTime)return null;var n=(t-e.startTime)*e.animation.playbackRate;return-0==n&&(n=0),n}function x(e,t){if(!e.timeline)return null;var n=e.timeline.currentTime;return null==n?null:n-t/e.animation.playbackRate}function M(e,t,n){if(e.timeline){var i=t?e.proxy.currentTime:E(e);if(i&&null!=e.startTime&&!e.proxy.pending){var r=R(e),a=O(e),o=e.previousCurrentTime;r>0&&i>=a?((null===o||o<a)&&(o=a),e.holdTime=t?i:o):r<0&&i<=0?((null==o||o>0)&&(o=0),e.holdTime=t?i:o):0!=r&&(t&&null!==e.holdTime&&(e.startTime=x(e,e.holdTime)),e.holdTime=null)}U(e),e.previousCurrentTime=e.proxy.currentTime,"finished"==e.proxy.playState?(e.finishedPromise||(e.finishedPromise=new k),"pending"==e.finishedPromise.state&&(n?P(e):Promise.resolve().then(function(){P(e)}))):(e.finishedPromise&&"resolved"==e.finishedPromise.state&&(e.finishedPromise=new k),"paused"!=e.animation.playState&&e.animation.pause())}}function O(e){var t=e.animation.effect.getTiming();return Math.max(0,t.delay+t.endDelay+t.iterations*t.duration)}function U(e){e.timeline&&(null!==e.startTime?e.animation.currentTime=(e.timeline.currentTime-e.startTime)*e.animation.playbackRate:null!==e.holdTime&&(e.animation.currentTime=e.holdTime))}function I(e,t){if(e.timeline){var n="paused"==e.proxy.playState&&e.proxy.pending,i=!1,r=null,a=e.proxy.currentTime;e.resetCurrentTimeOnResume&&(a=null,e.resetCurrentTimeOnResume=!1);var o=R(e),l=O(e);if(o>0&&t&&(null==a||a<0||a>=l))r=0;else if(o<0&&t&&(null==a||a<=0||a>l)){if(Infinity==l)return void e.animation.play();r=l}else 0==o&&null==a&&(r=0);null!=r&&(e.startTime=r,e.holdTime=null,C(e)),v(e.timeline,e.animation,A.bind(e.proxy)),e.holdTime&&(e.startTime=null),e.pendingTask&&(e.pendingTask=null,i=!0),(null!==e.holdTime||null!==r||n||null!==e.pendingPlaybackRate)&&(e.readyPromise&&!i&&(e.readyPromise=null),U(e),e.readyPromise||w(e),e.pendingTask="play",M(e,!1,!1))}}function A(e){var t=j.get(this);if(null!=e){t.pendingTask&&V(t);var n=this.playState;"running"!=n&&"finished"!=n||(t.animation.currentTime=(e-this.startTime)*this.playbackRate,"finished"==n&&0!=R(t)&&(t.holdTime=null),M(t,!1,!1))}else"idle"!=t.animation.playState&&t.animation.cancel()}function V(e){"pause"==e.pendingTask?function(e){null!=e.startTime&&null==e.holdTime&&(e.holdTime=(e.timeline.currentTime-e.startTime)*e.animation.playbackRate),C(e),e.startTime=null,e.readyPromise.resolve(e.proxy),M(e,!1,!1),U(e),e.pendingTask=null}(e):"play"==e.pendingTask&&function(e){var t=e.timeline.currentTime;if(null!=e.holdTime)C(e),0==e.animation.playbackRate?e.startTime=t:(e.startTime=t-e.holdTime/e.animation.playbackRate,e.holdTime=null);else if(null!==e.startTime&&null!==e.pendingPlaybackRate){var n=(t-e.startTime)*e.animation.playbackRate;C(e);var i=e.animation.playbackRate;0==i?(e.holdTime=null,e.startTime=t):e.startTime=t-n/i}e.readyPromise&&"pending"==e.readyPromise.state&&e.readyPromise.resolve(e.proxy),M(e,!1,!1),U(e),e.pendingTask=null}(e)}var j=new WeakMap,W=function(){function e(e,t){var n=e instanceof S?e:new S(e,r),i=t instanceof y,r=i?void 0:t;j.set(this,{animation:n,timeline:i?t:void 0,playState:i?"idle":null,readyPromise:null,finishedPromise:null,startTime:null,holdTime:null,previousCurrentTime:null,resetCurrentTimeOnResume:!1,pendingPlaybackRate:null,pendingTask:null,proxy:this})}var n=e.prototype;return n.finish=function(){var e=j.get(this);if(e.timeline){var t=R(e),n=O(e);if(0==t)throw new DOMException("Cannot finish Animation with a playbackRate of 0.","InvalidStateError");if(t>0&&Infinity==n)throw new DOMException("Cannot finish Animation with an infinite target effect end.","InvalidStateError");C(e);var i=t<0?0:n;this.currentTime=i;var r=e.timeline.currentTime;null===e.startTime&&null!==r&&(e.startTime=r-i/e.animation.playbackRate),"pause"==e.pendingTask&&null!==e.startTime&&(e.holdTime=null,e.pendingTask=null,e.readyPromise.resolve(this)),"play"==e.pendingTask&&null!==e.startTime&&(e.pendingTask=null,e.readyPromise.resolve(this)),M(e,!0,!0)}else e.animation.finish()},n.play=function(){var e=j.get(this);e.timeline?I(e,!0):e.animation.play()},n.pause=function(){var e=j.get(this);if(e.timeline){if("paused"!=this.playState){var t=null,n=e.animation.playbackRate,i=O(e);if(null===e.animation.currentTime)if(n>=0)t=0;else{if(Infinity==i)return void e.animation.pause();t=i}null!==t&&(e.startTime=t),"play"==e.pendingTask?e.pendingTask=null:e.readyPromise=null,e.readyPromise||w(e),e.pendingTask="pause"}}else e.animation.pause()},n.reverse=function(){var e=j.get(this),t=R(e),n=e.resetCurrentTimeOnResume?null:this.currentTime,i=Infinity==O(e),r=0!=t&&(t<0||n>0||!i);if(!e.timeline||!r)return r&&(e.pendingPlaybackRate=-R(e)),void e.animation.reverse();if("inactive"==e.timeline.phase)throw new DOMException("Cannot reverse an animation with no active timeline","InvalidStateError");this.updatePlaybackRate(-t),I(e,!0)},n.updatePlaybackRate=function(e){var t=j.get(this);if(t.pendingPlaybackRate=e,t.timeline){if(!t.readyPromise||"pending"!=t.readyPromise.state)switch(this.playState){case"idle":case"paused":C(t);break;case"finished":var n=t.timeline.currentTime,i=null!==n?(n-t.startTime)*t.animation.playbackRate:null;t.startTime=0==e?n:null!=n&&null!=i?(n-i)/e:null,C(t),M(t,!1,!1),U(t);break;default:I(t,!1)}}else t.animation.updatePlaybackRate(e)},n.persist=function(){j.get(this).animation.persist()},n.cancel=function(){var e=j.get(this);e.timeline?("idle"!=this.playState&&(function(e){e.pendingTask&&(e.pendingTask=null,C(e),e.readyPromise.reject(b()),w(e),e.readyPromise.resolve(e.proxy))}(e),e.finishedPromise&&"pending"==e.finishedPromise.state&&e.finishedPromise.reject(b()),e.finishedPromise=new k,e.animation.cancel()),e.startTime=null,e.holdTime=null,g(e.timeline,e.animation)):e.animation.cancel()},n.addEventListener=function(e,t,n){j.get(this).animation.addEventListener(e,t,n)},n.removeEventListener=function(e,t,n){j.get(this).animation.removeEventListener(e,t,n)},n.dispatchEvent=function(e){j.get(this).animation.dispatchEvent(e)},t(e,[{key:"effect",get:function(){return j.get(this).animation.effect},set:function(e){j.get(this).animation.effect=e}},{key:"timeline",get:function(){var e=j.get(this);return e.timeline||e.animation.timeline},set:function(e){var t=this.timeline;if(t!=e){var n=this.playState,i=this.currentTime,r=t instanceof y,a=e instanceof y,o=j.get(this);o.resetCurrentTimeOnResume=!1;var l=this.pending;if(r&&g(o.timeline,o.animation),a){o.timeline=e,C(o);var s=o.animation.playbackRate>=0?0:O(o);switch(n){case"running":case"finished":o.startTime=s,v(o.timeline,o.animation,A.bind(this));break;case"paused":o.resetCurrentTimeOnResume=!0,o.startTime=null,o.holdTime=i;break;default:o.holdTime=null,o.startTime=null}return l&&(o.readyPromise&&"resolved"!=o.readyPromise.state||w(o),o.pendingTask="paused"==n?"pause":"play"),null!==o.startTime&&(o.holdTime=null),void M(o,!1,!1)}if(o.animation.timeline!=e)throw TypeError("Unsupported timeline: "+e);if(g(o.timeline,o.animation),o.timeline=null,r)switch(null!==i&&(o.animation.currentTime=i),n){case"paused":o.animation.pause();break;case"running":case"finished":o.animation.play()}}}},{key:"startTime",get:function(){var e=j.get(this);return e.timeline?e.startTime:e.animation.startTime},set:function(e){var t=j.get(this);if(t.timeline){null==t.timeline.currentTime&&null!=t.startTime&&(t.holdTime=null,U(t));var n=this.currentTime;C(t),t.startTime=e,t.resetCurrentTimeOnResume=!1,t.holdTime=null!==t.startTime&&0!=t.animation.playbackRate?null:n,t.pendingTask&&(t.pendingTask=null,t.readyPromise.resolve(this)),M(t,!0,!1),U(t)}else t.animation.startTime=e}},{key:"currentTime",get:function(){var e=j.get(this);return e.timeline?null!=e.holdTime?e.holdTime:E(e):e.animation.currentTime},set:function(e){var t=j.get(this);if(t.timeline&&null!=e){var n=t.timeline.phase;null!==t.holdTime||null===t.startTime||"inactive"==n||0==t.animation.playbackRate?t.holdTime=e:t.startTime=x(t,e),t.resetCurrentTimeOnResume=!1,"inactive"==n&&(t.startTime=null),t.previousCurrentTime=null,"pause"==t.pendingTask&&(t.holdTime=e,C(t),t.startTime=null,t.pendingTask=null,t.readyPromise.resolve(this)),M(t,!0,!1)}else t.animation.currentTime=e}},{key:"playbackRate",get:function(){return j.get(this).animation.playbackRate},set:function(e){var t=j.get(this);if(t.timeline){t.pendingPlaybackRate=null;var n=this.currentTime;t.animation.playbackRate=e,null!==n&&(this.currentTime=n)}else t.animation.playbackRate=e}},{key:"playState",get:function(){var e=j.get(this);if(!e.timeline)return e.animation.playState;var t=this.currentTime;if(null===t&&null===e.startTime&&null==e.pendingTask)return"idle";if("pause"==e.pendingTask||null===e.startTime&&"play"!=e.pendingTask)return"paused";if(null!=t){if(e.animation.playbackRate>0&&t>=O(e))return"finished";if(e.animation.playbackRate<0&&t<=0)return"finished"}return"running"}},{key:"replaceState",get:function(){return j.get(this).animation.pending}},{key:"pending",get:function(){var e=j.get(this);return e.timeline?!!e.readyPromise&&"pending"==e.readyPromise.state:e.animation.pending}},{key:"id",get:function(){return j.get(this).animation.id}},{key:"onfinish",get:function(){return j.get(this).animation.onfinish},set:function(e){j.get(this).animation.onfinish=e}},{key:"oncancel",get:function(){return j.get(this).animation.oncancel},set:function(e){j.get(this).animation.oncancel=e}},{key:"onremove",get:function(){return j.get(this).animation.onremove},set:function(e){j.get(this).animation.onremove=e}},{key:"finished",get:function(){var e=j.get(this);return e.timeline?(e.finishedPromise||(e.finishedPromise=new k),e.finishedPromise.promise):e.animation.finished}},{key:"ready",get:function(){var e=j.get(this);return e.timeline?(e.readyPromise||(e.readyPromise=new k,e.readyPromise.resolve(this)),e.readyPromise.promise):e.animation.ready}}]),e}(),L=new WeakMap,z=[[[0,1,2,3]],[[0,2],[1,3]],[[0],[1,3],[2]],[[0],[1],[2],[3]]],F=function(){function e(e){L.set(this,{target:null,edge:"start",threshold:0,rootMargin:[[0,"px"],[0,"px"],[0,"px"],[0,"px"]]}),this.target=e.target,this.edge=e.edge||"start",this.threshold=e.threshold||0,this.rootMargin=e.rootMargin||"0px 0px 0px 0px",this.clamp=e.clamp||!1}return t(e,[{key:"target",get:function(){return L.get(this).target},set:function(e){if(!(e instanceof Element))throw L.get(this).target=null,Error("Intersection target must be an element.");L.get(this).target=e}},{key:"edge",get:function(){return L.get(this).edge},set:function(e){-1!=["start","end"].indexOf(e)&&(L.get(this).edge=e)}},{key:"threshold",get:function(){return L.get(this).threshold},set:function(e){var t=parseFloat(e);if(t!=t)throw TypeError("Invalid threshold.");if(t<0||t>1)throw TypeError("threshold must be in the range [0, 1]");L.get(this).threshold=t}},{key:"rootMargin",get:function(){return L.get(this).rootMargin.map(function(e){return e.join("")}).join(" ")},set:function(e){var t=e.split(/ +/);if(t.length<1||t.length>4)throw TypeError("rootMargin must contain between 1 and 4 length components");for(var n=[[],[],[],[]],i=0;i<t.length;i++){var r=o(t[i],!0);if(!r)throw TypeError("Unrecognized rootMargin length");for(var a=z[t.length-1][i],l=0;l<a.length;l++)n[a[l]]=[parseFloat(r.value),r.unit]}L.get(this).rootMargin=n}},{key:"clamp",set:function(e){L.get(this).clamp=!!e}}]),e}();if(u.push({parse:function(e){if(e.target)return new F(e)},evaluate:function(e,t,n,i){"block"==t?t="vertical":"inline"==t&&(t="horizontal");for(var r,a=e==document.scrollingElement?{left:0,right:e.clientWidth,top:0,bottom:e.clientHeight,width:e.clientWidth,height:e.clientHeight}:e.getBoundingClientRect(),o=L.get(n).rootMargin,l=[],s=0;s<4;s++)l.push("percent"==(r=o[s])[1]?r[0]*(s%2==0?a.height:a.width)/100:r[0]);var u=a.left-l[3],c=a.right-a.left+l[3]+l[1],m=a.top-l[0],f=a.bottom-a.top+l[0]+l[2],h=L.get(n).clamp,p=n.target.getBoundingClientRect(),d=n.threshold;if("start"==n.edge&&(d=1-d),"vertical"==t){var g=p.top+p.height*d-m+e.scrollTop;return h?"end"==n.edge?Math.max(0,g-f):Math.min(g,e.scrollHeight-f):"end"==n.edge?g-f:g}var v=p.left+p.width*d-u+e.scrollLeft;return h?"end"==n.edge?Math.max(0,v-c):Math.min(v,e.scrollWidth-c):"end"==n.edge?v-c:v}}),!Reflect.defineProperty(window,"ScrollTimeline",{value:y}))throw Error("Error installing ScrollTimeline polyfill: could not attach ScrollTimeline to window");if(!Reflect.defineProperty(Element.prototype,"animate",{value:function(e,t){var n=t.timeline;n instanceof y&&delete t.timeline;var i=T.apply(this,[e,t]),r=new W(i,n);return n instanceof y&&(i.pause(),r.play()),r}}))throw Error("Error installing ScrollTimeline polyfill: could not attach WAAPI's animate to DOM Element");if(!Reflect.defineProperty(window,"Animation",{value:W}))throw Error("Error installing Animation constructor.")}();
>>>>>>> 7299c48 (Add missing features)
//# sourceMappingURL=scroll-timeline.js.map
